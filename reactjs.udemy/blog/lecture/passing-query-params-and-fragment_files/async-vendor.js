webpackJsonp(["async-vendor"],{"./node_modules/angular-confirm/angular-confirm.js":function(t,e,r){(function(t){r("./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls-0.13.1.js");t.module("angular-confirm",["ui.bootstrap"]).controller("ConfirmModalController",["$scope","$modalInstance","data",function(e,r,i){e.data=t.copy(i),e.ok=function(){r.close()},e.cancel=function(){r.dismiss("cancel")}}]).value("$confirmModalDefaults",{template:'<div class="modal-header"><h3 class="modal-title">{{data.title}}</h3></div><div class="modal-body">{{data.text}}</div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">{{data.ok}}</button><button class="btn btn-default" ng-click="cancel()">{{data.cancel}}</button></div>',controller:"ConfirmModalController",defaultLabels:{title:"Confirm",ok:"OK",cancel:"Cancel"}}).factory("$confirm",["$modal","$confirmModalDefaults",function(e,r){return function(i,o){var n=t.copy(r);return o=t.extend(n,o||{}),i=t.extend({},o.defaultLabels,i||{}),"templateUrl"in o&&"template"in o&&delete o.template,o.resolve={data:function(){return i}},e.open(o).result}}]).directive("confirm",["$confirm",function(e){return{priority:1,restrict:"A",scope:{confirmIf:"=",ngClick:"&",confirm:"@",confirmSettings:"=",confirmTitle:"@",confirmOk:"@",confirmCancel:"@"},link:function(r,i,o){i.unbind("click").bind("click",function(i){if(i.preventDefault(),t.isUndefined(r.confirmIf)||r.confirmIf){var o={text:r.confirm};r.confirmTitle&&(o.title=r.confirmTitle),r.confirmOk&&(o.ok=r.confirmOk),r.confirmCancel&&(o.cancel=r.confirmCancel),e(o,r.confirmSettings||{}).then(r.ngClick)}else r.$apply(r.ngClick)})}}}])}).call(e,r("./node_modules/angular/angular.js"))},"./node_modules/create-react-class/factory.js":function(t,e,r){"use strict";function i(t){return t}function o(t,e,r){function o(t,e){var r=b.hasOwnProperty(e)?b[e]:null;x.hasOwnProperty(e)&&a("OVERRIDE_BASE"===r,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&a("DEFINE_MANY"===r||"DEFINE_MANY_MERGED"===r,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function c(t,r){if(r){a("function"!=typeof r,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!e(r),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=t.prototype,n=i.__reactAutoBindPairs;r.hasOwnProperty(l)&&y.mixins(t,r.mixins);for(var s in r)if(r.hasOwnProperty(s)&&s!==l){var c=r[s],u=i.hasOwnProperty(s);if(o(u,s),y.hasOwnProperty(s))y[s](t,c);else{var d=b.hasOwnProperty(s),f="function"==typeof c,m=f&&!d&&!u&&!1!==r.autobind;if(m)n.push(s,c),i[s]=c;else if(u){var g=b[s];a(d&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,s),"DEFINE_MANY_MERGED"===g?i[s]=h(i[s],c):"DEFINE_MANY"===g&&(i[s]=p(i[s],c))}else i[s]=c}}}else;}function u(t,e){if(e)for(var r in e){var i=e[r];if(e.hasOwnProperty(r)){var o=r in y;a(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r);var n=r in t;a(!n,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r),t[r]=i}}}function d(t,e){a(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var r in e)e.hasOwnProperty(r)&&(a(void 0===t[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r),t[r]=e[r]);return t}function h(t,e){return function(){var r=t.apply(this,arguments),i=e.apply(this,arguments);if(null==r)return i;if(null==i)return r;var o={};return d(o,r),d(o,i),o}}function p(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function f(t,e){var r=e.bind(t);return r}function m(t){for(var e=t.__reactAutoBindPairs,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[i]=f(t,o)}}function g(t){var e=i(function(t,i,o){this.__reactAutoBindPairs.length&&m(this),this.props=t,this.context=i,this.refs=s,this.updater=o||r,this.state=null;var n=this.getInitialState?this.getInitialState():null;a("object"==typeof n&&!Array.isArray(n),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=n});e.prototype=new T,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],v.forEach(c.bind(null,e)),c(e,k),c(e,t),c(e,w),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),a(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var o in b)e.prototype[o]||(e.prototype[o]=null);return e}var v=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},y={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var r=0;r<e.length;r++)c(t,e[r])},childContextTypes:function(t,e){t.childContextTypes=n({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=n({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=h(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=n({},t.propTypes,e)},statics:function(t,e){u(t,e)},autobind:function(){}},k={componentDidMount:function(){this.__isMounted=!0}},w={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},T=function(){};return n(T.prototype,t.prototype,x),g}var n=r("./node_modules/object-assign/index.js"),s=r("./node_modules/fbjs/lib/emptyObject.js"),a=r("./node_modules/fbjs/lib/invariant.js"),l="mixins";t.exports=o},"./node_modules/create-react-class/index.js":function(t,e,r){"use strict";var i=r("./node_modules/react/react.js"),o=r("./node_modules/create-react-class/factory.js");if(void 0===i)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var n=(new i.Component).updater;t.exports=o(i.Component,i.isValidElement,n)},"./node_modules/isarray/index.js":function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},"./node_modules/react-bootstrap/lib/ControlLabel.js":function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r("./node_modules/babel-runtime/helpers/extends.js"),n=i(o),s=r("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),a=i(s),l=r("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=i(l),u=r("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=i(u),h=r("./node_modules/babel-runtime/helpers/inherits.js"),p=i(h),f=r("./node_modules/classnames/index.js"),m=i(f),g=r("./node_modules/react/react.js"),v=i(g),b=r("./node_modules/warning/browser.js"),y=(i(b),r("./node_modules/react-bootstrap/lib/utils/bootstrapUtils.js")),k={htmlFor:v.default.PropTypes.string,srOnly:v.default.PropTypes.bool},w={srOnly:!1},x={$bs_formGroup:v.default.PropTypes.object},T=function(t){function e(){return(0,c.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.render=function(){var t=this.context.$bs_formGroup,e=t&&t.controlId,r=this.props,i=r.htmlFor,o=void 0===i?e:i,s=r.srOnly,l=r.className,c=(0,a.default)(r,["htmlFor","srOnly","className"]),u=(0,y.splitBsProps)(c),d=u[0],h=u[1],p=(0,n.default)({},(0,y.getClassSet)(d),{"sr-only":s});return v.default.createElement("label",(0,n.default)({},h,{htmlFor:o,className:(0,m.default)(l,p)}))},e}(v.default.Component);T.propTypes=k,T.defaultProps=w,T.contextTypes=x,e.default=(0,y.bsClass)("control-label",T),t.exports=e.default},"./node_modules/react-bootstrap/lib/FormGroup.js":function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r("./node_modules/babel-runtime/helpers/extends.js"),n=i(o),s=r("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),a=i(s),l=r("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=i(l),u=r("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=i(u),h=r("./node_modules/babel-runtime/helpers/inherits.js"),p=i(h),f=r("./node_modules/classnames/index.js"),m=i(f),g=r("./node_modules/react/react.js"),v=i(g),b=r("./node_modules/react-bootstrap/lib/utils/bootstrapUtils.js"),y=r("./node_modules/react-bootstrap/lib/utils/StyleConfig.js"),k=r("./node_modules/react-bootstrap/lib/utils/ValidComponentChildren.js"),w=i(k),x={controlId:v.default.PropTypes.string,validationState:v.default.PropTypes.oneOf(["success","warning","error",null])},T={$bs_formGroup:v.default.PropTypes.object.isRequired},C=function(t){function e(){return(0,c.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.getChildContext=function(){var t=this.props;return{$bs_formGroup:{controlId:t.controlId,validationState:t.validationState}}},e.prototype.hasFeedback=function(t){var e=this;return w.default.some(t,function(t){return"feedback"===t.props.bsRole||t.props.children&&e.hasFeedback(t.props.children)})},e.prototype.render=function(){var t=this.props,e=t.validationState,r=t.className,i=t.children,o=(0,a.default)(t,["validationState","className","children"]),s=(0,b.splitBsPropsAndOmit)(o,["controlId"]),l=s[0],c=s[1],u=(0,n.default)({},(0,b.getClassSet)(l),{"has-feedback":this.hasFeedback(i)});return e&&(u["has-"+e]=!0),v.default.createElement("div",(0,n.default)({},c,{className:(0,m.default)(r,u)}),i)},e}(v.default.Component);C.propTypes=x,C.childContextTypes=T,e.default=(0,b.bsClass)("form-group",(0,b.bsSizes)([y.Size.LARGE,y.Size.SMALL],C)),t.exports=e.default},"./node_modules/react-bootstrap/lib/HelpBlock.js":function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r("./node_modules/babel-runtime/helpers/extends.js"),n=i(o),s=r("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),a=i(s),l=r("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=i(l),u=r("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=i(u),h=r("./node_modules/babel-runtime/helpers/inherits.js"),p=i(h),f=r("./node_modules/classnames/index.js"),m=i(f),g=r("./node_modules/react/react.js"),v=i(g),b=r("./node_modules/react-bootstrap/lib/utils/bootstrapUtils.js"),y=function(t){function e(){return(0,c.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,a.default)(t,["className"]),i=(0,b.splitBsProps)(r),o=i[0],s=i[1],l=(0,b.getClassSet)(o);return v.default.createElement("span",(0,n.default)({},s,{className:(0,m.default)(e,l)}))},e}(v.default.Component);e.default=(0,b.bsClass)("help-block",y),t.exports=e.default},"./node_modules/react-router-dom/es/BrowserRouter.js":function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=r("./node_modules/react/react.js"),a=r.n(s),l=r("./node_modules/react-router-dom/node_modules/history/createBrowserHistory.js"),c=r.n(l),u=r("./node_modules/react-router/es/index.js"),d=function(t){function e(){var r,n,s;i(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=o(this,t.call.apply(t,[this].concat(l))),n.history=c()(n.props),s=r,o(n,s)}return n(e,t),e.prototype.render=function(){return a.a.createElement(u.e,{history:this.history,children:this.props.children})},e}(a.a.Component);d.propTypes={basename:s.PropTypes.string,forceRefresh:s.PropTypes.bool,getUserConfirmation:s.PropTypes.func,keyLength:s.PropTypes.number,children:s.PropTypes.node},e.a=d},"./node_modules/react-router-dom/es/HashRouter.js":function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=r("./node_modules/react/react.js"),a=r.n(s),l=r("./node_modules/react-router-dom/node_modules/history/createHashHistory.js"),c=r.n(l),u=r("./node_modules/react-router/es/index.js"),d=function(t){function e(){var r,n,s;i(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=o(this,t.call.apply(t,[this].concat(l))),n.history=c()(n.props),s=r,o(n,s)}return n(e,t),e.prototype.render=function(){return a.a.createElement(u.e,{history:this.history,children:this.props.children})},e}(a.a.Component);d.propTypes={basename:s.PropTypes.string,getUserConfirmation:s.PropTypes.func,hashType:s.PropTypes.oneOf(["hashbang","noslash","slash"]),children:s.PropTypes.node},e.a=d},"./node_modules/react-router-dom/es/Link.js":function(t,e,r){"use strict";function i(t,e){var r={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=r("./node_modules/react/react.js"),l=r.n(a),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},u=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},d=function(t){function e(){var r,i,s;o(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return r=i=n(this,t.call.apply(t,[this].concat(l))),i.handleClick=function(t){if(i.props.onClick&&i.props.onClick(t),!t.defaultPrevented&&0===t.button&&!i.props.target&&!u(t)){t.preventDefault();var e=i.context.router.history,r=i.props,o=r.replace,n=r.to;o?e.replace(n):e.push(n)}},s=r,n(i,s)}return s(e,t),e.prototype.render=function(){var t=this.props,e=(t.replace,t.to),r=i(t,["replace","to"]),o=this.context.router.history.createHref("string"==typeof e?{pathname:e}:e);return l.a.createElement("a",c({},r,{onClick:this.handleClick,href:o}))},e}(l.a.Component);d.propTypes={onClick:a.PropTypes.func,target:a.PropTypes.string,replace:a.PropTypes.bool,to:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.object]).isRequired},d.defaultProps={replace:!1},d.contextTypes={router:a.PropTypes.shape({history:a.PropTypes.shape({push:a.PropTypes.func.isRequired,replace:a.PropTypes.func.isRequired,createHref:a.PropTypes.func.isRequired}).isRequired}).isRequired},e.a=d},"./node_modules/react-router-dom/es/MemoryRouter.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/es/index.js");r.d(e,"a",function(){return i.a})},"./node_modules/react-router-dom/es/NavLink.js":function(t,e,r){"use strict";function i(t,e){var r={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}var o=r("./node_modules/react/react.js"),n=r.n(o),s=r("./node_modules/react-router/es/index.js"),a=r("./node_modules/react-router-dom/es/Link.js"),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t){var e=t.to,r=t.exact,o=t.strict,u=t.activeClassName,d=t.className,h=t.activeStyle,p=t.style,f=t.isActive,m=i(t,["to","exact","strict","activeClassName","className","activeStyle","style","isActive"]);return n.a.createElement(s.d,{path:"object"===(void 0===e?"undefined":c(e))?e.pathname:e,exact:r,strict:o,children:function(t){var r=t.location,i=t.match,o=!!(f?f(i,r):i);return n.a.createElement(a.a,l({to:e,className:o?[u,d].join(" "):d,style:o?l({},p,h):p},m))}})};u.propTypes={to:a.a.propTypes.to,exact:o.PropTypes.bool,strict:o.PropTypes.bool,activeClassName:o.PropTypes.string,className:o.PropTypes.string,activeStyle:o.PropTypes.object,style:o.PropTypes.object,isActive:o.PropTypes.func},u.defaultProps={activeClassName:"active"},e.a=u},"./node_modules/react-router-dom/es/Prompt.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/es/index.js");r.d(e,"a",function(){return i.b})},"./node_modules/react-router-dom/es/Redirect.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/es/index.js");r.d(e,"a",function(){return i.c})},"./node_modules/react-router-dom/es/Route.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/es/index.js");r.d(e,"a",function(){return i.d})},"./node_modules/react-router-dom/es/Router.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/es/index.js");r.d(e,"a",function(){return i.e})},"./node_modules/react-router-dom/es/StaticRouter.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/es/index.js");r.d(e,"a",function(){return i.f})},"./node_modules/react-router-dom/es/Switch.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/es/index.js");r.d(e,"a",function(){return i.g})},"./node_modules/react-router-dom/es/index.js":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("./node_modules/react-router-dom/es/BrowserRouter.js");r.d(e,"BrowserRouter",function(){return i.a});var o=r("./node_modules/react-router-dom/es/HashRouter.js");r.d(e,"HashRouter",function(){return o.a});var n=r("./node_modules/react-router-dom/es/Link.js");r.d(e,"Link",function(){return n.a});var s=r("./node_modules/react-router-dom/es/MemoryRouter.js");r.d(e,"MemoryRouter",function(){return s.a});var a=r("./node_modules/react-router-dom/es/NavLink.js");r.d(e,"NavLink",function(){return a.a});var l=r("./node_modules/react-router-dom/es/Prompt.js");r.d(e,"Prompt",function(){return l.a});var c=r("./node_modules/react-router-dom/es/Redirect.js");r.d(e,"Redirect",function(){return c.a});var u=r("./node_modules/react-router-dom/es/Route.js");r.d(e,"Route",function(){return u.a});var d=r("./node_modules/react-router-dom/es/Router.js");r.d(e,"Router",function(){return d.a});var h=r("./node_modules/react-router-dom/es/StaticRouter.js");r.d(e,"StaticRouter",function(){return h.a});var p=r("./node_modules/react-router-dom/es/Switch.js");r.d(e,"Switch",function(){return p.a});var f=r("./node_modules/react-router-dom/es/matchPath.js");r.d(e,"matchPath",function(){return f.a});var m=r("./node_modules/react-router-dom/es/withRouter.js");r.d(e,"withRouter",function(){return m.a})},"./node_modules/react-router-dom/es/matchPath.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/es/index.js");r.d(e,"a",function(){return i.h})},"./node_modules/react-router-dom/es/withRouter.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/es/index.js");r.d(e,"a",function(){return i.i})},"./node_modules/react-router-dom/node_modules/history/DOMUtils.js":function(t,e,r){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),e.addEventListener=function(t,e,r){return t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)},e.removeEventListener=function(t,e,r){return t.removeEventListener?t.removeEventListener(e,r,!1):t.detachEvent("on"+e,r)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},"./node_modules/react-router-dom/node_modules/history/LocationUtils.js":function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},n=r("./node_modules/resolve-pathname/index.js"),s=i(n),a=r("./node_modules/value-equal/index.js"),l=i(a),c=r("./node_modules/react-router-dom/node_modules/history/PathUtils.js");e.createLocation=function(t,e,r,i){var n=void 0;"string"==typeof t?(n=(0,c.parsePath)(t),n.state=e):(n=o({},t),void 0===n.pathname&&(n.pathname=""),n.search?"?"!==n.search.charAt(0)&&(n.search="?"+n.search):n.search="",n.hash?"#"!==n.hash.charAt(0)&&(n.hash="#"+n.hash):n.hash="",void 0!==e&&void 0===n.state&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return r&&(n.key=r),i?n.pathname?"/"!==n.pathname.charAt(0)&&(n.pathname=(0,s.default)(n.pathname,i.pathname)):n.pathname=i.pathname:n.pathname||(n.pathname="/"),n},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,l.default)(t.state,e.state)}},"./node_modules/react-router-dom/node_modules/history/PathUtils.js":function(t,e,r){"use strict";e.__esModule=!0;var i=(e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.hasBasename=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)});e.stripBasename=function(t,e){return i(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function(t){var e=t||"/",r="",i="",o=e.indexOf("#");-1!==o&&(i=e.substr(o),e=e.substr(0,o));var n=e.indexOf("?");return-1!==n&&(r=e.substr(n),e=e.substr(0,n)),{pathname:e,search:"?"===r?"":r,hash:"#"===i?"":i}},e.createPath=function(t){var e=t.pathname,r=t.search,i=t.hash,o=e||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),i&&"#"!==i&&(o+="#"===i.charAt(0)?i:"#"+i),o}},"./node_modules/react-router-dom/node_modules/history/createBrowserHistory.js":function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},s=r("./node_modules/warning/browser.js"),a=i(s),l=r("./node_modules/react-router-dom/node_modules/invariant/browser.js"),c=i(l),u=r("./node_modules/react-router-dom/node_modules/history/LocationUtils.js"),d=r("./node_modules/react-router-dom/node_modules/history/PathUtils.js"),h=r("./node_modules/react-router-dom/node_modules/history/createTransitionManager.js"),p=i(h),f=r("./node_modules/react-router-dom/node_modules/history/DOMUtils.js"),m="popstate",g="hashchange",v=function(){try{return window.history.state||{}}catch(t){return{}}},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(f.canUseDOM,"Browser history needs a DOM");var e=window.history,r=(0,f.supportsHistory)(),i=!(0,f.supportsPopStateOnHashChange)(),s=t.forceRefresh,l=void 0!==s&&s,h=t.getUserConfirmation,b=void 0===h?f.getConfirmation:h,y=t.keyLength,k=void 0===y?6:y,w=t.basename?(0,d.stripTrailingSlash)((0,d.addLeadingSlash)(t.basename)):"",x=function(t){var e=t||{},r=e.key,i=e.state,o=window.location,n=o.pathname,s=o.search,l=o.hash,c=n+s+l;return(0,a.default)(!w||(0,d.hasBasename)(c,w),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+c+'" to begin with "'+w+'".'),w&&(c=(0,d.stripBasename)(c,w)),(0,u.createLocation)(c,i,r)},T=function(){return Math.random().toString(36).substr(2,k)},C=(0,p.default)(),E=function(t){n(V,t),V.length=e.length,C.notifyListeners(V.location,V.action)},P=function(t){(0,f.isExtraneousPopstateEvent)(t)||j(x(t.state))},S=function(){j(x(v()))},O=!1,j=function(t){if(O)O=!1,E();else{var e="POP";C.confirmTransitionTo(t,e,b,function(r){r?E({action:e,location:t}):_(t)})}},_=function(t){var e=V.location,r=R.indexOf(e.key);-1===r&&(r=0);var i=R.indexOf(t.key);-1===i&&(i=0);var o=r-i;o&&(O=!0,F(o))},A=x(v()),R=[A.key],$=function(t){return w+(0,d.createPath)(t)},N=function(t,i){(0,a.default)(!("object"===(void 0===t?"undefined":o(t))&&void 0!==t.state&&void 0!==i),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var n="PUSH",s=(0,u.createLocation)(t,i,T(),V.location);C.confirmTransitionTo(s,n,b,function(t){if(t){var i=$(s),o=s.key,c=s.state;if(r)if(e.pushState({key:o,state:c},null,i),l)window.location.href=i;else{var u=R.indexOf(V.location.key),d=R.slice(0,-1===u?0:u+1);d.push(s.key),R=d,E({action:n,location:s})}else(0,a.default)(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=i}})},D=function(t,i){(0,a.default)(!("object"===(void 0===t?"undefined":o(t))&&void 0!==t.state&&void 0!==i),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var n="REPLACE",s=(0,u.createLocation)(t,i,T(),V.location);C.confirmTransitionTo(s,n,b,function(t){if(t){var i=$(s),o=s.key,c=s.state;if(r)if(e.replaceState({key:o,state:c},null,i),l)window.location.replace(i);else{var u=R.indexOf(V.location.key);-1!==u&&(R[u]=s.key),E({action:n,location:s})}else(0,a.default)(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(i)}})},F=function(t){e.go(t)},L=function(){return F(-1)},I=function(){return F(1)},B=0,H=function(t){B+=t,1===B?((0,f.addEventListener)(window,m,P),i&&(0,f.addEventListener)(window,g,S)):0===B&&((0,f.removeEventListener)(window,m,P),i&&(0,f.removeEventListener)(window,g,S))},M=!1,U=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=C.setPrompt(t);return M||(H(1),M=!0),function(){return M&&(M=!1,H(-1)),e()}},z=function(t){var e=C.appendListener(t);return H(1),function(){H(-1),e()}},V={length:e.length,action:"POP",location:A,createHref:$,push:N,replace:D,go:F,goBack:L,goForward:I,block:U,listen:z};return V};e.default=b},"./node_modules/react-router-dom/node_modules/history/createHashHistory.js":function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},n=r("./node_modules/warning/browser.js"),s=i(n),a=r("./node_modules/react-router-dom/node_modules/invariant/browser.js"),l=i(a),c=r("./node_modules/react-router-dom/node_modules/history/LocationUtils.js"),u=r("./node_modules/react-router-dom/node_modules/history/PathUtils.js"),d=r("./node_modules/react-router-dom/node_modules/history/createTransitionManager.js"),h=i(d),p=r("./node_modules/react-router-dom/node_modules/history/DOMUtils.js"),f="hashchange",m={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+(0,u.stripLeadingSlash)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:u.stripLeadingSlash,decodePath:u.addLeadingSlash},slash:{encodePath:u.addLeadingSlash,decodePath:u.addLeadingSlash}},g=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},v=function(t){return window.location.hash=t},b=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.default)(p.canUseDOM,"Hash history needs a DOM");var e=window.history,r=(0,p.supportsGoWithoutReloadUsingHash)(),i=t.getUserConfirmation,n=void 0===i?p.getConfirmation:i,a=t.hashType,d=void 0===a?"slash":a,y=t.basename?(0,u.stripTrailingSlash)((0,u.addLeadingSlash)(t.basename)):"",k=m[d],w=k.encodePath,x=k.decodePath,T=function(){var t=x(g());return(0,s.default)(!y||(0,u.hasBasename)(t,y),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+y+'".'),y&&(t=(0,u.stripBasename)(t,y)),(0,c.createLocation)(t)},C=(0,h.default)(),E=function(t){o(q,t),q.length=e.length,C.notifyListeners(q.location,q.action)},P=!1,S=null,O=function(){var t=g(),e=w(t);if(t!==e)b(e);else{var r=T(),i=q.location;if(!P&&(0,c.locationsAreEqual)(i,r))return;if(S===(0,u.createPath)(r))return;S=null,j(r)}},j=function(t){if(P)P=!1,E();else{var e="POP";C.confirmTransitionTo(t,e,n,function(r){r?E({action:e,location:t}):_(t)})}},_=function(t){var e=q.location,r=N.lastIndexOf((0,u.createPath)(e));-1===r&&(r=0);var i=N.lastIndexOf((0,u.createPath)(t));-1===i&&(i=0);var o=r-i;o&&(P=!0,I(o))},A=g(),R=w(A);A!==R&&b(R);var $=T(),N=[(0,u.createPath)($)],D=function(t){return"#"+w(y+(0,u.createPath)(t))},F=function(t,e){(0,s.default)(void 0===e,"Hash history cannot push state; it is ignored");var r="PUSH",i=(0,c.createLocation)(t,void 0,void 0,q.location);C.confirmTransitionTo(i,r,n,function(t){if(t){var e=(0,u.createPath)(i),o=w(y+e);if(g()!==o){S=e,v(o);var n=N.lastIndexOf((0,u.createPath)(q.location)),a=N.slice(0,-1===n?0:n+1);a.push(e),N=a,E({action:r,location:i})}else(0,s.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),E()}})},L=function(t,e){(0,s.default)(void 0===e,"Hash history cannot replace state; it is ignored");var r="REPLACE",i=(0,c.createLocation)(t,void 0,void 0,q.location);C.confirmTransitionTo(i,r,n,function(t){if(t){var e=(0,u.createPath)(i),o=w(y+e);g()!==o&&(S=e,b(o));var n=N.indexOf((0,u.createPath)(q.location));-1!==n&&(N[n]=e),E({action:r,location:i})}})},I=function(t){(0,s.default)(r,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},B=function(){return I(-1)},H=function(){return I(1)},M=0,U=function(t){M+=t,1===M?(0,p.addEventListener)(window,f,O):0===M&&(0,p.removeEventListener)(window,f,O)},z=!1,V=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=C.setPrompt(t);return z||(U(1),z=!0),function(){return z&&(z=!1,U(-1)),e()}},Y=function(t){var e=C.appendListener(t);return U(1),function(){U(-1),e()}},q={length:e.length,action:"POP",location:$,createHref:D,push:F,replace:L,go:I,goBack:B,goForward:H,block:V,listen:Y};return q};e.default=y},"./node_modules/react-router-dom/node_modules/history/createTransitionManager.js":function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r("./node_modules/warning/browser.js"),n=i(o),s=function(){var t=null,e=function(e){return(0,n.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},r=function(e,r,i,o){if(null!=t){var s="function"==typeof t?t(e,r):t;"string"==typeof s?"function"==typeof i?i(s,o):((0,n.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==s)}else o(!0)},i=[];return{setPrompt:e,confirmTransitionTo:r,appendListener:function(t){var e=!0,r=function(){e&&t.apply(void 0,arguments)};return i.push(r),function(){e=!1,i=i.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];i.forEach(function(t){return t.apply(void 0,e)})}}};e.default=s},"./node_modules/react-router-dom/node_modules/invariant/browser.js":function(t,e,r){"use strict";var i=function(t,e,r,i,o,n,s,a){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,n,s,a],u=0;l=new Error(e.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};t.exports=i},"./node_modules/react-router/es/MemoryRouter.js":function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=r("./node_modules/warning/browser.js"),a=r.n(s),l=r("./node_modules/react/react.js"),c=r.n(l),u=r("./node_modules/react-router/node_modules/prop-types/index.js"),d=r.n(u),h=r("./node_modules/react-router/node_modules/history/createMemoryHistory.js"),p=r.n(h),f=r("./node_modules/react-router/es/Router.js"),m=function(t){function e(){var r,n,s;i(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return r=n=o(this,t.call.apply(t,[this].concat(l))),n.history=p()(n.props),s=r,o(n,s)}return n(e,t),e.prototype.componentWillMount=function(){a()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},e.prototype.render=function(){return c.a.createElement(f.a,{history:this.history,children:this.props.children})},e}(c.a.Component);m.propTypes={initialEntries:d.a.array,initialIndex:d.a.number,getUserConfirmation:d.a.func,keyLength:d.a.number,children:d.a.node},e.a=m},"./node_modules/react-router/es/Prompt.js":function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=r("./node_modules/react/react.js"),a=r.n(s),l=r("./node_modules/react-router/node_modules/prop-types/index.js"),c=r.n(l),u=r("./node_modules/react-router/node_modules/invariant/browser.js"),d=r.n(u),h=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return n(e,t),e.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},e.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},e.prototype.componentWillUnmount=function(){this.disable()},e.prototype.render=function(){return null},e}(a.a.Component);h.propTypes={when:c.a.bool,message:c.a.oneOfType([c.a.func,c.a.string]).isRequired},h.defaultProps={when:!0},h.contextTypes={router:c.a.shape({history:c.a.shape({block:c.a.func.isRequired}).isRequired}).isRequired},e.a=h},"./node_modules/react-router/es/Redirect.js":function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=r("./node_modules/react/react.js"),a=r.n(s),l=r("./node_modules/react-router/node_modules/prop-types/index.js"),c=r.n(l),u=r("./node_modules/warning/browser.js"),d=r.n(u),h=r("./node_modules/react-router/node_modules/invariant/browser.js"),p=r.n(h),f=r("./node_modules/react-router/node_modules/history/es/index.js"),m=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return n(e,t),e.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function(t){var e=Object(f.a)(t.to),r=Object(f.a)(this.props.to);if(Object(f.b)(e,r))return void d()(!1,"You tried to redirect to the same route you're currently on: \""+r.pathname+r.search+'"');this.perform()},e.prototype.perform=function(){var t=this.context.router.history,e=this.props,r=e.push,i=e.to;r?t.push(i):t.replace(i)},e.prototype.render=function(){return null},e}(a.a.Component);m.propTypes={push:c.a.bool,from:c.a.string,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired},m.defaultProps={push:!1},m.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired}).isRequired,staticContext:c.a.object}).isRequired},e.a=m},"./node_modules/react-router/es/Route.js":function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=r("./node_modules/warning/browser.js"),a=r.n(s),l=r("./node_modules/react-router/node_modules/invariant/browser.js"),c=r.n(l),u=r("./node_modules/react/react.js"),d=r.n(u),h=r("./node_modules/react-router/node_modules/prop-types/index.js"),p=r.n(h),f=r("./node_modules/react-router/es/matchPath.js"),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},g=function(t){return 0===d.a.Children.count(t)},v=function(t){function e(){var r,n,s;i(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return r=n=o(this,t.call.apply(t,[this].concat(l))),n.state={match:n.computeMatch(n.props,n.context.router)},s=r,o(n,s)}return n(e,t),e.prototype.getChildContext=function(){return{router:m({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var r=t.computedMatch,i=t.location,o=t.path,n=t.strict,s=t.exact,a=t.sensitive;if(r)return r;c()(e,"You should not use <Route> or withRouter() outside a <Router>");var l=e.route,u=(i||l.location).pathname;return o?Object(f.a)(u,{path:o,strict:n,exact:s,sensitive:a}):l.match},e.prototype.componentWillMount=function(){a()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),a()(!(this.props.component&&this.props.children&&!g(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),a()(!(this.props.render&&this.props.children&&!g(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){a()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),a()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,r=e.children,i=e.component,o=e.render,n=this.context.router,s=n.history,a=n.route,l=n.staticContext,c=this.props.location||a.location,u={match:t,location:c,history:s,staticContext:l};return i?t?d.a.createElement(i,u):null:o?t?o(u):null:r?"function"==typeof r?r(u):g(r)?null:d.a.Children.only(r):null},e}(d.a.Component);v.propTypes={computedMatch:p.a.object,path:p.a.string,exact:p.a.bool,strict:p.a.bool,sensitive:p.a.bool,component:p.a.func,render:p.a.func,children:p.a.oneOfType([p.a.func,p.a.node]),location:p.a.object},v.contextTypes={router:p.a.shape({history:p.a.object.isRequired,route:p.a.object.isRequired,staticContext:p.a.object})},v.childContextTypes={router:p.a.object.isRequired},e.a=v},"./node_modules/react-router/es/Router.js":function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=r("./node_modules/warning/browser.js"),a=r.n(s),l=r("./node_modules/react-router/node_modules/invariant/browser.js"),c=r.n(l),u=r("./node_modules/react/react.js"),d=r.n(u),h=r("./node_modules/react-router/node_modules/prop-types/index.js"),p=r.n(h),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},m=function(t){function e(){var r,n,s;i(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return r=n=o(this,t.call.apply(t,[this].concat(l))),n.state={match:n.computeMatch(n.props.history.location.pathname)},s=r,o(n,s)}return n(e,t),e.prototype.getChildContext=function(){return{router:f({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,r=e.children,i=e.history;c()(null==r||1===d.a.Children.count(r),"A <Router> may have only one child element"),this.unlisten=i.listen(function(){t.setState({match:t.computeMatch(i.location.pathname)})})},e.prototype.componentWillReceiveProps=function(t){a()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?d.a.Children.only(t):null},e}(d.a.Component);m.propTypes={history:p.a.object.isRequired,children:p.a.node},m.contextTypes={router:p.a.object},m.childContextTypes={router:p.a.object.isRequired},e.a=m},"./node_modules/react-router/es/StaticRouter.js":function(t,e,r){"use strict";function i(t,e){var r={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=r("./node_modules/warning/browser.js"),l=r.n(a),c=r("./node_modules/react-router/node_modules/invariant/browser.js"),u=r.n(c),d=r("./node_modules/react/react.js"),h=r.n(d),p=r("./node_modules/react-router/node_modules/prop-types/index.js"),f=r.n(p),m=r("./node_modules/react-router/node_modules/history/PathUtils.js"),g=(r.n(m),r("./node_modules/react-router/es/Router.js")),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},b=function(t){var e=t.pathname,r=void 0===e?"/":e,i=t.search,o=void 0===i?"":i,n=t.hash,s=void 0===n?"":n;return{pathname:r,search:"?"===o?"":o,hash:"#"===s?"":s}},y=function(t,e){return t?v({},e,{pathname:Object(m.addLeadingSlash)(t)+e.pathname}):e},k=function(t,e){if(!t)return e;var r=Object(m.addLeadingSlash)(t);return 0!==e.pathname.indexOf(r)?e:v({},e,{pathname:e.pathname.substr(r.length)})},w=function(t){return"string"==typeof t?Object(m.parsePath)(t):b(t)},x=function(t){return"string"==typeof t?t:Object(m.createPath)(t)},T=function(t){return function(){u()(!1,"You cannot %s with <StaticRouter>",t)}},C=function(){},E=function(t){function e(){var r,i,s;o(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return r=i=n(this,t.call.apply(t,[this].concat(l))),i.createHref=function(t){return Object(m.addLeadingSlash)(i.props.basename+x(t))},i.handlePush=function(t){var e=i.props,r=e.basename,o=e.context;o.action="PUSH",o.location=y(r,w(t)),o.url=x(o.location)},i.handleReplace=function(t){var e=i.props,r=e.basename,o=e.context;o.action="REPLACE",o.location=y(r,w(t)),o.url=x(o.location)},i.handleListen=function(){return C},i.handleBlock=function(){return C},s=r,n(i,s)}return s(e,t),e.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},e.prototype.componentWillMount=function(){l()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},e.prototype.render=function(){var t=this.props,e=t.basename,r=(t.context,t.location),o=i(t,["basename","context","location"]),n={createHref:this.createHref,action:"POP",location:k(e,w(r)),push:this.handlePush,replace:this.handleReplace,go:T("go"),goBack:T("goBack"),goForward:T("goForward"),listen:this.handleListen,block:this.handleBlock};return h.a.createElement(g.a,v({},o,{history:n}))},e}(h.a.Component);E.propTypes={basename:f.a.string,context:f.a.object.isRequired,location:f.a.oneOfType([f.a.string,f.a.object])},E.defaultProps={basename:"",location:"/"},E.childContextTypes={router:f.a.object.isRequired},e.a=E},"./node_modules/react-router/es/Switch.js":function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=r("./node_modules/react/react.js"),a=r.n(s),l=r("./node_modules/react-router/node_modules/prop-types/index.js"),c=r.n(l),u=r("./node_modules/warning/browser.js"),d=r.n(u),h=r("./node_modules/react-router/node_modules/invariant/browser.js"),p=r.n(h),f=r("./node_modules/react-router/es/matchPath.js"),m=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return n(e,t),e.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){d()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),d()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t=this.context.router.route,e=this.props.children,r=this.props.location||t.location,i=void 0,o=void 0;return a.a.Children.forEach(e,function(e){if(a.a.isValidElement(e)){var n=e.props,s=n.path,l=n.exact,c=n.strict,u=n.sensitive,d=n.from,h=s||d;null==i&&(o=e,i=h?Object(f.a)(r.pathname,{path:h,exact:l,strict:c,sensitive:u}):t.match)}}),i?a.a.cloneElement(o,{location:r,computedMatch:i}):null},e}(a.a.Component);m.contextTypes={router:c.a.shape({route:c.a.object.isRequired}).isRequired},m.propTypes={children:c.a.node,location:c.a.object},e.a=m},"./node_modules/react-router/es/index.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/es/MemoryRouter.js");r.d(e,"a",function(){return i.a});var o=r("./node_modules/react-router/es/Prompt.js");r.d(e,"b",function(){return o.a});var n=r("./node_modules/react-router/es/Redirect.js");r.d(e,"c",function(){return n.a});var s=r("./node_modules/react-router/es/Route.js");r.d(e,"d",function(){return s.a});var a=r("./node_modules/react-router/es/Router.js");r.d(e,"e",function(){return a.a});var l=r("./node_modules/react-router/es/StaticRouter.js");r.d(e,"f",function(){return l.a});var c=r("./node_modules/react-router/es/Switch.js");r.d(e,"g",function(){return c.a});var u=r("./node_modules/react-router/es/matchPath.js");r.d(e,"h",function(){return u.a});var d=r("./node_modules/react-router/es/withRouter.js");r.d(e,"i",function(){return d.a})},"./node_modules/react-router/es/matchPath.js":function(t,e,r){"use strict";var i=r("./node_modules/react-router/node_modules/path-to-regexp/index.js"),o=r.n(i),n={},s=1e4,a=0,l=function(t,e){var r=""+e.end+e.strict+e.sensitive,i=n[r]||(n[r]={});if(i[t])return i[t];var l=[],c=o()(t,l,e),u={re:c,keys:l};return a<s&&(i[t]=u,a++),u},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&(e={path:e});var r=e,i=r.path,o=void 0===i?"/":i,n=r.exact,s=void 0!==n&&n,a=r.strict,c=void 0!==a&&a,u=r.sensitive,d=void 0!==u&&u,h=l(o,{end:s,strict:c,sensitive:d}),p=h.re,f=h.keys,m=p.exec(t);if(!m)return null;var g=m[0],v=m.slice(1),b=t===g;return s&&!b?null:{path:o,url:"/"===o&&""===g?"/":g,isExact:b,params:f.reduce(function(t,e,r){return t[e.name]=v[r],t},{})}};e.a=c},"./node_modules/react-router/es/withRouter.js":function(t,e,r){"use strict";function i(t,e){var r={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}var o=r("./node_modules/react/react.js"),n=r.n(o),s=r("./node_modules/react-router/node_modules/prop-types/index.js"),a=r.n(s),l=r("./node_modules/react-router/node_modules/hoist-non-react-statics/index.js"),c=r.n(l),u=r("./node_modules/react-router/es/Route.js"),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},h=function(t){var e=function(e){var r=e.wrappedComponentRef,o=i(e,["wrappedComponentRef"]);return n.a.createElement(u.a,{render:function(e){return n.a.createElement(t,d({},o,e,{ref:r}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:a.a.func},c()(e,t)};e.a=h},"./node_modules/react-router/node_modules/history/LocationUtils.js":function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},n=r("./node_modules/resolve-pathname/index.js"),s=i(n),a=r("./node_modules/value-equal/index.js"),l=i(a),c=r("./node_modules/react-router/node_modules/history/PathUtils.js");e.createLocation=function(t,e,r,i){var n=void 0;"string"==typeof t?(n=(0,c.parsePath)(t),n.state=e):(n=o({},t),void 0===n.pathname&&(n.pathname=""),n.search?"?"!==n.search.charAt(0)&&(n.search="?"+n.search):n.search="",n.hash?"#"!==n.hash.charAt(0)&&(n.hash="#"+n.hash):n.hash="",void 0!==e&&void 0===n.state&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return r&&(n.key=r),i?n.pathname?"/"!==n.pathname.charAt(0)&&(n.pathname=(0,s.default)(n.pathname,i.pathname)):n.pathname=i.pathname:n.pathname||(n.pathname="/"),n},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,l.default)(t.state,e.state)}},"./node_modules/react-router/node_modules/history/PathUtils.js":function(t,e,r){"use strict";e.__esModule=!0;var i=(e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.hasBasename=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)});e.stripBasename=function(t,e){return i(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function(t){var e=t||"/",r="",i="",o=e.indexOf("#");-1!==o&&(i=e.substr(o),e=e.substr(0,o));var n=e.indexOf("?");return-1!==n&&(r=e.substr(n),e=e.substr(0,n)),{pathname:e,search:"?"===r?"":r,hash:"#"===i?"":i}},e.createPath=function(t){var e=t.pathname,r=t.search,i=t.hash,o=e||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),i&&"#"!==i&&(o+="#"===i.charAt(0)?i:"#"+i),o}},"./node_modules/react-router/node_modules/history/createMemoryHistory.js":function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},s=r("./node_modules/warning/browser.js"),a=i(s),l=r("./node_modules/react-router/node_modules/history/PathUtils.js"),c=r("./node_modules/react-router/node_modules/history/LocationUtils.js"),u=r("./node_modules/react-router/node_modules/history/createTransitionManager.js"),d=i(u),h=function(t,e,r){return Math.min(Math.max(t,e),r)},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,s=t.initialIndex,u=void 0===s?0:s,p=t.keyLength,f=void 0===p?6:p,m=(0,d.default)(),g=function(t){n(j,t),j.length=j.entries.length,m.notifyListeners(j.location,j.action)},v=function(){return Math.random().toString(36).substr(2,f)},b=h(u,0,i.length-1),y=i.map(function(t){return"string"==typeof t?(0,c.createLocation)(t,void 0,v()):(0,c.createLocation)(t,void 0,t.key||v())}),k=l.createPath,w=function(t,r){(0,a.default)(!("object"===(void 0===t?"undefined":o(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i="PUSH",n=(0,c.createLocation)(t,r,v(),j.location);m.confirmTransitionTo(n,i,e,function(t){if(t){var e=j.index,r=e+1,o=j.entries.slice(0);o.length>r?o.splice(r,o.length-r,n):o.push(n),g({action:i,location:n,index:r,entries:o})}})},x=function(t,r){(0,a.default)(!("object"===(void 0===t?"undefined":o(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i="REPLACE",n=(0,c.createLocation)(t,r,v(),j.location);m.confirmTransitionTo(n,i,e,function(t){t&&(j.entries[j.index]=n,g({action:i,location:n}))})},T=function(t){var r=h(j.index+t,0,j.entries.length-1),i="POP",o=j.entries[r];m.confirmTransitionTo(o,i,e,function(t){t?g({action:i,location:o,index:r}):g()})},C=function(){return T(-1)},E=function(){return T(1)},P=function(t){var e=j.index+t;return e>=0&&e<j.entries.length},S=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.setPrompt(t)},O=function(t){return m.appendListener(t)},j={length:y.length,action:"POP",location:y[b],index:b,entries:y,createHref:k,push:w,replace:x,go:T,goBack:C,goForward:E,canGo:P,block:S,listen:O};return j};e.default=p},"./node_modules/react-router/node_modules/history/createTransitionManager.js":function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r("./node_modules/warning/browser.js"),n=i(o),s=function(){var t=null,e=function(e){return(0,n.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},r=function(e,r,i,o){if(null!=t){var s="function"==typeof t?t(e,r):t;"string"==typeof s?"function"==typeof i?i(s,o):((0,n.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==s)}else o(!0)},i=[];return{setPrompt:e,confirmTransitionTo:r,appendListener:function(t){var e=!0,r=function(){e&&t.apply(void 0,arguments)};return i.push(r),function(){e=!1,i=i.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];i.forEach(function(t){return t.apply(void 0,e)})}}};e.default=s},"./node_modules/react-router/node_modules/history/es/DOMUtils.js":function(t,e,r){"use strict";r.d(e,"b",function(){return i}),r.d(e,"a",function(){return o}),r.d(e,"e",function(){return n}),r.d(e,"c",function(){return s}),r.d(e,"g",function(){return a}),r.d(e,"h",function(){return l}),r.d(e,"f",function(){return c}),r.d(e,"d",function(){return u});var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o=function(t,e,r){return t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)},n=function(t,e,r){return t.removeEventListener?t.removeEventListener(e,r,!1):t.detachEvent("on"+e,r)},s=function(t,e){return e(window.confirm(t))},a=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},l=function(){return-1===window.navigator.userAgent.indexOf("Trident")},c=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},u=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},"./node_modules/react-router/node_modules/history/es/LocationUtils.js":function(t,e,r){"use strict";r.d(e,"a",function(){return a}),r.d(e,"b",function(){return l});var i=r("./node_modules/resolve-pathname/index.js"),o=r("./node_modules/value-equal/index.js"),n=r("./node_modules/react-router/node_modules/history/es/PathUtils.js"),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},a=function(t,e,r,o){var a=void 0;"string"==typeof t?(a=Object(n.d)(t),a.state=e):(a=s({},t),void 0===a.pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==e&&void 0===a.state&&(a.state=e));try{a.pathname=decodeURI(a.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return r&&(a.key=r),o?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Object(i.default)(a.pathname,o.pathname)):a.pathname=o.pathname:a.pathname||(a.pathname="/"),a},l=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Object(o.default)(t.state,e.state)}},"./node_modules/react-router/node_modules/history/es/PathUtils.js":function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"f",function(){return o}),r.d(e,"c",function(){return n}),r.d(e,"e",function(){return s}),r.d(e,"g",function(){return a}),r.d(e,"d",function(){return l}),r.d(e,"b",function(){return c});var i=function(t){return"/"===t.charAt(0)?t:"/"+t},o=function(t){return"/"===t.charAt(0)?t.substr(1):t},n=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},s=function(t,e){return n(t,e)?t.substr(e.length):t},a=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},l=function(t){var e=t||"/",r="",i="",o=e.indexOf("#");-1!==o&&(i=e.substr(o),e=e.substr(0,o));var n=e.indexOf("?");return-1!==n&&(r=e.substr(n),e=e.substr(0,n)),{pathname:e,search:"?"===r?"":r,hash:"#"===i?"":i}},c=function(t){var e=t.pathname,r=t.search,i=t.hash,o=e||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),i&&"#"!==i&&(o+="#"===i.charAt(0)?i:"#"+i),o}},"./node_modules/react-router/node_modules/history/es/createBrowserHistory.js":function(t,e,r){"use strict";var i=r("./node_modules/warning/browser.js"),o=(r.n(i),r("./node_modules/react-router/node_modules/invariant/browser.js"));r.n(o),r("./node_modules/react-router/node_modules/history/es/LocationUtils.js"),r("./node_modules/react-router/node_modules/history/es/PathUtils.js"),r("./node_modules/react-router/node_modules/history/es/createTransitionManager.js"),r("./node_modules/react-router/node_modules/history/es/DOMUtils.js"),"function"==typeof Symbol&&Symbol.iterator,Object.assign},"./node_modules/react-router/node_modules/history/es/createHashHistory.js":function(t,e,r){"use strict";var i=r("./node_modules/warning/browser.js"),o=(r.n(i),r("./node_modules/react-router/node_modules/invariant/browser.js")),n=(r.n(o),r("./node_modules/react-router/node_modules/history/es/LocationUtils.js"),r("./node_modules/react-router/node_modules/history/es/PathUtils.js"));r("./node_modules/react-router/node_modules/history/es/createTransitionManager.js"),r("./node_modules/react-router/node_modules/history/es/DOMUtils.js"),Object.assign,n.f,n.a,n.a,n.a},"./node_modules/react-router/node_modules/history/es/createMemoryHistory.js":function(t,e,r){"use strict";var i=r("./node_modules/warning/browser.js");r.n(i),r("./node_modules/react-router/node_modules/history/es/PathUtils.js"),r("./node_modules/react-router/node_modules/history/es/LocationUtils.js"),r("./node_modules/react-router/node_modules/history/es/createTransitionManager.js"),"function"==typeof Symbol&&Symbol.iterator,Object.assign},"./node_modules/react-router/node_modules/history/es/createTransitionManager.js":function(t,e,r){"use strict";var i=r("./node_modules/warning/browser.js"),o=r.n(i),n=function(){var t=null,e=function(e){return o()(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},r=function(e,r,i,n){if(null!=t){var s="function"==typeof t?t(e,r):t;"string"==typeof s?"function"==typeof i?i(s,n):(o()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),n(!0)):n(!1!==s)}else n(!0)},i=[];return{setPrompt:e,confirmTransitionTo:r,appendListener:function(t){var e=!0,r=function(){e&&t.apply(void 0,arguments)};return i.push(r),function(){e=!1,i=i.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];i.forEach(function(t){return t.apply(void 0,e)})}}};e.a=n},"./node_modules/react-router/node_modules/history/es/index.js":function(t,e,r){"use strict";var i=(r("./node_modules/react-router/node_modules/history/es/createBrowserHistory.js"),r("./node_modules/react-router/node_modules/history/es/createHashHistory.js"),r("./node_modules/react-router/node_modules/history/es/createMemoryHistory.js"),r("./node_modules/react-router/node_modules/history/es/LocationUtils.js"));r.d(e,"a",function(){return i.a}),r.d(e,"b",function(){return i.b});r("./node_modules/react-router/node_modules/history/es/PathUtils.js")},"./node_modules/react-router/node_modules/hoist-non-react-statics/index.js":function(t,e,r){"use strict";var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object);t.exports=function t(e,r,d){if("string"!=typeof r){if(u){var h=c(r);h&&h!==u&&t(e,h,d)}var p=s(r);a&&(p=p.concat(a(r)));for(var f=0;f<p.length;++f){var m=p[f];if(!(i[m]||o[m]||d&&d[m])){var g=l(r,m);try{n(e,m,g)}catch(t){}}}return e}return e}},"./node_modules/react-router/node_modules/invariant/browser.js":function(t,e,r){"use strict";var i=function(t,e,r,i,o,n,s,a){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,n,s,a],u=0;l=new Error(e.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};t.exports=i},"./node_modules/react-router/node_modules/path-to-regexp/index.js":function(t,e,r){function i(t,e){for(var r,i=[],o=0,n=0,s="",a=e&&e.delimiter||"/";null!=(r=b.exec(t));){var u=r[0],d=r[1],h=r.index;if(s+=t.slice(n,h),n=h+u.length,d)s+=d[1];else{var p=t[n],f=r[2],m=r[3],g=r[4],v=r[5],y=r[6],k=r[7];s&&(i.push(s),s="");var w=null!=f&&null!=p&&p!==f,x="+"===y||"*"===y,T="?"===y||"*"===y,C=r[2]||a,E=g||v;i.push({name:m||o++,prefix:f||"",delimiter:C,optional:T,repeat:x,partial:w,asterisk:!!k,pattern:E?c(E):k?".*":"[^"+l(C)+"]+?"})}}return n<t.length&&(s+=t.substr(n)),s&&i.push(s),i}function o(t,e){return a(i(t,e))}function n(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,i){for(var o="",a=r||{},l=i||{},c=l.pretty?n:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if("string"!=typeof d){var h,p=a[d.name];if(null==p){if(d.optional){d.partial&&(o+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(v(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(h=c(p[f]),!e[u].test(h))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===f?d.prefix:d.delimiter)+h}}else{if(h=d.asterisk?s(p):c(p),!e[u].test(h))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+h+'"');o+=d.prefix+h}}else o+=d}return o}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t,e){return t.keys=e,t}function d(t){return t.sensitive?"":"i"}function h(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(t,e)}function p(t,e,r){for(var i=[],o=0;o<t.length;o++)i.push(g(t[o],e,r).source);return u(new RegExp("(?:"+i.join("|")+")",d(r)),e)}function f(t,e,r){return m(i(t,r),e,r)}function m(t,e,r){v(e)||(r=e||r,e=[]),r=r||{};for(var i=r.strict,o=!1!==r.end,n="",s=0;s<t.length;s++){var a=t[s];if("string"==typeof a)n+=l(a);else{var c=l(a.prefix),h="(?:"+a.pattern+")";e.push(a),a.repeat&&(h+="(?:"+c+h+")*"),h=a.optional?a.partial?c+"("+h+")?":"(?:"+c+"("+h+"))?":c+"("+h+")",n+=h}}var p=l(r.delimiter||"/"),f=n.slice(-p.length)===p;return i||(n=(f?n.slice(0,-p.length):n)+"(?:"+p+"(?=$))?"),n+=o?"$":i&&f?"":"(?="+p+"|$)",u(new RegExp("^"+n,d(r)),e)}function g(t,e,r){return v(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?h(t,e):v(t)?p(t,e,r):f(t,e,r)}var v=r("./node_modules/isarray/index.js");t.exports=g,t.exports.parse=i,t.exports.compile=o,t.exports.tokensToFunction=a,t.exports.tokensToRegExp=m;var b=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},"./node_modules/react-router/node_modules/prop-types/factoryWithThrowingShims.js":function(t,e,r){"use strict";var i=r("./node_modules/fbjs/lib/emptyFunction.js"),o=r("./node_modules/fbjs/lib/invariant.js"),n=r("./node_modules/react-router/node_modules/prop-types/lib/ReactPropTypesSecret.js");t.exports=function(){function t(t,e,r,i,s,a){a!==n&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return r.checkPropTypes=i,r.PropTypes=r,r}},"./node_modules/react-router/node_modules/prop-types/index.js":function(t,e,r){t.exports=r("./node_modules/react-router/node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/react-router/node_modules/prop-types/lib/ReactPropTypesSecret.js":function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/resolve-pathname/index.js":function(t,e,r){"use strict";function i(t){return"/"===t.charAt(0)}function o(t,e){for(var r=e,i=r+1,o=t.length;i<o;r+=1,i+=1)t[r]=t[i];t.pop()}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t&&t.split("/")||[],n=e&&e.split("/")||[],s=t&&i(t),a=e&&i(e),l=s||a;if(t&&i(t)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var c=void 0;if(n.length){var u=n[n.length-1];c="."===u||".."===u||""===u}else c=!1;for(var d=0,h=n.length;h>=0;h--){var p=n[h];"."===p?o(n,h):".."===p?(o(n,h),d++):d&&(o(n,h),d--)}if(!l)for(;d--;d)n.unshift("..");!l||""===n[0]||n[0]&&i(n[0])||n.unshift("");var f=n.join("/");return c&&"/"!==f.substr(-1)&&(f+="/"),f}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"./node_modules/value-equal/index.js":function(t,e,r){"use strict";function i(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,r){return i(t,e[r])});var r=void 0===t?"undefined":o(t);if(r!==(void 0===e?"undefined":o(e)))return!1;if("object"===r){var n=t.valueOf(),s=e.valueOf();if(n!==t||s!==e)return i(n,s);var a=Object.keys(t),l=Object.keys(e);return a.length===l.length&&a.every(function(r){return i(t[r],e[r])})}return!1}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=i},"./node_modules/velocity-animate/velocity.js":function(t,e,r){(function(i,o){var n,s;/*! VelocityJS.org (1.5.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(t){"use strict";function e(t){var e=t.length,i=r.type(t);return"function"!==i&&!r.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}if(!i){var r=function(t,e){return new r.fn.init(t,e)};r.isWindow=function(t){return t&&t===t.window},r.type=function(t){return t?"object"==typeof t||"function"==typeof t?n[a.call(t)]||"object":typeof t:t+""},r.isArray=Array.isArray||function(t){return"array"===r.type(t)},r.isPlainObject=function(t){var e;if(!t||"object"!==r.type(t)||t.nodeType||r.isWindow(t))return!1;try{if(t.constructor&&!s.call(t,"constructor")&&!s.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(e in t);return void 0===e||s.call(t,e)},r.each=function(t,r,i){var o=0,n=t.length,s=e(t);if(i){if(s)for(;o<n&&!1!==r.apply(t[o],i);o++);else for(o in t)if(t.hasOwnProperty(o)&&!1===r.apply(t[o],i))break}else if(s)for(;o<n&&!1!==r.call(t[o],o,t[o]);o++);else for(o in t)if(t.hasOwnProperty(o)&&!1===r.call(t[o],o,t[o]))break;return t},r.data=function(t,e,i){if(void 0===i){var n=t[r.expando],s=n&&o[n];if(void 0===e)return s;if(s&&e in s)return s[e]}else if(void 0!==e){var a=t[r.expando]||(t[r.expando]=++r.uuid);return o[a]=o[a]||{},o[a][e]=i,i}},r.removeData=function(t,e){var i=t[r.expando],n=i&&o[i];n&&(e?r.each(e,function(t,e){delete n[e]}):delete o[i])},r.extend=function(){var t,e,i,o,n,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"!=typeof a&&"function"!==r.type(a)&&(a={}),l===c&&(a=this,l--);l<c;l++)if(n=arguments[l])for(o in n)n.hasOwnProperty(o)&&(t=a[o],i=n[o],a!==i&&(u&&i&&(r.isPlainObject(i)||(e=r.isArray(i)))?(e?(e=!1,s=t&&r.isArray(t)?t:[]):s=t&&r.isPlainObject(t)?t:{},a[o]=r.extend(u,s,i)):void 0!==i&&(a[o]=i)));return a},r.queue=function(t,i,o){function n(t,r){var i=r||[];return t&&(e(Object(t))?function(t,e){for(var r=+e.length,i=0,o=t.length;i<r;)t[o++]=e[i++];if(r!==r)for(;void 0!==e[i];)t[o++]=e[i++];t.length=o}(i,"string"==typeof t?[t]:t):[].push.call(i,t)),i}if(t){i=(i||"fx")+"queue";var s=r.data(t,i);return o?(!s||r.isArray(o)?s=r.data(t,i,n(o)):s.push(o),s):s||[]}},r.dequeue=function(t,e){r.each(t.nodeType?[t]:t,function(t,i){e=e||"fx";var o=r.queue(i,e),n=o.shift();"inprogress"===n&&(n=o.shift()),n&&("fx"===e&&o.unshift("inprogress"),n.call(i,function(){r.dequeue(i,e)}))})},r.fn=r.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function t(t){for(var e=t.offsetParent;e&&"html"!==e.nodeName.toLowerCase()&&e.style&&"static"===e.style.position;)e=e.offsetParent;return e||document}var e=this[0],i=t(e),o=this.offset(),n=/^(?:body|html)$/i.test(i.nodeName)?{top:0,left:0}:r(i).offset();return o.top-=parseFloat(e.style.marginTop)||0,o.left-=parseFloat(e.style.marginLeft)||0,i.style&&(n.top+=parseFloat(i.style.borderTopWidth)||0,n.left+=parseFloat(i.style.borderLeftWidth)||0),{top:o.top-n.top,left:o.left-n.left}}};var o={};r.expando="velocity"+(new Date).getTime(),r.uuid=0;for(var n={},s=n.hasOwnProperty,a=n.toString,l="Boolean Number String Function Array Date RegExp Object Error".split(" "),c=0;c<l.length;c++)n["[object "+l[c]+"]"]=l[c].toLowerCase();r.fn.init.prototype=r.fn,t.Velocity={Utilities:r}}}(window),function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i():(n=i,void 0!==(s="function"==typeof n?n.call(e,r,e,t):n)&&(t.exports=s))}(function(){"use strict";return function(t,e,r,i){function n(t){for(var e=-1,r=t?t.length:0,i=[];++e<r;){var o=t[e];o&&i.push(o)}return i}function s(t){return w.isWrapped(t)?t=y.call(t):w.isNode(t)&&(t=[t]),t}function a(t){var e=m.data(t,"velocity");return null===e?i:e}function l(t,e){var r=a(t);r&&r.delayTimer&&!r.delayPaused&&(r.delayRemaining=r.delay-e+r.delayBegin,r.delayPaused=!0,clearTimeout(r.delayTimer.setTimeout))}function c(t,e){var r=a(t);r&&r.delayTimer&&r.delayPaused&&(r.delayPaused=!1,r.delayTimer.setTimeout=setTimeout(r.delayTimer.next,r.delayRemaining))}function u(t){return function(e){return Math.round(e*t)*(1/t)}}function d(t,r,i,o){function n(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function a(t){return 3*t}function l(t,e,r){return((n(e,r)*t+s(e,r))*t+a(e))*t}function c(t,e,r){return 3*n(e,r)*t*t+2*s(e,r)*t+a(e)}function u(e,r){for(var o=0;o<m;++o){var n=c(r,t,i);if(0===n)return r;r-=(l(r,t,i)-e)/n}return r}function d(){for(var e=0;e<y;++e)T[e]=l(e*k,t,i)}function h(e,r,o){var n,s,a=0;do{s=r+(o-r)/2,n=l(s,t,i)-e,n>0?o=s:r=s}while(Math.abs(n)>v&&++a<b);return s}function p(e){for(var r=0,o=1,n=y-1;o!==n&&T[o]<=e;++o)r+=k;--o;var s=(e-T[o])/(T[o+1]-T[o]),a=r+s*k,l=c(a,t,i);return l>=g?u(e,a):0===l?a:h(e,r,r+k)}function f(){C=!0,t===r&&i===o||d()}var m=4,g=.001,v=1e-7,b=10,y=11,k=1/(y-1),w="Float32Array"in e;if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;t=Math.min(t,1),i=Math.min(i,1),t=Math.max(t,0),i=Math.max(i,0);var T=w?new Float32Array(y):new Array(y),C=!1,E=function(e){return C||f(),t===r&&i===o?e:0===e?0:1===e?1:l(p(e),r,o)};E.getControlPoints=function(){return[{x:t,y:r},{x:i,y:o}]};var P="generateBezier("+[t,r,i,o]+")";return E.toString=function(){return P},E}function h(t,e){var r=t;return w.isString(t)?E.Easings[t]||(r=!1):r=w.isArray(t)&&1===t.length?u.apply(null,t):w.isArray(t)&&2===t.length?P.apply(null,t.concat([e])):!(!w.isArray(t)||4!==t.length)&&d.apply(null,t),!1===r&&(r=E.Easings[E.defaults.easing]?E.defaults.easing:C),r}function p(t){if(t){var e=E.timestamp&&!0!==t?t:b.now(),r=E.State.calls.length;r>1e4&&(E.State.calls=n(E.State.calls),r=E.State.calls.length);for(var o=0;o<r;o++)if(E.State.calls[o]){var s=E.State.calls[o],l=s[0],c=s[2],u=s[3],d=!!u,h=null,v=s[5],y=s[6];if(u||(u=E.State.calls[o][3]=e-16),v){if(!0!==v.resume)continue;u=s[3]=Math.round(e-y-16),s[5]=null}y=s[6]=e-u;for(var k=Math.min(y/c.duration,1),x=0,T=l.length;x<T;x++){var C=l[x],P=C.element;if(a(P)){var O=!1;if(c.display!==i&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var _=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];m.each(_,function(t,e){S.setPropertyValue(P,"display",e)})}S.setPropertyValue(P,"display",c.display)}c.visibility!==i&&"hidden"!==c.visibility&&S.setPropertyValue(P,"visibility",c.visibility);for(var A in C)if(C.hasOwnProperty(A)&&"element"!==A){var R,$=C[A],N=w.isString($.easing)?E.Easings[$.easing]:$.easing;if(w.isString($.pattern)){var D=1===k?function(t,e,r){var i=$.endValue[e];return r?Math.round(i):i}:function(t,e,r){var i=$.startValue[e],o=$.endValue[e]-i,n=i+o*N(k,c,o);return r?Math.round(n):n};R=$.pattern.replace(/{(\d+)(!)?}/g,D)}else if(1===k)R=$.endValue;else{var F=$.endValue-$.startValue;R=$.startValue+F*N(k,c,F)}if(!d&&R===$.currentValue)continue;if($.currentValue=R,"tween"===A)h=R;else{var L;if(S.Hooks.registered[A]){L=S.Hooks.getRoot(A);var I=a(P).rootPropertyValueCache[L];I&&($.rootPropertyValue=I)}var B=S.setPropertyValue(P,A,$.currentValue+(g<9&&0===parseFloat(R)?"":$.unitType),$.rootPropertyValue,$.scrollData);S.Hooks.registered[A]&&(S.Normalizations.registered[L]?a(P).rootPropertyValueCache[L]=S.Normalizations.registered[L]("extract",null,B[1]):a(P).rootPropertyValueCache[L]=B[1]),"transform"===B[0]&&(O=!0)}}c.mobileHA&&a(P).transformCache.translate3d===i&&(a(P).transformCache.translate3d="(0px, 0px, 0px)",O=!0),O&&S.flushTransformCache(P)}}c.display!==i&&"none"!==c.display&&(E.State.calls[o][2].display=!1),c.visibility!==i&&"hidden"!==c.visibility&&(E.State.calls[o][2].visibility=!1),c.progress&&c.progress.call(s[1],s[1],k,Math.max(0,u+c.duration-e),u,h),1===k&&f(o)}}E.State.isTicking&&j(p)}function f(t,e){if(!E.State.calls[t])return!1;for(var r=E.State.calls[t][0],o=E.State.calls[t][1],n=E.State.calls[t][2],s=E.State.calls[t][4],l=!1,c=0,u=r.length;c<u;c++){var d=r[c].element;e||n.loop||("none"===n.display&&S.setPropertyValue(d,"display",n.display),"hidden"===n.visibility&&S.setPropertyValue(d,"visibility",n.visibility));var h=a(d);if(!0!==n.loop&&(m.queue(d)[1]===i||!/\.velocityQueueEntryFlag/i.test(m.queue(d)[1]))&&h){h.isAnimating=!1,h.rootPropertyValueCache={};var p=!1;m.each(S.Lists.transforms3D,function(t,e){var r=/^scale/.test(e)?1:0,o=h.transformCache[e];h.transformCache[e]!==i&&new RegExp("^\\("+r+"[^.]").test(o)&&(p=!0,delete h.transformCache[e])}),n.mobileHA&&(p=!0,delete h.transformCache.translate3d),p&&S.flushTransformCache(d),S.Values.removeClass(d,"velocity-animating")}if(!e&&n.complete&&!n.loop&&c===u-1)try{n.complete.call(o,o)}catch(t){setTimeout(function(){throw t},1)}s&&!0!==n.loop&&s(o),h&&!0===n.loop&&!e&&(m.each(h.tweensContainer,function(t,e){if(/^rotate/.test(t)&&(parseFloat(e.startValue)-parseFloat(e.endValue))%360==0){var r=e.startValue;e.startValue=e.endValue,e.endValue=r}/^backgroundPosition/.test(t)&&100===parseFloat(e.endValue)&&"%"===e.unitType&&(e.endValue=0,e.startValue=100)}),E(d,"reverse",{loop:!0,delay:n.delay})),!1!==n.queue&&m.dequeue(d,n.queue)}E.State.calls[t]=!1;for(var f=0,g=E.State.calls.length;f<g;f++)if(!1!==E.State.calls[f]){l=!0;break}!1===l&&(E.State.isTicking=!1,delete E.State.calls,E.State.calls=[])}var m,g=function(){if(r.documentMode)return r.documentMode;for(var t=7;t>4;t--){var e=r.createElement("div");if(e.innerHTML="\x3c!--[if IE "+t+"]><span></span><![endif]--\x3e",e.getElementsByTagName("span").length)return e=null,t}return i}(),v=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var r,i=(new Date).getTime();return r=Math.max(0,16-(i-t)),t=i+r,setTimeout(function(){e(i+r)},r)}}(),b=function(){var t=e.performance||{};if("function"!=typeof t.now){var r=t.timing&&t.timing.navigationStart?t.timing.navigationStart:(new Date).getTime();t.now=function(){return(new Date).getTime()-r}}return t}(),y=function(){var t=Array.prototype.slice;try{return t.call(r.documentElement),t}catch(e){return function(e,r){var i=this.length;if("number"!=typeof e&&(e=0),"number"!=typeof r&&(r=i),this.slice)return t.call(this,e,r);var o,n=[],s=e>=0?e:Math.max(0,i+e),a=r<0?i+r:Math.min(r,i),l=a-s;if(l>0)if(n=new Array(l),this.charAt)for(o=0;o<l;o++)n[o]=this.charAt(s+o);else for(o=0;o<l;o++)n[o]=this[s+o];return n}}}(),k=function(){return Array.prototype.includes?function(t,e){return t.includes(e)}:Array.prototype.indexOf?function(t,e){return t.indexOf(e)>=0}:function(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}},w={isNumber:function(t){return"number"==typeof t},isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isWrapped:function(t){return t&&t!==e&&w.isNumber(t.length)&&!w.isString(t)&&!w.isFunction(t)&&!w.isNode(t)&&(0===t.length||w.isNode(t[0]))},isSVG:function(t){return e.SVGElement&&t instanceof e.SVGElement},isEmptyObject:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}},x=!1;if(t.fn&&t.fn.jquery?(m=t,x=!0):m=e.Velocity.Utilities,g<=8&&!x)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(g<=7)return void(o.fn.velocity=o.fn.animate);var T=400,C="swing",E={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:r.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:m,Redirects:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:T,easing:C,begin:i,complete:i,progress:i,display:i,visibility:i,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(t){m.data(t,"velocity",{isSVG:w.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:0},debug:!1,timestamp:!0,pauseAll:function(t){var e=(new Date).getTime();m.each(E.State.calls,function(e,r){if(r){if(t!==i&&(r[2].queue!==t||!1===r[2].queue))return!0;r[5]={resume:!1}}}),m.each(E.State.delayedElements,function(t,r){r&&l(r,e)})},resumeAll:function(t){var e=(new Date).getTime();m.each(E.State.calls,function(e,r){if(r){if(t!==i&&(r[2].queue!==t||!1===r[2].queue))return!0;r[5]&&(r[5].resume=!0)}}),m.each(E.State.delayedElements,function(t,r){r&&c(r,e)})}};e.pageYOffset!==i?(E.State.scrollAnchor=e,E.State.scrollPropertyLeft="pageXOffset",E.State.scrollPropertyTop="pageYOffset"):(E.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,E.State.scrollPropertyLeft="scrollLeft",E.State.scrollPropertyTop="scrollTop");var P=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,r,i){var o={x:e.x+i.dx*r,v:e.v+i.dv*r,tension:e.tension,friction:e.friction};return{dx:o.v,dv:t(o)}}function r(r,i){var o={dx:r.v,dv:t(r)},n=e(r,.5*i,o),s=e(r,.5*i,n),a=e(r,i,s),l=1/6*(o.dx+2*(n.dx+s.dx)+a.dx),c=1/6*(o.dv+2*(n.dv+s.dv)+a.dv);return r.x=r.x+l*i,r.v=r.v+c*i,r}return function t(e,i,o){var n,s,a,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,d=1e-4,h=.016;for(e=parseFloat(e)||500,i=parseFloat(i)||20,o=o||null,l.tension=e,l.friction=i,n=null!==o,n?(u=t(e,i),s=u/o*h):s=h;;)if(a=r(a||l,s),c.push(1+a.x),u+=16,!(Math.abs(a.x)>d&&Math.abs(a.v)>d))break;return n?function(t){return c[t*(c.length-1)|0]}:u}}();E.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},m.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(t,e){E.Easings[e[0]]=d.apply(null,e[1])});var S=E.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<S.Lists.colors.length;t++){var e="color"===S.Lists.colors[t]?"0 0 0 1":"255 255 255 1";S.Hooks.templates[S.Lists.colors[t]]=["Red Green Blue Alpha",e]}var r,i,o;if(g)for(r in S.Hooks.templates)if(S.Hooks.templates.hasOwnProperty(r)){i=S.Hooks.templates[r],o=i[0].split(" ");var n=i[1].match(S.RegEx.valueSplit);"Color"===o[0]&&(o.push(o.shift()),n.push(n.shift()),S.Hooks.templates[r]=[o.join(" "),n.join(" ")])}for(r in S.Hooks.templates)if(S.Hooks.templates.hasOwnProperty(r)){i=S.Hooks.templates[r],o=i[0].split(" ");for(var s in o)if(o.hasOwnProperty(s)){var a=r+o[s],l=s;S.Hooks.registered[a]=[r,l]}}},getRoot:function(t){var e=S.Hooks.registered[t];return e?e[0]:t},getUnit:function(t,e){var r=(t.substr(e||0,5).match(/^[a-z%]+/)||[])[0]||"";return r&&k(S.Lists.units,r)?r:""},fixColors:function(t){return t.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(t,e,r){return S.Lists.colorNames.hasOwnProperty(r)?(e||"rgba(")+S.Lists.colorNames[r]+(e?"":",1)"):e+r})},cleanRootPropertyValue:function(t,e){return S.RegEx.valueUnwrap.test(e)&&(e=e.match(S.RegEx.valueUnwrap)[1]),S.Values.isCSSNullValue(e)&&(e=S.Hooks.templates[t][1]),e},extractValue:function(t,e){var r=S.Hooks.registered[t];if(r){var i=r[0],o=r[1];return e=S.Hooks.cleanRootPropertyValue(i,e),e.toString().match(S.RegEx.valueSplit)[o]}return e},injectValue:function(t,e,r){var i=S.Hooks.registered[t];if(i){var o,n=i[0],s=i[1];return r=S.Hooks.cleanRootPropertyValue(n,r),o=r.toString().match(S.RegEx.valueSplit),o[s]=e,o.join(" ")}return r}},Normalizations:{registered:{clip:function(t,e,r){switch(t){case"name":return"clip";case"extract":var i;return S.RegEx.wrappedValueAlreadyExtracted.test(r)?i=r:(i=r.toString().match(S.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):r),i;case"inject":return"rect("+r+")"}},blur:function(t,e,r){switch(t){case"name":return E.State.isFirefox?"filter":"-webkit-filter";case"extract":var i=parseFloat(r);if(!i&&0!==i){var o=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);i=o?o[1]:0}return i;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(t,e,r){if(g<=8)switch(t){case"name":return"filter";case"extract":var i=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=i?i[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(t){case"name":return"opacity";case"extract":case"inject":return r}}},register:function(){function t(t,e,r){if("border-box"===S.getPropertyValue(e,"boxSizing").toString().toLowerCase()===(r||!1)){var i,o,n=0,s="width"===t?["Left","Right"]:["Top","Bottom"],a=["padding"+s[0],"padding"+s[1],"border"+s[0]+"Width","border"+s[1]+"Width"];for(i=0;i<a.length;i++)o=parseFloat(S.getPropertyValue(e,a[i])),isNaN(o)||(n+=o);return r?-n:n}return 0}function e(e,r){return function(i,o,n){switch(i){case"name":return e;case"extract":return parseFloat(n)+t(e,o,r);case"inject":return parseFloat(n)-t(e,o,r)+"px"}}}g&&!(g>9)||E.State.isGingerbread||(S.Lists.transformsBase=S.Lists.transformsBase.concat(S.Lists.transforms3D));for(var r=0;r<S.Lists.transformsBase.length;r++)!function(){var t=S.Lists.transformsBase[r];S.Normalizations.registered[t]=function(e,r,o){switch(e){case"name":return"transform";case"extract":return a(r)===i||a(r).transformCache[t]===i?/^scale/i.test(t)?1:0:a(r).transformCache[t].replace(/[()]/g,"");case"inject":var n=!1;switch(t.substr(0,t.length-1)){case"translate":n=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":E.State.isAndroid&&a(r).transformCache[t]===i&&o<1&&(o=1),n=!/(\d)$/i.test(o);break;case"skew":case"rotate":n=!/(deg|\d)$/i.test(o)}return n||(a(r).transformCache[t]="("+o+")"),a(r).transformCache[t]}}}();for(var o=0;o<S.Lists.colors.length;o++)!function(){var t=S.Lists.colors[o];S.Normalizations.registered[t]=function(e,r,o){switch(e){case"name":return t;case"extract":var n;if(S.RegEx.wrappedValueAlreadyExtracted.test(o))n=o;else{var s,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(o)?s=a[o]!==i?a[o]:a.black:S.RegEx.isHex.test(o)?s="rgb("+S.Values.hexToRgb(o).join(" ")+")":/^rgba?\(/i.test(o)||(s=a.black),n=(s||o).toString().match(S.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!g||g>8)&&3===n.split(" ").length&&(n+=" 1"),n;case"inject":return/^rgb/.test(o)?o:(g<=8?4===o.split(" ").length&&(o=o.split(/\s+/).slice(0,3).join(" ")):3===o.split(" ").length&&(o+=" 1"),(g<=8?"rgb":"rgba")+"("+o.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();S.Normalizations.registered.innerWidth=e("width",!0),S.Normalizations.registered.innerHeight=e("height",!0),S.Normalizations.registered.outerWidth=e("width"),S.Normalizations.registered.outerHeight=e("height")}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(g||E.State.isAndroid&&!E.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(E.State.prefixMatches[t])return[E.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],r=0,i=e.length;r<i;r++){var o;if(o=0===r?t:e[r]+t.replace(/^\w/,function(t){return t.toUpperCase()}),w.isString(E.State.prefixElement.style[o]))return E.State.prefixMatches[t]=o,[o,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(r,function(t,e,r,i){return e+e+r+r+i+i}),e=i.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return!t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t&&t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":/^(table)$/i.test(e)?"table":/^(tbody)$/i.test(e)?"table-row-group":"block"},addClass:function(t,e){if(t)if(t.classList)t.classList.add(e);else if(w.isString(t.className))t.className+=(t.className.length?" ":"")+e;else{var r=t.getAttribute(g<=7?"className":"class")||"";t.setAttribute("class",r+(r?" ":"")+e)}},removeClass:function(t,e){if(t)if(t.classList)t.classList.remove(e);else if(w.isString(t.className))t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ");else{var r=t.getAttribute(g<=7?"className":"class")||"";t.setAttribute("class",r.replace(new RegExp("(^|s)"+e.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(t,r,o,n){function s(t,r){var o=0;if(g<=8)o=m.css(t,r);else{var l=!1;/^(width|height)$/.test(r)&&0===S.getPropertyValue(t,"display")&&(l=!0,S.setPropertyValue(t,"display",S.Values.getDisplayType(t)));var c=function(){l&&S.setPropertyValue(t,"display","none")};if(!n){if("height"===r&&"border-box"!==S.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var u=t.offsetHeight-(parseFloat(S.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(S.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(S.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(S.getPropertyValue(t,"paddingBottom"))||0);return c(),u}if("width"===r&&"border-box"!==S.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var d=t.offsetWidth-(parseFloat(S.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(S.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(S.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(S.getPropertyValue(t,"paddingRight"))||0);return c(),d}}var h;h=a(t)===i?e.getComputedStyle(t,null):a(t).computedStyle?a(t).computedStyle:a(t).computedStyle=e.getComputedStyle(t,null),"borderColor"===r&&(r="borderTopColor"),o=9===g&&"filter"===r?h.getPropertyValue(r):h[r],""!==o&&null!==o||(o=t.style[r]),c()}if("auto"===o&&/^(top|right|bottom|left)$/i.test(r)){var p=s(t,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(r))&&(o=m(t).position()[r]+"px")}return o}var l;if(S.Hooks.registered[r]){var c=r,u=S.Hooks.getRoot(c);o===i&&(o=S.getPropertyValue(t,S.Names.prefixCheck(u)[0])),S.Normalizations.registered[u]&&(o=S.Normalizations.registered[u]("extract",t,o)),l=S.Hooks.extractValue(c,o)}else if(S.Normalizations.registered[r]){var d,h;d=S.Normalizations.registered[r]("name",t),"transform"!==d&&(h=s(t,S.Names.prefixCheck(d)[0]),S.Values.isCSSNullValue(h)&&S.Hooks.templates[r]&&(h=S.Hooks.templates[r][1])),l=S.Normalizations.registered[r]("extract",t,h)}if(!/^[\d-]/.test(l)){var p=a(t);if(p&&p.isSVG&&S.Names.SVGAttribute(r))if(/^(height|width)$/i.test(r))try{l=t.getBBox()[r]}catch(t){l=0}else l=t.getAttribute(r);else l=s(t,S.Names.prefixCheck(r)[0])}return S.Values.isCSSNullValue(l)&&(l=0),E.debug>=2&&console.log("Get "+r+": "+l),l},setPropertyValue:function(t,r,i,o,n){var s=r;if("scroll"===r)n.container?n.container["scroll"+n.direction]=i:"Left"===n.direction?e.scrollTo(i,n.alternateValue):e.scrollTo(n.alternateValue,i);else if(S.Normalizations.registered[r]&&"transform"===S.Normalizations.registered[r]("name",t))S.Normalizations.registered[r]("inject",t,i),s="transform",i=a(t).transformCache[r];else{if(S.Hooks.registered[r]){var l=r,c=S.Hooks.getRoot(r);o=o||S.getPropertyValue(t,c),i=S.Hooks.injectValue(l,i,o),r=c}if(S.Normalizations.registered[r]&&(i=S.Normalizations.registered[r]("inject",t,i),r=S.Normalizations.registered[r]("name",t)),s=S.Names.prefixCheck(r)[0],g<=8)try{t.style[s]=i}catch(t){E.debug&&console.log("Browser does not support ["+i+"] for ["+s+"]")}else{var u=a(t);u&&u.isSVG&&S.Names.SVGAttribute(r)?t.setAttribute(r,i):t.style[s]=i}E.debug>=2&&console.log("Set "+r+" ("+s+"): "+i)}return[s,i]},flushTransformCache:function(t){var e="",r=a(t);if((g||E.State.isAndroid&&!E.State.isChrome)&&r&&r.isSVG){var i=function(e){return parseFloat(S.getPropertyValue(t,e))},o={translate:[i("translateX"),i("translateY")],skewX:[i("skewX")],skewY:[i("skewY")],scale:1!==i("scale")?[i("scale"),i("scale")]:[i("scaleX"),i("scaleY")],rotate:[i("rotateZ"),0,0]};m.each(a(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),o[t]&&(e+=t+"("+o[t].join(" ")+") ",delete o[t])})}else{var n,s;m.each(a(t).transformCache,function(r){if(n=a(t).transformCache[r],"transformPerspective"===r)return s=n,!0;9===g&&"rotateZ"===r&&(r="rotate"),e+=r+n+" "}),s&&(e="perspective"+s+" "+e)}S.setPropertyValue(t,"transform",e)}};S.Hooks.register(),S.Normalizations.register(),E.hook=function(t,e,r){var o;return t=s(t),m.each(t,function(t,n){if(a(n)===i&&E.init(n),r===i)o===i&&(o=S.getPropertyValue(n,e));else{var s=S.setPropertyValue(n,e,r);"transform"===s[0]&&E.CSS.flushTransformCache(n),o=s}}),o};var O=function(){function t(){return u?C.promise||null:d}function o(t,o){function n(n){var u,d;if(l.begin&&0===j)try{l.begin.call(v,v)}catch(t){setTimeout(function(){throw t},1)}if("scroll"===R){var f,g,x,T=/^x$/i.test(l.axis)?"Left":"Top",O=parseFloat(l.offset)||0;l.container?w.isWrapped(l.container)||w.isNode(l.container)?(l.container=l.container[0]||l.container,f=l.container["scroll"+T],x=f+m(t).position()[T.toLowerCase()]+O):l.container=null:(f=E.State.scrollAnchor[E.State["scrollProperty"+T]],g=E.State.scrollAnchor[E.State["scrollProperty"+("Left"===T?"Top":"Left")]],x=m(t).offset()[T.toLowerCase()]+O),c={scroll:{rootPropertyValue:!1,startValue:f,currentValue:f,endValue:x,unitType:"",easing:l.easing,scrollData:{container:l.container,direction:T,alternateValue:g}},element:t},E.debug&&console.log("tweensContainer (scroll): ",c.scroll,t)}else if("reverse"===R){if(!(u=a(t)))return;if(!u.tweensContainer)return void m.dequeue(t,l.queue);"none"===u.opts.display&&(u.opts.display="auto"),"hidden"===u.opts.visibility&&(u.opts.visibility="visible"),u.opts.loop=!1,u.opts.begin=null,u.opts.complete=null,y.easing||delete l.easing,y.duration||delete l.duration,l=m.extend({},u.opts,l),d=m.extend(!0,{},u?u.tweensContainer:null);for(var _ in d)if(d.hasOwnProperty(_)&&"element"!==_){var A=d[_].startValue;d[_].startValue=d[_].currentValue=d[_].endValue,d[_].endValue=A,w.isEmptyObject(y)||(d[_].easing=l.easing),E.debug&&console.log("reverse tweensContainer ("+_+"): "+JSON.stringify(d[_]),t)}c=d}else if("start"===R){u=a(t),u&&u.tweensContainer&&!0===u.isAnimating&&(d=u.tweensContainer);var $=function(e,r){var i,n,s;return w.isFunction(e)&&(e=e.call(t,o,P)),w.isArray(e)?(i=e[0],!w.isArray(e[1])&&/^[\d-]/.test(e[1])||w.isFunction(e[1])||S.RegEx.isHex.test(e[1])?s=e[1]:w.isString(e[1])&&!S.RegEx.isHex.test(e[1])&&E.Easings[e[1]]||w.isArray(e[1])?(n=r?e[1]:h(e[1],l.duration),s=e[2]):s=e[1]||e[2]):i=e,r||(n=n||l.easing),w.isFunction(i)&&(i=i.call(t,o,P)),w.isFunction(s)&&(s=s.call(t,o,P)),[i||0,n,s]},N=function(o,n){var a,h=S.Hooks.getRoot(o),p=!1,f=n[0],g=n[1],v=n[2];if(!(u&&u.isSVG||"tween"===h||!1!==S.Names.prefixCheck(h)[1]||S.Normalizations.registered[h]!==i))return void(E.debug&&console.log("Skipping ["+h+"] due to a lack of browser support."));(l.display!==i&&null!==l.display&&"none"!==l.display||l.visibility!==i&&"hidden"!==l.visibility)&&/opacity|filter/.test(o)&&!v&&0!==f&&(v=0),l._cacheValues&&d&&d[o]?(v===i&&(v=d[o].endValue+d[o].unitType),p=u.rootPropertyValueCache[h]):S.Hooks.registered[o]?v===i?(p=S.getPropertyValue(t,h),v=S.getPropertyValue(t,o,p)):p=S.Hooks.templates[h][1]:v===i&&(v=S.getPropertyValue(t,o));var b,y,k,x=!1,T=function(t,e){var r,i;return i=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(t){return r=t,""}),r||(r=S.Values.getUnitType(t)),[i,r]};if(v!==f&&w.isString(v)&&w.isString(f)){a="";var C=0,P=0,O=[],j=[],_=0,A=0,R=0;for(v=S.Hooks.fixColors(v),f=S.Hooks.fixColors(f);C<v.length&&P<f.length;){var $=v[C],N=f[P];if(/[\d\.-]/.test($)&&/[\d\.-]/.test(N)){for(var D=$,F=N,L=".",B=".";++C<v.length;){if(($=v[C])===L)L="..";else if(!/\d/.test($))break;D+=$}for(;++P<f.length;){if((N=f[P])===B)B="..";else if(!/\d/.test(N))break;F+=N}var H=S.Hooks.getUnit(v,C),M=S.Hooks.getUnit(f,P);if(C+=H.length,P+=M.length,H===M)D===F?a+=D+H:(a+="{"+O.length+(A?"!":"")+"}"+H,O.push(parseFloat(D)),j.push(parseFloat(F)));else{var U=parseFloat(D),z=parseFloat(F);a+=(_<5?"calc":"")+"("+(U?"{"+O.length+(A?"!":"")+"}":"0")+H+" + "+(z?"{"+(O.length+(U?1:0))+(A?"!":"")+"}":"0")+M+")",U&&(O.push(U),j.push(0)),z&&(O.push(0),j.push(z))}}else{if($!==N){_=0;break}a+=$,C++,P++,0===_&&"c"===$||1===_&&"a"===$||2===_&&"l"===$||3===_&&"c"===$||_>=4&&"("===$?_++:(_&&_<5||_>=4&&")"===$&&--_<5)&&(_=0),0===A&&"r"===$||1===A&&"g"===$||2===A&&"b"===$||3===A&&"a"===$||A>=3&&"("===$?(3===A&&"a"===$&&(R=1),A++):R&&","===$?++R>3&&(A=R=0):(R&&A<(R?5:4)||A>=(R?4:3)&&")"===$&&--A<(R?5:4))&&(A=R=0)}}C===v.length&&P===f.length||(E.debug&&console.error('Trying to pattern match mis-matched strings ["'+f+'", "'+v+'"]'),a=i),a&&(O.length?(E.debug&&console.log('Pattern found "'+a+'" -> ',O,j,"["+v+","+f+"]"),v=O,f=j,y=k=""):a=i)}a||(b=T(o,v),v=b[0],k=b[1],b=T(o,f),f=b[0].replace(/^([+-\/*])=/,function(t,e){return x=e,""}),y=b[1],v=parseFloat(v)||0,f=parseFloat(f)||0,"%"===y&&(/^(fontSize|lineHeight)$/.test(o)?(f/=100,y="em"):/^scale/.test(o)?(f/=100,y=""):/(Red|Green|Blue)$/i.test(o)&&(f=f/100*255,y="")));var V=function(){var i={myParent:t.parentNode||r.body,position:S.getPropertyValue(t,"position"),fontSize:S.getPropertyValue(t,"fontSize")},o=i.position===I.lastPosition&&i.myParent===I.lastParent,n=i.fontSize===I.lastFontSize;I.lastParent=i.myParent,I.lastPosition=i.position,I.lastFontSize=i.fontSize;var s=100,a={};if(n&&o)a.emToPx=I.lastEmToPx,a.percentToPxWidth=I.lastPercentToPxWidth,a.percentToPxHeight=I.lastPercentToPxHeight;else{var l=u&&u.isSVG?r.createElementNS("http://www.w3.org/2000/svg","rect"):r.createElement("div");E.init(l),i.myParent.appendChild(l),m.each(["overflow","overflowX","overflowY"],function(t,e){E.CSS.setPropertyValue(l,e,"hidden")}),E.CSS.setPropertyValue(l,"position",i.position),E.CSS.setPropertyValue(l,"fontSize",i.fontSize),E.CSS.setPropertyValue(l,"boxSizing","content-box"),m.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,e){E.CSS.setPropertyValue(l,e,s+"%")}),E.CSS.setPropertyValue(l,"paddingLeft",s+"em"),a.percentToPxWidth=I.lastPercentToPxWidth=(parseFloat(S.getPropertyValue(l,"width",null,!0))||1)/s,a.percentToPxHeight=I.lastPercentToPxHeight=(parseFloat(S.getPropertyValue(l,"height",null,!0))||1)/s,a.emToPx=I.lastEmToPx=(parseFloat(S.getPropertyValue(l,"paddingLeft"))||1)/s,i.myParent.removeChild(l)}return null===I.remToPx&&(I.remToPx=parseFloat(S.getPropertyValue(r.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(e.innerWidth)/100,I.vhToPx=parseFloat(e.innerHeight)/100),a.remToPx=I.remToPx,a.vwToPx=I.vwToPx,a.vhToPx=I.vhToPx,E.debug>=1&&console.log("Unit ratios: "+JSON.stringify(a),t),a};if(/[\/*]/.test(x))y=k;else if(k!==y&&0!==v)if(0===f)y=k;else{s=s||V();var Y=/margin|padding|left|right|width|text|word|letter/i.test(o)||/X$/.test(o)||"x"===o?"x":"y";switch(k){case"%":v*="x"===Y?s.percentToPxWidth:s.percentToPxHeight;break;case"px":break;default:v*=s[k+"ToPx"]}switch(y){case"%":v*=1/("x"===Y?s.percentToPxWidth:s.percentToPxHeight);break;case"px":break;default:v*=1/s[y+"ToPx"]}}switch(x){case"+":f=v+f;break;case"-":f=v-f;break;case"*":f*=v;break;case"/":f=v/f}c[o]={rootPropertyValue:p,startValue:v,currentValue:v,endValue:f,unitType:y,easing:g},a&&(c[o].pattern=a),E.debug&&console.log("tweensContainer ("+o+"): "+JSON.stringify(c[o]),t)};for(var D in b)if(b.hasOwnProperty(D)){var F=S.Names.camelCase(D),L=$(b[D]);if(k(S.Lists.colors,F)){var H=L[0],M=L[1],U=L[2];if(S.RegEx.isHex.test(H)){for(var z=["Red","Green","Blue"],V=S.Values.hexToRgb(H),Y=U?S.Values.hexToRgb(U):i,q=0;q<z.length;q++){var W=[V[q]];M&&W.push(M),Y!==i&&W.push(Y[q]),N(F+z[q],W)}continue}}N(F,L)}c.element=t}c.element&&(S.Values.addClass(t,"velocity-animating"),B.push(c),u=a(t),u&&(""===l.queue&&(u.tweensContainer=c,u.opts=l),u.isAnimating=!0),j===P-1?(E.State.calls.push([B,v,l,null,C.resolver,null,0]),!1===E.State.isTicking&&(E.State.isTicking=!0,p())):j++)}var s,l=m.extend({},E.defaults,y),c={};switch(a(t)===i&&E.init(t),parseFloat(l.delay)&&!1!==l.queue&&m.queue(t,l.queue,function(e){E.velocityQueueEntryFlag=!0;var r=E.State.delayedElements.count++;E.State.delayedElements[r]=t;var i=function(t){return function(){E.State.delayedElements[t]=!1,e()}}(r);a(t).delayBegin=(new Date).getTime(),a(t).delay=parseFloat(l.delay),a(t).delayTimer={setTimeout:setTimeout(e,parseFloat(l.delay)),next:i}}),l.duration.toString().toLowerCase()){case"fast":l.duration=200;break;case"normal":l.duration=T;break;case"slow":l.duration=600;break;default:l.duration=parseFloat(l.duration)||1}if(!1!==E.mock&&(!0===E.mock?l.duration=l.delay=1:(l.duration*=parseFloat(E.mock)||1,l.delay*=parseFloat(E.mock)||1)),l.easing=h(l.easing,l.duration),l.begin&&!w.isFunction(l.begin)&&(l.begin=null),l.progress&&!w.isFunction(l.progress)&&(l.progress=null),l.complete&&!w.isFunction(l.complete)&&(l.complete=null),l.display!==i&&null!==l.display&&(l.display=l.display.toString().toLowerCase(),"auto"===l.display&&(l.display=E.CSS.Values.getDisplayType(t))),l.visibility!==i&&null!==l.visibility&&(l.visibility=l.visibility.toString().toLowerCase()),l.mobileHA=l.mobileHA&&E.State.isMobile&&!E.State.isGingerbread,!1===l.queue)if(l.delay){var u=E.State.delayedElements.count++;E.State.delayedElements[u]=t;var d=function(t){return function(){E.State.delayedElements[t]=!1,n()}}(u);a(t).delayBegin=(new Date).getTime(),a(t).delay=parseFloat(l.delay),a(t).delayTimer={setTimeout:setTimeout(n,parseFloat(l.delay)),next:d}}else n();else m.queue(t,l.queue,function(t,e){if(!0===e)return C.promise&&C.resolver(v),!0;E.velocityQueueEntryFlag=!0,n(t)});""!==l.queue&&"fx"!==l.queue||"inprogress"===m.queue(t)[0]||m.dequeue(t)}var n,u,d,g,v,b,y,x=arguments[0]&&(arguments[0].p||m.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||w.isString(arguments[0].properties));w.isWrapped(this)?(u=!1,g=0,v=this,d=this):(u=!0,g=1,v=x?arguments[0].elements||arguments[0].e:arguments[0]);var C={promise:null,resolver:null,rejecter:null};if(u&&E.Promise&&(C.promise=new E.Promise(function(t,e){C.resolver=t,C.rejecter=e})),x?(b=arguments[0].properties||arguments[0].p,y=arguments[0].options||arguments[0].o):(b=arguments[g],y=arguments[g+1]),!(v=s(v)))return void(C.promise&&(b&&y&&!1===y.promiseRejectEmpty?C.resolver():C.rejecter()));var P=v.length,j=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(b)&&!m.isPlainObject(y)){var _=g+1;y={};for(var A=_;A<arguments.length;A++)w.isArray(arguments[A])||!/^(fast|normal|slow)$/i.test(arguments[A])&&!/^\d/.test(arguments[A])?w.isString(arguments[A])||w.isArray(arguments[A])?y.easing=arguments[A]:w.isFunction(arguments[A])&&(y.complete=arguments[A]):y.duration=arguments[A]}var R;switch(b){case"scroll":R="scroll";break;case"reverse":R="reverse";break;case"pause":var $=(new Date).getTime();return m.each(v,function(t,e){l(e,$)}),m.each(E.State.calls,function(t,e){var r=!1;e&&m.each(e[1],function(t,o){var n=y===i?"":y;return!0!==n&&e[2].queue!==n&&(y!==i||!1!==e[2].queue)||(m.each(v,function(t,i){if(i===o)return e[5]={resume:!1},r=!0,!1}),!r&&void 0)})}),t();case"resume":return m.each(v,function(t,e){c(e,$)}),m.each(E.State.calls,function(t,e){var r=!1;e&&m.each(e[1],function(t,o){var n=y===i?"":y;return!0!==n&&e[2].queue!==n&&(y!==i||!1!==e[2].queue)||(!e[5]||(m.each(v,function(t,i){if(i===o)return e[5].resume=!0,r=!0,!1}),!r&&void 0))})}),t();case"finish":case"finishAll":case"stop":m.each(v,function(t,e){a(e)&&a(e).delayTimer&&(clearTimeout(a(e).delayTimer.setTimeout),a(e).delayTimer.next&&a(e).delayTimer.next(),delete a(e).delayTimer),"finishAll"!==b||!0!==y&&!w.isString(y)||(m.each(m.queue(e,w.isString(y)?y:""),function(t,e){w.isFunction(e)&&e()}),m.queue(e,w.isString(y)?y:"",[]))});var N=[];return m.each(E.State.calls,function(t,e){e&&m.each(e[1],function(r,o){var n=y===i?"":y;if(!0!==n&&e[2].queue!==n&&(y!==i||!1!==e[2].queue))return!0;m.each(v,function(r,i){if(i===o)if((!0===y||w.isString(y))&&(m.each(m.queue(i,w.isString(y)?y:""),function(t,e){w.isFunction(e)&&e(null,!0)}),m.queue(i,w.isString(y)?y:"",[])),"stop"===b){var s=a(i);s&&s.tweensContainer&&!1!==n&&m.each(s.tweensContainer,function(t,e){e.endValue=e.currentValue}),N.push(t)}else"finish"!==b&&"finishAll"!==b||(e[2].duration=1)})})}),"stop"===b&&(m.each(N,function(t,e){f(e,!0)}),C.promise&&C.resolver(v)),t();default:if(!m.isPlainObject(b)||w.isEmptyObject(b)){if(w.isString(b)&&E.Redirects[b]){n=m.extend({},y);var D=n.duration,F=n.delay||0;return!0===n.backwards&&(v=m.extend(!0,[],v).reverse()),m.each(v,function(t,e){parseFloat(n.stagger)?n.delay=F+parseFloat(n.stagger)*t:w.isFunction(n.stagger)&&(n.delay=F+n.stagger.call(e,t,P)),n.drag&&(n.duration=parseFloat(D)||(/^(callout|transition)/.test(b)?1e3:T),n.duration=Math.max(n.duration*(n.backwards?1-t/P:(t+1)/P),.75*n.duration,200)),E.Redirects[b].call(e,e,n||{},t,P,v,C.promise?C:i)}),t()}var L="Velocity: First argument ("+b+") was not a property map, a known action, or a registered redirect. Aborting.";return C.promise?C.rejecter(new Error(L)):e.console&&console.log(L),t()}R="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},B=[];m.each(v,function(t,e){w.isNode(e)&&o(e,t)}),n=m.extend({},E.defaults,y),n.loop=parseInt(n.loop,10);var H=2*n.loop-1;if(n.loop)for(var M=0;M<H;M++){var U={delay:n.delay,progress:n.progress};M===H-1&&(U.display=n.display,U.visibility=n.visibility,U.complete=n.complete),O(v,"reverse",U)}return t()};E=m.extend(O,E),E.animate=O;var j=e.requestAnimationFrame||v;if(!E.State.isMobile&&r.hidden!==i){var _=function(){r.hidden?(j=function(t){return setTimeout(function(){t(!0)},16)},p()):j=e.requestAnimationFrame||v};_(),r.addEventListener("visibilitychange",_)}return t.Velocity=E,t!==e&&(t.fn.velocity=O,t.fn.velocity.defaults=E.defaults),m.each(["Down","Up"],function(t,e){E.Redirects["slide"+e]=function(t,r,o,n,s,a){var l=m.extend({},r),c=l.begin,u=l.complete,d={},h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};l.display===i&&(l.display="Down"===e?"inline"===E.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),l.begin=function(){0===o&&c&&c.call(s,s);for(var r in h)if(h.hasOwnProperty(r)){d[r]=t.style[r];var i=S.getPropertyValue(t,r);h[r]="Down"===e?[i,0]:[0,i]}d.overflow=t.style.overflow,t.style.overflow="hidden"},l.complete=function(){for(var e in d)d.hasOwnProperty(e)&&(t.style[e]=d[e]);o===n-1&&(u&&u.call(s,s),a&&a.resolver(s))},E(t,h,l)}}),m.each(["In","Out"],function(t,e){E.Redirects["fade"+e]=function(t,r,o,n,s,a){var l=m.extend({},r),c=l.complete,u={opacity:"In"===e?1:0};0!==o&&(l.begin=null),l.complete=o!==n-1?null:function(){c&&c.call(s,s),a&&a.resolver(s)},l.display===i&&(l.display="In"===e?"auto":"none"),E(this,u,l)}}),E}(i||window.Zepto||window,window,window?window.document:void 0)}),t.exports=window.Velocity}).call(e,r("./node_modules/jquery/dist/jquery.js-exposed"),r("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/velocity-animate/velocity.ui.js":function(t,e,r){(function(e){r("./node_modules/velocity-animate/velocity.js");/* VelocityJS.org UI Pack (5.2.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License. Portions copyright Daniel Eden, Christian Pucci. */
!function(e){"use strict";t.exports=e()}(function(){"use strict";return function(t,e,r,i){function o(t,e){var r=[];return!(!t||!e)&&(s.each([t,e],function(t,e){var i=[];s.each(e,function(t,e){for(;e.toString().length<5;)e="0"+e;i.push(e)}),r.push(i.join(""))}),parseFloat(r[0])>parseFloat(r[1]))}var n=t.Velocity;if(!n||!n.Utilities)return void(e.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var s=n.Utilities;if(o({major:1,minor:1,patch:0},n.version)){var a="Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(a),new Error(a)}n.RegisterEffect=n.RegisterUI=function(t,e){function r(t,e,r,i){var o,a=0;s.each(t.nodeType?[t]:t,function(t,e){i&&(r+=t*i),o=e.parentNode;var l=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===n.CSS.getPropertyValue(e,"boxSizing").toString().toLowerCase()&&(l=["height"]),s.each(l,function(t,r){a+=parseFloat(n.CSS.getPropertyValue(e,r))})}),n.animate(o,{height:("In"===e?"+":"-")+"="+a},{queue:!1,easing:"ease-in-out",duration:r*("In"===e?.6:1)})}return n.Redirects[t]=function(o,a,l,c,u,d,h){var p=l===c-1,f=0;h=h||e.loop,"function"==typeof e.defaultDuration?e.defaultDuration=e.defaultDuration.call(u,u):e.defaultDuration=parseFloat(e.defaultDuration);for(var m=0;m<e.calls.length;m++)"number"==typeof(k=e.calls[m][1])&&(f+=k);var g=f>=1?0:e.calls.length?(1-f)/e.calls.length:1;for(m=0;m<e.calls.length;m++){var v=e.calls[m],b=v[0],y=1e3,k=v[1],w=v[2]||{},x={};if(a.duration!==i?y=a.duration:e.defaultDuration!==i&&(y=e.defaultDuration),x.duration=y*("number"==typeof k?k:g),x.queue=a.queue||"",x.easing=w.easing||"ease",x.delay=parseFloat(w.delay)||0,x.loop=!e.loop&&w.loop,x._cacheValues=w._cacheValues||!0,0===m){if(x.delay+=parseFloat(a.delay)||0,0===l&&(x.begin=function(){a.begin&&a.begin.call(u,u);var e=t.match(/(In|Out)$/);e&&"In"===e[0]&&b.opacity!==i&&s.each(u.nodeType?[u]:u,function(t,e){n.CSS.setPropertyValue(e,"opacity",0)}),a.animateParentHeight&&e&&r(u,e[0],y+x.delay,a.stagger)}),null!==a.display)if(a.display!==i&&"none"!==a.display)x.display=a.display;else if(/In$/.test(t)){var T=n.CSS.Values.getDisplayType(o);x.display="inline"===T?"inline-block":T}a.visibility&&"hidden"!==a.visibility&&(x.visibility=a.visibility)}if(m===e.calls.length-1){var C=function(){a.display!==i&&"none"!==a.display||!/Out$/.test(t)||s.each(u.nodeType?[u]:u,function(t,e){n.CSS.setPropertyValue(e,"display","none")}),a.complete&&a.complete.call(u,u),d&&d.resolver(u||o)};x.complete=function(){if(h&&n.Redirects[t](o,a,l,c,u,d,!0===h||Math.max(0,h-1)),e.reset){for(var r in e.reset)if(e.reset.hasOwnProperty(r)){var s=e.reset[r];n.CSS.Hooks.registered[r]!==i||"string"!=typeof s&&"number"!=typeof s||(e.reset[r]=[e.reset[r],e.reset[r]])}var f={duration:0,queue:!1};p&&(f.complete=C),n.animate(o,e.reset,f)}else p&&C()},"hidden"===a.visibility&&(x.visibility=a.visibility)}n.animate(o,b,x)}},n},n.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:0}]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]}],[{opacity:[1,"easeInOutQuad"]}],[{opacity:[0,"easeInOutQuad"]}],[{opacity:[1,"easeInOutQuad"]}]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15}],[{rotateZ:-10}],[{rotateZ:5}],[{rotateZ:-5}],[{rotateZ:0}]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10}],[{opacity:0,rotateY:90}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15}],[{opacity:0,rotateX:90}]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.35],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.45]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var l in n.RegisterEffect.packagedEffects)n.RegisterEffect.packagedEffects.hasOwnProperty(l)&&n.RegisterEffect(l,n.RegisterEffect.packagedEffects[l]);n.RunSequence=function(t){var e=s.extend(!0,[],t);e.length>1&&(s.each(e.reverse(),function(t,r){var i=e[t+1];if(i){var o=r.o||r.options,a=i.o||i.options,l=o&&!1===o.sequenceQueue?"begin":"complete",c=a&&a[l],u={};u[l]=function(){var t=i.e||i.elements,e=t.nodeType?[t]:t;c&&c.call(e,e),n(r)},i.o?i.o=s.extend({},a,u):i.options=s.extend({},a,u)}}),e.reverse()),n(e[0])}}(e||window.Zepto||window,window,window&&window.document)}),t.exports=window.Velocity}).call(e,r("./node_modules/jquery/dist/jquery.js-exposed"))},"./other-libs/redactor/redactor.js":function(t,e,r){(function(t){!function(t){"use strict";function e(t,r){return new e.prototype.init(t,r)}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;return function(){return e.apply(t)}});var r=0;t.fn.redactor=function(r){var i=[],o=Array.prototype.slice.call(arguments,1);return"string"==typeof r?this.each(function(){var e,n=t.data(this,"redactor");if("-1"!==r.search(/\./)?(e=r.split("."),void 0!==n[e[0]]&&(e=n[e[0]][e[1]])):e=n[r],void 0!==n&&t.isFunction(e)){var s=e.apply(n,o);void 0!==s&&s!==n&&i.push(s)}else t.error('No such method "'+r+'" for Redactor')}):this.each(function(){t.data(this,"redactor",{}),t.data(this,"redactor",e(this,r))}),0===i.length?this:1===i.length?i[0]:i},t.Redactor=e,t.Redactor.VERSION="1.3",t.Redactor.modules=["air","autosave","block","buffer","build","button","caret","clean","code","core","detect","dropdown","events","file","focus","image","indent","inline","insert","keydown","keyup","lang","line","link","linkify","list","marker","modal","observe","offset","paragraphize","paste","placeholder","progress","selection","shortcuts","storage","toolbar","upload","uploads3","utils","browser"],t.Redactor.settings={},t.Redactor.opts={animation:!1,lang:"en",direction:"ltr",focus:!1,focusEnd:!1,clickToEdit:!1,structure:!1,tabindex:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:!1,callbacks:{},placeholder:!1,linkify:!0,enterKey:!0,pastePlainText:!1,pasteImages:!0,pasteLinks:!0,pasteBlockTags:["pre","h1","h2","h3","h4","h5","h6","table","tbody","thead","tfoot","th","tr","td","ul","ol","li","blockquote","p","figure","figcaption"],pasteInlineTags:["br","strong","ins","code","del","span","samp","kbd","sup","sub","mark","var","cite","small","b","u","em","i"],preClass:!1,preSpaces:4,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveFields:!1,imageUpload:null,imageUploadParam:"file",imageUploadFields:!1,imageUploadForms:!1,imageTag:"figure",imageEditable:!0,imageCaption:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",dragImageUpload:!0,multipleImageUpload:!0,clipboardImageUpload:!0,fileUpload:null,fileUploadParam:"file",fileUploadFields:!1,fileUploadForms:!1,dragFileUpload:!0,s3:!1,linkNewTab:!1,linkTooltip:!0,linkNofollow:!1,linkSize:30,pasteLinkTarget:!1,videoContainerClass:"video-container",toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,air:!1,airWidth:!1,formatting:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],formattingAdd:!1,buttons:["format","bold","italic","deleted","lists","image","file","link"],buttonsHide:[],buttonsHideOnMobile:[],script:!0,removeComments:!0,replaceTags:{b:"strong",i:"em",strike:"del"},shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},shortcutsAdd:!1,activeButtons:["deleted","italic","bold"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted"},langs:{en:{format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U",lists:"Lists","link-insert":"Insert link","link-edit":"Edit link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",cancel:"Cancel",close:"Close",insert:"Insert",save:"Save",delete:"Delete",text:"Text",edit:"Edit",title:"Title",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line","upload-label":"Drop file here or ",caption:"Caption",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center","accessibility-help-label":"Rich text editor"}},type:"textarea",inline:!1,buffer:[],rebuffer:[],inlineTags:["a","span","strong","strike","b","u","em","i","code","del","ins","samp","kbd","sup","sub","mark","var","cite","small"],blockTags:["pre","ul","ol","li","p","h1","h2","h3","h4","h5","h6","dl","dt","dd","div","td","blockquote","output","figcaption","figure","address","section","header","footer","aside","article","iframe"],paragraphize:!0,paragraphizeBlocks:["table","div","pre","form","ul","ol","h1","h2","h3","h4","h5","h6","dl","blockquote","figcaption","address","section","header","footer","aside","article","object","style","script","iframe","select","input","textarea","button","option","map","area","math","hr","fieldset","legend","hgroup","nav","figure","details","menu","summary","p"],emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",imageTypes:["image/png","image/jpeg","image/gif"],userAgent:navigator.userAgent.toLowerCase(),observe:{dropdowns:[]},regexps:{linkyoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,linkvimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,linkimage:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi}},e.fn=t.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(e,i){if(this.$element=t(e),this.uuid=r++,this.loadOptions(i),this.loadModules(),this.opts.clickToEdit&&!this.$element.hasClass("redactor-click-to-edit"))return this.loadToEdit(i);this.$element.hasClass("redactor-click-to-edit")&&this.$element.removeClass("redactor-click-to-edit"),this.reIsBlock=new RegExp("^("+this.opts.blockTags.join("|").toUpperCase()+")$","i"),this.reIsInline=new RegExp("^("+this.opts.inlineTags.join("|").toUpperCase()+")$","i"),this.opts.dragImageUpload=null!==this.opts.imageUpload&&this.opts.dragImageUpload,this.opts.dragFileUpload=null!==this.opts.fileUpload&&this.opts.dragFileUpload,this.formatting={},this.lang.load(),t.extend(this.opts.shortcuts,this.opts.shortcutsAdd),this.$editor=this.$element,this.detectType(),this.core.callback("start"),this.core.callback("startToEdit"),this.start=!0,this.build.start()},detectType:function(){this.build.isInline()||this.opts.inline?this.opts.type="inline":this.build.isTag("DIV")?this.opts.type="div":this.build.isTag("PRE")&&(this.opts.type="pre")},loadToEdit:function(e){this.$element.on("click.redactor-click-to-edit",t.proxy(function(){this.initToEdit(e)},this)),this.$element.addClass("redactor-click-to-edit")},initToEdit:function(e){t.extend(e.callbacks,{startToEdit:function(){this.insert.node(this.marker.get(),!1)},initToEdit:function(){this.selection.restore(),this.clickToCancelStorage=this.code.get(),t(this.opts.clickToCancel).off(".redactor-click-to-edit"),t(this.opts.clickToCancel).show().on("click.redactor-click-to-edit",t.proxy(function(r){r.preventDefault(),this.core.destroy(),this.events.syncFire=!1,this.$element.html(this.clickToCancelStorage),this.core.callback("cancel",this.clickToCancelStorage),this.events.syncFire=!0,this.clickToCancelStorage="",t(this.opts.clickToCancel).hide(),t(this.opts.clickToSave).hide(),this.$element.on("click.redactor-click-to-edit",t.proxy(function(){this.initToEdit(e)},this)),this.$element.addClass("redactor-click-to-edit")},this)),t(this.opts.clickToSave).off(".redactor-click-to-edit"),t(this.opts.clickToSave).show().on("click.redactor-click-to-edit",t.proxy(function(r){r.preventDefault(),this.core.destroy(),this.core.callback("save",this.code.get()),t(this.opts.clickToCancel).hide(),t(this.opts.clickToSave).hide(),this.$element.on("click.redactor-click-to-edit",t.proxy(function(){this.initToEdit(e)},this)),this.$element.addClass("redactor-click-to-edit")},this))}}),this.$element.redactor(e),this.$element.off(".redactor-click-to-edit")},loadOptions:function(e){var r={};void 0!==t.Redactor.settings.namespace?this.$element.hasClass(t.Redactor.settings.namespace)&&(r=t.Redactor.settings):r=t.Redactor.settings,this.opts=t.extend({},t.extend(!0,{},t.Redactor.opts),t.extend(!0,{},r),this.$element.data(),e)},getModuleMethods:function(t){return Object.getOwnPropertyNames(t).filter(function(e){return"function"==typeof t[e]})},loadModules:function(){for(var e=t.Redactor.modules.length,r=0;r<e;r++)this.bindModuleMethods(t.Redactor.modules[r])},bindModuleMethods:function(t){if(void 0!==this[t]){this[t]=this[t]();for(var e=this.getModuleMethods(this[t]),r=e.length,i=0;i<r;i++)this[t][e[i]]=this[t][e[i]].bind(this)}},air:function(){return{enabled:!1,collapsed:function(){this.opts.air&&this.selection.get().collapseToStart()},collapsedEnd:function(){this.opts.air&&this.selection.get().collapseToEnd()},build:function(){this.detect.isMobile()||(this.button.hideButtons(),this.button.hideButtonsOnMobile(),0!==this.opts.buttons.length&&(this.$air=this.air.createContainer(),!1!==this.opts.airWidth&&this.$air.css("width",this.opts.airWidth),this.air.append(),this.button.$toolbar=this.$air,this.button.setFormatting(),this.button.load(this.$air),this.core.editor().on("mouseup.redactor",this,t.proxy(function(t){""!==this.selection.text()&&this.air.show(t)},this))))},append:function(){this.$air.appendTo("body")},createContainer:function(){return t("<ul>").addClass("redactor-air").attr({id:"redactor-air-"+this.uuid,role:"toolbar"}).hide()},show:function(e){this.marker.remove(),this.selection.save(),this.selection.restore(!1),t(".redactor-air").hide();var r=0,i=this.$air.innerWidth();t(window).width()<e.clientX+i&&(r=200),this.$air.css({left:e.clientX-r+"px",top:e.clientY+10+t(document).scrollTop()+"px"}).show(),this.air.enabled=!0,this.air.bindHide()},bindHide:function(){t(document).on("mousedown.redactor-air."+this.uuid,t.proxy(function(e){var r=t(e.target).closest(".redactor-dropdown").length;if(0===t(e.target).closest(this.$air).length&&0===r){!1!==this.air.hide(e)&&this.marker.remove()}},this)).on("keydown.redactor-air."+this.uuid,t.proxy(function(e){var r=e.which;if((this.utils.isRedactorParent(e.target)||t(e.target).hasClass("redactor-in"))&&0===t(e.target).closest("#redactor-modal").length){if(r===this.keyCode.ESC)this.selection.get().collapseToStart(),this.marker.remove();else if(r===this.keyCode.BACKSPACE||r===this.keyCode.DELETE){var i=this.selection.get(),o=this.selection.range(i);o.deleteContents(),this.marker.remove()}else r===this.keyCode.ENTER&&(this.selection.get().collapseToEnd(),this.marker.remove());this.air.enabled?this.air.hide(e):(this.selection.get().collapseToStart(),this.marker.remove())}},this))},hide:function(e){if(e.ctrlKey||e.metaKey||e.shiftKey&&e.altKey)return!1;this.button.setInactiveAll(),this.$air.fadeOut(100),this.air.enabled=!1,t(document).off("mousedown.redactor-air."+this.uuid)}}},autosave:function(){return{enabled:!1,html:!1,init:function(){this.opts.autosave&&(this.autosave.enabled=!0,this.autosave.name=this.opts.autosaveName?this.opts.autosaveName:this.$textarea.attr("name"))},is:function(){return this.autosave.enabled},send:function(){if(this.opts.autosave&&(this.autosave.source=this.code.get(),this.autosave.html!==this.autosave.source)){var e={};e.name=this.autosave.name,e[this.autosave.name]=this.autosave.source,e=this.autosave.getHiddenFields(e);t.ajax({url:this.opts.autosave,type:"post",data:e}).done(this.autosave.success)}},getHiddenFields:function(e){return!1===this.opts.autosaveFields||"object"!=typeof this.opts.autosaveFields?e:(t.each(this.opts.autosaveFields,t.proxy(function(r,i){null!==i&&0===i.toString().indexOf("#")&&(i=t(i).val()),e[r]=i},this)),e)},success:function(e){var r;try{r=t.parseJSON(e)}catch(t){r=e}var i=void 0===r.error?"autosave":"autosaveError";this.core.callback(i,this.autosave.name,r),this.autosave.html=this.autosave.source},disable:function(){this.autosave.enabled=!1,clearInterval(this.autosaveTimeout)}}},block:function(){return{format:function(e,r,i,o){if(e="quote"===e?"blockquote":e,this.block.tags=["p","blockquote","pre","h1","h2","h3","h4","h5","h6","div","figure"],-1!==t.inArray(e,this.block.tags))return"p"===e&&void 0===r&&(r="class"),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.block.formatCollapsed(e,r,i,o):this.block.formatUncollapsed(e,r,i,o)},formatCollapsed:function(e,r,i,o){this.selection.save();var n=this.selection.block(),s=n.tagName.toLowerCase();if(-1===t.inArray(s,this.block.tags))return void this.selection.restore();s===e&&(e="p");var a=this.utils.replaceToTag(n,e);if("object"==typeof r){o=i;for(var l in r)a=this.block.setAttr(a,l,r[l],o)}else a=this.block.setAttr(a,r,i,o);return"pre"===e&&1===a.length&&t(a).html(t.trim(t(a).html())),this.selection.restore(),this.block.removeInlineTags(a),a},formatUncollapsed:function(e,r,i,o){this.selection.save();var n=[],s=this.selection.blocks();s[0]&&t(s[0]).hasClass("redactor-in")&&(s=t(s[0]).find(this.opts.blockTags.join(", ")));for(var a=s.length,l=0;l<a;l++){var c=s[l].tagName.toLowerCase();if(-1!==t.inArray(c,this.block.tags)&&"figure"!==c){var u=this.utils.replaceToTag(s[l],e);if("object"==typeof r){o=i;for(var d in r)u=this.block.setAttr(u,d,r[d],o)}else u=this.block.setAttr(u,r,i,o);n.push(u),this.block.removeInlineTags(u)}}if(this.selection.restore(),"pre"===e&&0!==n.length){var h=n[0];t.each(n,function(e,r){0!==e&&(t(h).append("\n"+t.trim(r.html())),t(r).remove())}),n=[],n.push(h)}return n},removeInlineTags:function(e){e=e[0]||e;var r=this.opts.inlineTags,i=["PRE","H1","H2","H3","H4","H5","H6"];if(-1!==t.inArray(e.tagName,i)){if("PRE"!==e.tagName){var o=r.indexOf("a");r.splice(o,1)}t(e).find(r.join(",")).not(".redactor-selection-marker").contents().unwrap()}},setAttr:function(t,e,r,i){if(void 0===e)return t;var o=void 0===i?"replace":i;return t="class"===e?this.block[o+"Class"](r,t):"remove"===o?this.block[o+"Attr"](e,t):"removeAll"===o?this.block[o+"Attr"](e,t):this.block[o+"Attr"](e,r,t)},getBlocks:function(t){return void 0===t?this.selection.blocks():t},replaceClass:function(e,r){return t(this.block.getBlocks(r)).removeAttr("class").addClass(e)[0]},toggleClass:function(e,r){return t(this.block.getBlocks(r)).toggleClass(e)[0]},addClass:function(e,r){return t(this.block.getBlocks(r)).addClass(e)[0]},removeClass:function(e,r){return t(this.block.getBlocks(r)).removeClass(e)[0]},removeAllClass:function(e){return t(this.block.getBlocks(e)).removeAttr("class")[0]},replaceAttr:function(e,r,i){return i=this.block.removeAttr(e,i),t(i).attr(e,r)[0]},toggleAttr:function(e,r,i){i=this.block.getBlocks(i);var o=this,n=[];return t.each(i,function(i,s){t(s).attr(e)?n.push(o.block.removeAttr(e,s)):n.push(o.block.addAttr(e,r,s))}),n},addAttr:function(e,r,i){return t(this.block.getBlocks(i)).attr(e,r)[0]},removeAttr:function(e,r){return t(this.block.getBlocks(r)).removeAttr(e)[0]},removeAllAttr:function(e){e=this.block.getBlocks(e);var r=[];return t.each(e,function(e,i){void 0===i.attributes&&r.push(i);for(var o=t(i),n=i.attributes.length,s=0;s<n;s++)o.removeAttr(i.attributes[s].name);r.push(o[0])}),r}}},buffer:function(){return{set:function(t){void 0===t&&this.buffer.clear(),void 0===t||"undo"===t?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){this.selection.save();var t=this.opts.buffer[this.opts.buffer.length-1],e=this.core.editor().html();t!==e&&this.opts.buffer.push(e),this.selection.restore()},setRedo:function(){this.selection.save(),this.opts.rebuffer.push(this.core.editor().html()),this.selection.restore()},getUndo:function(){this.core.editor().html(this.opts.buffer.pop())},getRedo:function(){this.core.editor().html(this.opts.rebuffer.pop())},add:function(){this.opts.buffer.push(this.core.editor().html())},undo:function(){0!==this.opts.buffer.length&&(this.buffer.set("redo"),this.buffer.getUndo(),this.selection.restore())},redo:function(){0!==this.opts.rebuffer.length&&(this.buffer.set("undo"),this.buffer.getRedo(),this.selection.restore())},clear:function(){this.opts.rebuffer=[]}}},build:function(){return{start:function(){if("inline"===this.opts.type)this.opts.type="inline";else if("div"===this.opts.type){var e=t.trim(this.$editor.html());""===e&&this.$editor.html(this.opts.emptyHtml)}else"textarea"===this.opts.type&&this.build.startTextarea();this.build.setIn(),this.build.setId(),this.build.enableEditor(),this.build.setOptions(),this.build.callEditor()},createContainerBox:function(){this.$box=t('<div class="redactor-box" role="application" />')},setIn:function(){this.core.editor().addClass("redactor-in")},setId:function(){var t="textarea"===this.opts.type?"redactor-uuid-"+this.uuid:this.$element.attr("id");this.core.editor().attr("id",void 0===t?"redactor-uuid-"+this.uuid:t)},getName:function(){var t=this.$element.attr("name");return void 0===t?"content-"+this.uuid:t},loadFromTextarea:function(){this.$editor=t("<div />"),this.$textarea=this.$element,this.$element.attr("name",this.build.getName()),this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element),this.$editor.addClass("redactor-editor"),this.$element.hide(),this.$box.prepend('<span class="redactor-voice-label" id="redactor-voice-'+this.uuid+'" aria-hidden="false">'+this.lang.get("accessibility-help-label")+"</span>"),this.$editor.attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},startTextarea:function(){this.build.createContainerBox(),this.build.loadFromTextarea(),this.code.start(this.core.textarea().val()),this.core.textarea().val(this.clean.onSync(this.$editor.html()))},isTag:function(t){return this.$element[0].tagName===t},isInline:function(){return!this.build.isTag("TEXTAREA")&&!this.build.isTag("DIV")&&!this.build.isTag("PRE")},enableEditor:function(){this.core.editor().attr({contenteditable:!0})},setOptions:function(){"inline"===this.opts.type&&(this.opts.enterKey=!1),"inline"!==this.opts.type&&"pre"!==this.opts.type||(this.opts.toolbarMobile=!1,this.opts.toolbar=!1,this.opts.air=!1,this.opts.linkify=!1),this.opts.structure&&this.core.editor().addClass("redactor-structure"),"textarea"===this.opts.type&&(this.core.box().attr("dir",this.opts.direction),this.core.editor().attr("dir",this.opts.direction),this.opts.tabindex&&this.core.editor().attr("tabindex",this.opts.tabindex),this.opts.minHeight?this.core.editor().css("min-height",this.opts.minHeight):this.core.editor().css("min-height","40px"),this.opts.maxHeight&&this.core.editor().css("max-height",this.opts.maxHeight),this.opts.maxWidth&&this.core.editor().css({"max-width":this.opts.maxWidth,margin:"auto"}))},callEditor:function(){this.build.disableBrowsersEditing(),this.events.init(),this.build.setHelpers(),(this.opts.toolbar||this.opts.air)&&(this.toolbarsButtons=this.button.init()),this.opts.air?this.air.build():this.opts.toolbar&&this.toolbar.build(),this.detect.isMobile()&&this.opts.toolbarMobile&&this.opts.air&&(this.opts.toolbar=!0,this.toolbar.build()),(this.opts.air||this.opts.toolbar)&&(this.core.editor().on("mouseup.redactor-observe."+this.uuid+" keyup.redactor-observe."+this.uuid+" focus.redactor-observe."+this.uuid+" touchstart.redactor-observe."+this.uuid,t.proxy(this.observe.toolbar,this)),this.core.element().on("blur.callback.redactor",t.proxy(function(){this.button.setInactiveAll()},this))),this.modal.templates(),this.build.plugins(),this.autosave.init(),this.code.html=this.code.cleaned(this.core.editor().html()),this.core.callback("init"),this.core.callback("initToEdit"),this.storage.observe(),this.start=!1},setHelpers:function(){this.opts.linkify&&this.linkify.format(),this.placeholder.init(),this.opts.focus?setTimeout(this.focus.start,100):this.opts.focusEnd&&setTimeout(this.focus.end,100)},disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",!1,!1)}catch(t){}},plugins:function(){this.opts.plugins&&t.each(this.opts.plugins,t.proxy(function(r,i){var o="undefined"!=typeof RedactorPlugins&&void 0!==RedactorPlugins[i]?RedactorPlugins:e.fn;if(t.isFunction(o[i])){this[i]=o[i]();for(var n=this.getModuleMethods(this[i]),s=n.length,a=0;a<s;a++)this[i][n[a]]=this[i][n[a]].bind(this);if(void 0!==this[i].langs){var l={};void 0!==this[i].langs[this.opts.lang]?l=this[i].langs[this.opts.lang]:void 0===this[i].langs[this.opts.lang]&&void 0!==this[i].langs.en&&(l=this[i].langs.en);var c=this;t.each(l,function(t,e){void 0===c.opts.curLang[t]&&(c.opts.curLang[t]=e)})}t.isFunction(this[i].init)&&this[i].init()}},this))}}},button:function(){return{toolbar:function(){return void 0!==this.button.$toolbar&&this.button.$toolbar?this.button.$toolbar:this.$toolbar},init:function(){return{format:{title:this.lang.get("format"),dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{title:this.lang.get("code"),func:"block.format"},h1:{title:this.lang.get("heading1"),func:"block.format"},h2:{title:this.lang.get("heading2"),func:"block.format"},h3:{title:this.lang.get("heading3"),func:"block.format"},h4:{title:this.lang.get("heading4"),func:"block.format"},h5:{title:this.lang.get("heading5"),func:"block.format"},h6:{title:this.lang.get("heading6"),func:"block.format"}}},bold:{title:this.lang.get("bold-abbr"),label:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic-abbr"),label:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted-abbr"),label:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline-abbr"),label:this.lang.get("underline"),func:"inline.format"},lists:{title:this.lang.get("lists"),dropdown:{unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+this.lang.get("outdent"),func:"indent.decrease",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},ul:{title:"&bull; "+this.lang.get("bulletslist"),func:"list.toggle"},ol:{title:"1. "+this.lang.get("numberslist"),func:"list.toggle"},outdent:{title:this.lang.get("outdent"),func:"indent.decrease"},indent:{title:this.lang.get("indent"),func:"indent.increase"},image:{title:this.lang.get("image"),func:"image.show"},file:{title:this.lang.get("file"),func:"file.show"},link:{title:this.lang.get("link"),dropdown:{link:{title:this.lang.get("link-insert"),func:"link.show",observe:{element:"a",in:{title:this.lang.get("link-edit")},out:{title:this.lang.get("link-insert")}}},unlink:{title:this.lang.get("unlink"),func:"link.unlink",observe:{element:"a",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},horizontalrule:{title:this.lang.get("horizontalrule"),func:"line.insert"}}},setFormatting:function(){t.each(this.toolbarsButtons.format.dropdown,t.proxy(function(e,r){-1===t.inArray(e,this.opts.formatting)&&delete this.toolbarsButtons.format.dropdown[e]},this))},hideButtons:function(){0!==this.opts.buttonsHide.length&&this.button.hideButtonsSlicer(this.opts.buttonsHide)},hideButtonsOnMobile:function(){this.detect.isMobile()&&0!==this.opts.buttonsHideOnMobile.length&&this.button.hideButtonsSlicer(this.opts.buttonsHideOnMobile)},hideButtonsSlicer:function(e){t.each(e,t.proxy(function(t,e){var r=this.opts.buttons.indexOf(e);-1!==r&&this.opts.buttons.splice(r,1)},this))},load:function(e){this.button.buttons=[],t.each(this.opts.buttons,t.proxy(function(r,i){!this.toolbarsButtons[i]||"file"===i&&!this.file.is()||"image"===i&&!this.image.is()||e.append(t("<li>").append(this.button.build(i,this.toolbarsButtons[i])))},this))},build:function(e,r){if(!1!==this.opts.toolbar){var i=t('<a href="javascript:void(null);" class="re-button re-'+e+'" title="'+r.title+'" rel="'+e+'" />').html(r.title);if(i.attr({role:"button","aria-label":r.title,tabindex:"-1"}),void 0!==r.label&&(i.attr("aria-label",r.label),i.attr("title",r.label)),(r.func||r.command||r.dropdown)&&this.button.setEvent(i,e,r),r.dropdown){i.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var o=t('<ul class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+e+'" style="display: none;">');i.data("dropdown",o),this.dropdown.build(e,o,r.dropdown)}return this.button.buttons.push(i),i}},getButtons:function(){return this.button.toolbar().find("a.re-button")},getButtonsKeys:function(){return this.button.buttons},setEvent:function(e,r,i){e.on("mousedown",t.proxy(function(t){if(t.preventDefault(),e.hasClass("redactor-button-disabled"))return!1;var o="func",n=i.func;return i.command?(o="command",n=i.command):i.dropdown&&(o="dropdown",n=!1),this.button.toggle(t,r,o,n),!1},this))},toggle:function(t,e,r,i,o){!this.detect.isIe()&&this.detect.isDesktop()||(this.utils.freezeScroll(),t.returnValue=!1),"command"===r?this.inline.format(i):"dropdown"===r?this.dropdown.show(t,e):this.button.clickCallback(t,i,e,o),"dropdown"!==r&&this.dropdown.hideAll(!1),this.opts.air&&"dropdown"!==r&&this.air.hide(t),!this.detect.isIe()&&this.detect.isDesktop()||this.utils.unfreezeScroll()},clickCallback:function(e,r,i,o){var n;if(o=void 0===o?i:o,t.isFunction(r))r.call(this,i);else if("-1"!==r.search(/\./)){if(n=r.split("."),void 0===this[n[0]])return;"object"==typeof o?this[n[0]][n[1]].apply(this,o):this[n[0]][n[1]].call(this,o)}else"object"==typeof o?this[r].apply(this,o):this[r].call(this,o);this.observe.buttons(e,i)},all:function(){return this.button.buttons},get:function(t){if(!1!==this.opts.toolbar)return this.button.toolbar().find("a.re-"+t)},set:function(t,e){if(!1!==this.opts.toolbar){var r=this.button.toolbar().find("a.re-"+t);return r.html(e).attr("aria-label",e),r}},add:function(e,r){if(!0!==this.button.isAdded(e))return t();var i=this.button.build(e,{title:r});return this.button.toolbar().append(t("<li>").append(i)),i},addFirst:function(e,r){if(!0!==this.button.isAdded(e))return t();var i=this.button.build(e,{title:r});return this.button.toolbar().prepend(t("<li>").append(i)),i},addAfter:function(e,r,i){if(!0!==this.button.isAdded(r))return t();var o=this.button.build(r,{title:i}),n=this.button.get(e);return 0!==n.length?n.parent().after(t("<li>").append(o)):this.button.toolbar().append(t("<li>").append(o)),o},addBefore:function(e,r,i){if(!0!==this.button.isAdded(r))return t();var o=this.button.build(r,{title:i}),n=this.button.get(e);return 0!==n.length?n.parent().before(t("<li>").append(o)):this.button.toolbar().append(t("<li>").append(o)),o},isAdded:function(t){var e=this.opts.buttonsHideOnMobile.indexOf(t);return!(!1===this.opts.toolbar||-1!==e&&this.detect.isMobile())},setIcon:function(t,e){t.html(e)},addCallback:function(e,r){if(void 0!==e&&!1!==this.opts.toolbar){var i="dropdown"===r?"dropdown":"func",o=e.attr("rel");e.on("mousedown",t.proxy(function(t){if(e.hasClass("redactor-button-disabled"))return!1;this.button.toggle(t,o,i,r)},this))}},addDropdown:function(e,r){if(!1!==this.opts.toolbar){e.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var i=e.attr("rel");this.button.addCallback(e,"dropdown");var o=t('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+i+'" style="display: none;">');return e.data("dropdown",o),r&&this.dropdown.build(i,o,r),o}},setActive:function(t){this.button.get(t).addClass("redactor-act")},setInactive:function(t){this.button.get(t).removeClass("redactor-act")},setInactiveAll:function(t){var e=this.button.toolbar().find("a.re-button");void 0!==t&&(e=e.not(".re-"+t)),e.removeClass("redactor-act")},disable:function(t){this.button.get(t).addClass("redactor-button-disabled")},enable:function(t){this.button.get(t).removeClass("redactor-button-disabled")},disableAll:function(t){var e=this.button.toolbar().find("a.re-button");void 0!==t&&(e=e.not(".re-"+t)),e.addClass("redactor-button-disabled")},enableAll:function(){this.button.toolbar().find("a.re-button").removeClass("redactor-button-disabled")},remove:function(t){this.button.get(t).remove()}}},caret:function(){return{set:function(t,e,r){this.core.editor().focus(),r=void 0===r?0:1,t=t[0]||t,e=e[0]||e;var i=this.selection.get(),o=this.selection.range(i);try{o.setStart(t,0),o.setEnd(e,r)}catch(t){}this.selection.update(i,o)},prepare:function(t){return this.detect.isFirefox()&&void 0!==this.start&&this.core.editor().focus(),t[0]||t},start:function(e){var r,i;if(e=this.caret.prepare(e)){if("BR"===e.tagName)return this.caret.before(e);var o=this.utils.isInlineTag(e.tagName);if(""===e.innerHTML||o){r=window.getSelection(),i=document.createRange();var n=document.createTextNode("");i.setStart(e,0),i.insertNode(n),i.setStartAfter(n),i.collapse(!0),r.removeAllRanges(),r.addRange(i),o||this.core.editor().on("keydown.redactor-remove-textnode",function(){t(n).remove(),t(this).off("keydown.redactor-remove-textnode")})}else r=window.getSelection(),r.removeAllRanges(),i=document.createRange(),i.selectNodeContents(e),i.collapse(!0),r.addRange(i)}},end:function(e){var r,i;if(e=this.caret.prepare(e)){if("BR"!==e.tagName&&""===e.innerHTML)return this.caret.start(e);if("BR"===e.tagName){var o=document.createElement("span");return o.className="redactor-invisible-space",o.innerHTML="&#x200b;",t(e).after(o),r=window.getSelection(),r.removeAllRanges(),i=document.createRange(),i.setStartBefore(o),i.setEndBefore(o),r.addRange(i),void t(o).replaceWith(function(){return t(this).contents()})}if(e.lastChild&&1===e.lastChild.nodeType)return this.caret.after(e.lastChild);r=window.getSelection(),r.removeAllRanges(),i=document.createRange(),i.selectNodeContents(e),i.collapse(!1),r.addRange(i)}},after:function(e){var r,i;if(e=this.caret.prepare(e)){if("BR"===e.tagName)return this.caret.end(e);if(this.utils.isBlockTag(e.tagName)){var o=this.caret.next(e);return void(void 0===o?this.caret.end(e):("TABLE"===o.tagName?o=t(o).find("th, td").first()[0]:"UL"!==o.tagName&&"OL"!==o.tagName||(o=t(o).find("li").first()[0]),this.caret.start(o)))}var n=document.createTextNode("");r=window.getSelection(),r.removeAllRanges(),i=document.createRange(),i.setStartAfter(e),i.insertNode(n),i.setStartAfter(n),i.collapse(!0),r.addRange(i)}},before:function(e){var r,i;if(e=this.caret.prepare(e)){if(this.utils.isBlockTag(e.tagName)){var o=this.caret.prev(e);return void(void 0===o?this.caret.start(e):("TABLE"===o.tagName?o=t(o).find("th, td").last()[0]:"UL"!==o.tagName&&"OL"!==o.tagName||(o=t(o).find("li").last()[0]),this.caret.end(o)))}r=window.getSelection(),r.removeAllRanges(),i=document.createRange(),i.setStartBefore(e),i.collapse(!0),r.addRange(i)}},next:function(e){var r=t(e).next();return r.hasClass("redactor-script-tag, redactor-selection-marker")?r.next()[0]:r[0]},prev:function(e){var r=t(e).prev();return r.hasClass("redactor-script-tag, redactor-selection-marker")?r.prev()[0]:r[0]},offset:function(t){return this.offset.get(t)}}},clean:function(){return{onSet:function(e){e=this.clean.savePreCode(e),e=this.clean.saveFormTags(e),this.opts.script&&(e=e.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,'<pre class="redactor-script-tag" $1>$2</pre>')),e=e.replace(/\$/g,"&#36;"),e=e.replace(/&amp;/g,"&"),e=e.replace(/<a href="(.*?[^>]?)(.*?[^>]?)">/gi,'<a href="$1&reg$2">'),e=e.replace(/<span(.*?[^>]?)id="selection-marker-1"(.*?[^>]?)><\/span>/gi,"[[[marker1]]]"),e=e.replace(/<span(.*?[^>]?)id="selection-marker-2"(.*?[^>]?)><\/span>/gi,"[[[marker2]]]");var r=this,i=t("<div/>").html(t.parseHTML(e,document,!0)),o=this.opts.replaceTags;if(o){var n=Object.keys(this.opts.replaceTags);i.find(n.join(",")).each(function(t,e){r.utils.replaceToTag(e,o[e.tagName.toLowerCase()])})}e=i.html();var s=["font","html","head","link","body","meta","applet"];return this.opts.script||s.push("script"),e=this.clean.stripTags(e,s),this.opts.removeComments&&(e=e.replace(/<!--[\s\S]*?-->/gi,"")),e=this.paragraphize.load(e),e=e.replace("[[[marker1]]]",'<span id="selection-marker-1" class="redactor-selection-marker"></span>'),e=e.replace("[[[marker2]]]",'<span id="selection-marker-2" class="redactor-selection-marker"></span>'),-1!==e.search(/^(||\s||<br\s?\/?>||&nbsp;)$/i)?this.opts.emptyHtml:e},onGet:function(t){return this.clean.onSync(t)},onSync:function(e){if(e=e.replace(/\u200B/g,""),e=e.replace(/&#x200b;/gi,""),-1!==e.search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";e=e.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>"),e=e.replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,""),e=e.replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,""),e=e.replace(/<img(.*?)style="(.*?)opacity: 0\.5;(.*?)"(.*?)>/gi,'<img$1style="$2$3"$4>');var r=t("<div/>").html(t.parseHTML(e,document,!0));r.find('*[style=""]').removeAttr("style"),r.find('*[class=""]').removeAttr("class"),r.find('*[rel=""]').removeAttr("rel"),r.find(".redactor-invisible-space").each(function(){t(this).contents().unwrap()}),r.find("span").each(function(){0===this.attributes.length&&t(this).contents().unwrap()}),r.find("img").removeAttr("rel"),r.find(".redactor-selection-marker, #redactor-insert-marker").remove(),e=r.html(),this.opts.script&&(e=e.replace(/<pre class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2<\/script>")),e=this.clean.restoreFormTags(e),e=e.replace(new RegExp("<br\\s?/?></h","gi"),"</h"),e=e.replace(new RegExp("<br\\s?/?></li>","gi"),"</li>"),e=e.replace(new RegExp("</li><br\\s?/?>","gi"),"</li>"),e=e.replace(/<pre>/gi,"<pre>\n"),this.opts.preClass&&(e=e.replace(/<pre>/gi,'<pre class="'+this.opts.preClass+'">')),this.opts.linkNofollow&&(e=e.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,"<a$1$2>"),e=e.replace(/<a(.*?[^>])>/gi,'<a$1 rel="nofollow">'));var i={"":"&trade;","":"&copy;","":"&hellip;","":"&mdash;","":"&dash;"};return t.each(i,function(t,r){e=e.replace(new RegExp(t,"g"),r)}),e=e.replace(/&amp;/g,"&"),e=e.replace(/<p><\/p>/gi,"")},onPaste:function(e,r,i){if(!0!==i){e=e.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),e=e.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3"),e=e.replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>"),e=e.replace(/<span[^>]*(font-style: italic; font-weight: 700|font-weight: 700; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>"),e=e.replace(/<span[^>]*font-style: italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>"),e=e.replace(/<span[^>]*font-weight: bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>"),e=e.replace(/<span[^>]*font-weight: 700[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>");this.clean.isHtmlMsWord(e)&&(e=this.clean.cleanMsWord(e))}return e=t.trim(e),r.pre?this.opts.preSpaces&&(e=e.replace(/\t/g,new Array(this.opts.preSpaces+1).join(" "))):(e=this.clean.replaceBrToNl(e),e=this.clean.removeTagsInsidePre(e)),!0!==i&&(e=this.clean.removeSpans(e),e=this.clean.removeEmptyInlineTags(e),!1===r.encode&&(e=e.replace(/&/g,"&amp;"),e=this.clean.convertTags(e,r),e=this.clean.getPlainText(e),e=this.clean.reconvertTags(e,r))),r.text&&(e=this.clean.replaceNbspToSpaces(e),e=this.clean.getPlainText(e)),r.lists&&(e=e.replace("\n","<br>")),r.encode&&(e=this.clean.encodeHtml(e)),r.paragraphize&&(e=this.paragraphize.load(e)),e},getCurrentType:function(t,e){var r=this.selection.blocks(),i={text:!1,encode:!1,paragraphize:!0,line:this.clean.isHtmlLine(t),blocks:this.clean.isHtmlBlocked(t),pre:!1,lists:!1,block:!0,inline:!0,links:!0,images:!0};return 1===r.length&&this.utils.isCurrentOrParent(["h1","h2","h3","h4","h5","h6","a","figcaption"])?(i.text=!0,i.paragraphize=!1,i.inline=!1,i.images=!1,i.links=!1,i.line=!0):"inline"===this.opts.type||!1===this.opts.enterKey?(i.paragraphize=!1,i.block=!1,i.line=!0):1===r.length&&this.utils.isCurrentOrParent(["li"])?(i.lists=!0,i.block=!1,i.paragraphize=!1,i.images=!1):1===r.length&&this.utils.isCurrentOrParent(["th","td","blockquote"])?(i.block=!1,i.paragraphize=!1):("pre"===this.opts.type||1===r.length&&this.utils.isCurrentOrParent("pre"))&&(i.inline=!1,i.block=!1,i.encode=!0,i.pre=!0,i.paragraphize=!1,i.images=!1,i.links=!1),!0===i.line&&(i.paragraphize=!1),!0===e&&(i.text=!1),i},isHtmlBlocked:function(t){var e=t.match(new RegExp("</("+this.opts.blockTags.join("|").toUpperCase()+")>","gi")),r=t.match(new RegExp("<hr(.*?[^>])>","gi"));return null!==e||null!==r},isHtmlLine:function(t){if(this.clean.isHtmlBlocked(t))return!1;var e=t.match(/<br\s?\/?>/gi),r=t.match(/\n/gi);return!e&&!r},isHtmlMsWord:function(t){return t.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},removeEmptyInlineTags:function(t){for(var e=this.opts.inlineTags,r=e.length,i=0;i<r;i++)t=t.replace(new RegExp("<"+e[i]+"[^>]*>(s\n|\t)?</"+e[i]+">","gi"),"");return t},removeSpans:function(t){return t=t.replace(/<\/span>/gi,""),t=t.replace(/<span[^>]*>/gi,"")},cleanMsWord:function(e){e=e.replace(/<!--[\s\S]*?-->/g,""),e=e.replace(/<o:p>[\s\S]*?<\/o:p>/gi,""),e=e.replace(/\n/g," "),e=e.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n\n");var r=t("<div/>").html(e),i=!1,o=1,n=[];return r.find("p[style]").each(function(){var e=t(this).attr("style").match(/mso\-list\:l([0-9]+)\slevel([0-9]+)/);if(e){var s=parseInt(e[1]),a=parseInt(e[2]),l=t(this).html().match(/^[\w]+\./)?"ol":"ul",c=t("<li/>").html(t(this).html());if(c.html(c.html().replace(/^([\w\.]+)</,"<")),c.find("span:first").remove(),1==a&&-1==t.inArray(s,n)){var u=t("<"+l+"/>").attr({"data-level":a,"data-list":s}).html(c);t(this).replaceWith(u),i=s,n.push(s)}else{if(a>o){for(var d=r.find('[data-level="'+o+'"][data-list="'+i+'"]'),h=d,p=o;p<a;p++)u=t("<"+l+"/>"),u.appendTo(h.find("li").last()),h=u;h.attr({"data-level":a,"data-list":s}).html(c)}else{var d=r.find('[data-level="'+a+'"][data-list="'+s+'"]').last();d.append(c)}o=a,i=s,t(this).remove()}}}),r.find("[data-level][data-list]").removeAttr("data-level data-list"),e=r.html()},replaceNbspToSpaces:function(t){return t.replace("&nbsp;"," ")},replaceBrToNl:function(t){return t.replace(/<br\s?\/?>/gi,"\n")},replaceNlToBr:function(t){return t.replace(/\n/g,"<br />")},convertTags:function(e,r){var i=t("<div>").html(e);i.find("iframe").remove();var o=i.find("a");if(o.removeAttr("style"),!1!==this.opts.pasteLinkTarget&&o.attr("target",this.opts.pasteLinkTarget),e=i.html(),r.links&&this.opts.pasteLinks&&(e=e.replace(/<a(.*?)href="(.*?)"(.*?)>(.*?)<\/a>/gi,'###a$1href="$2"$3###$4###/a###')),r.images&&this.opts.pasteImages&&(e=e.replace(/<img(.*?)src="(.*?)"(.*?[^>])>/gi,'###img$1src="$2"$3###')),this.opts.pastePlainText)return e;var n,s=r.lists?["ul","ol","li"]:this.opts.pasteBlockTags;n=r.block||r.lists?r.inline?s.concat(this.opts.pasteInlineTags):s:r.inline?this.opts.pasteInlineTags:[];for(var a=n.length,l=0;l<a;l++)e=e.replace(new RegExp("</"+n[l]+">","gi"),"###/"+n[l]+"###"),e="td"===n[l]||"th"===n[l]?e.replace(new RegExp("<"+n[l]+'(.*?[^>])((colspan|rowspan)="(.*?[^>])")?(.*?[^>])>',"gi"),"###"+n[l]+" $2###"):e.replace(new RegExp("<"+n[l]+"[^>]*>","gi"),"###"+n[l]+"###");return e},reconvertTags:function(t,e){if(e.links&&this.opts.pasteLinks&&(t=t.replace(/###a(.*?)href="(.*?)"(.*?)###(.*?)###\/a###/gi,'<a$1href="$2"$3>$4</a>')),e.images&&this.opts.pasteImages&&(t=t.replace(/###img(.*?)src="(.*?)"###/gi,'<img src="$2">')),this.opts.pastePlainText)return t;var r,i=e.lists?["ul","ol","li"]:this.opts.pasteBlockTags;r=e.block||e.lists?e.inline?i.concat(this.opts.pasteInlineTags):i:e.inline?this.opts.pasteInlineTags:[];for(var o=r.length,n=0;n<o;n++)t=t.replace(new RegExp("###/"+r[n]+"###","gi"),"</"+r[n]+">"),t=t.replace(new RegExp("###"+r[n]+"###","gi"),"<"+r[n]+">");for(var n=0;n<o;n++)"td"!==r[n]&&"th"!==r[n]||(t=t.replace(new RegExp("###"+r[n]+"s?(.*?[^#])###","gi"),"<"+r[n]+"$1>"));return t},cleanPre:function(e){e=void 0===e?t(this.selection.block()).closest("pre",this.core.editor()[0]):e,t(e).find("br").replaceWith(function(){return document.createTextNode("\n")}),t(e).find("p").replaceWith(function(){return t(this).contents()})},removeTagsInsidePre:function(e){var r=t("<div />").append(e);return r.find("pre").replaceWith(function(){var e=t(this).html();return e=e.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n"),e=e.replace(/(<([^>]+)>)/gi,""),t("<pre />").append(e)}),e=r.html(),r.remove(),e},getPlainText:function(e){e=e.replace(/<!--[\s\S]*?-->/gi,""),e=e.replace(/<style[\s\S]*?style>/gi,""),e=e.replace(/<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n"),e=e.replace(/<\/H[1-6]>/gi,"\n\n");var r=document.createElement("div");return r.innerHTML=e,e=r.textContent||r.innerText,t.trim(e)},savePreCode:function(t){return t=this.clean.savePreFormatting(t),t=this.clean.saveCodeFormatting(t),t=this.clean.restoreSelectionMarkers(t)},savePreFormatting:function(e){var r=e.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return null===r?e:(t.each(r,t.proxy(function(t,r){var i=r.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i);i[2]=i[2].replace(/<br\s?\/?>/g,"\n"),i[2]=i[2].replace(/&nbsp;/g," "),this.opts.preSpaces&&(i[2]=i[2].replace(/\t/g,new Array(this.opts.preSpaces+1).join(" "))),i[2]=this.clean.encodeEntities(i[2]),i[2]=i[2].replace(/\$/g,"&#36;"),e=e.replace(r,"<pre"+i[1]+">"+i[2]+"</pre>")},this)),e)},saveCodeFormatting:function(e){var r=e.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);return null===r?e:(t.each(r,t.proxy(function(t,r){var i=r.match(/<code(.*?)>([\w\W]*?)<\/code>/i);i[2]=i[2].replace(/&nbsp;/g," "),i[2]=this.clean.encodeEntities(i[2]),i[2]=i[2].replace(/\$/g,"&#36;"),e=e.replace(r,"<code"+i[1]+">"+i[2]+"</code>")},this)),e)},restoreSelectionMarkers:function(t){return t=t.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot;&gt;&lt;\/span&gt;/g,'<span id="selection-marker-$1" class="redactor-selection-marker"></span>')},saveFormTags:function(t){return t.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(t){return t.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")},encodeHtml:function(t){return t=t.replace(//g,'"'),t=t.replace(//g,'"'),t=t.replace(//g,"'"),t=t.replace(//g,"'"),t=this.clean.encodeEntities(t)},encodeEntities:function(t){return t=String(t).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},stripTags:function(t,e){if(void 0===e)return t.replace(/(<([^>]+)>)/gi,"");var r=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return t.replace(r,function(t,r){return-1===e.indexOf(r.toLowerCase())?t:""})},removeMarkers:function(t){return t.replace(/<span(.*?[^>]?)class="redactor-selection-marker"(.*?[^>]?)>([\w\W]*?)<\/span>/gi,"")},removeSpaces:function(e){return e=t.trim(e),e=e.replace(/\n/g,""),e=e.replace(/[\t]*/g,""),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/g," "),e=e.replace(/[\s\n]*$/g," "),e=e.replace(/>\s{2,}</g,"> <"),e=e.replace(/\n\n/g,"\n"),e=e.replace(/\u200B/g,"")},removeSpacesHard:function(e){return e=t.trim(e),e=e.replace(/\n/g,""),e=e.replace(/[\t]*/g,""),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/g,""),e=e.replace(/[\s\n]*$/g,""),e=e.replace(/>\s{2,}</g,"><"),e=e.replace(/\n\n/g,"\n"),e=e.replace(/\u200B/g,"")},normalizeCurrentHeading:function(){var t=this.selection.block();this.utils.isCurrentOrParentHeader()&&t&&t.normalize()}}},code:function(){return{syncFire:!0,html:!1,start:function(e){e=t.trim(e),e=e.replace(/^(<span id="selection-marker-1" class="redactor-selection-marker"><\/span>)/,""),"textarea"===this.opts.type?e=this.clean.onSet(e):"div"===this.opts.type&&""===e&&(e=this.opts.emptyHtml),this.events.stopDetectChanges(),this.core.editor().html(e),this.observe.load(),this.events.startDetectChanges()},set:function(e,r){e=t.trim(e),r=r||{},r.start&&(this.start=r.start),"textarea"===this.opts.type?e=this.clean.onSet(e):"div"===this.opts.type&&""===e&&(e=this.opts.emptyHtml),this.core.editor().html(e),"textarea"===this.opts.type&&this.code.sync(),this.placeholder.enable()},get:function(){if("textarea"===this.opts.type)return this.core.textarea().val();var t=this.core.editor().html();return t=this.clean.onGet(t)},sync:function(){if(this.code.syncFire){var e=this.core.editor().html(),r=this.code.cleaned(e);if(!this.code.isSync(r)){if(this.code.html=r,"textarea"!==this.opts.type)return this.core.callback("sync",e),void this.core.callback("change",e);"textarea"===this.opts.type&&setTimeout(t.proxy(function(){this.code.startSync(e)},this),10)}}},startSync:function(t){t=this.core.callback("syncBefore",t),t=this.clean.onSync(t),this.core.textarea().val(t),this.core.callback("sync",t),!1===this.start&&this.core.callback("change",t),this.start=!1},isSync:function(t){var e=!1!==this.code.html&&this.code.html;return!1!==e&&e===t},cleaned:function(t){return t=t.replace(/\u200B/g,""),this.clean.removeMarkers(t)}}},core:function(){return{id:function(){return this.$editor.attr("id")},element:function(){return this.$element},editor:function(){return void 0===this.$editor?t():this.$editor},textarea:function(){return this.$textarea},box:function(){return"textarea"===this.opts.type?this.$box:this.$element},toolbar:function(){return!!this.$toolbar&&this.$toolbar},air:function(){return!!this.$air&&this.$air},object:function(){return t.extend({},this)},structure:function(){this.core.editor().toggleClass("redactor-structure")},addEvent:function(t){this.core.event=t},getEvent:function(){return this.core.event},callback:function(e,r,i){var o=!1,n=t._data(this.core.element()[0],"events");if(void 0!==n&&void 0!==n[e])for(var s=n[e].length,a=0;a<s;a++){var l=n[e][a].namespace;if("callback.redactor"===l){var c=n[e][a].handler,u=void 0===i?[r]:[r,i];o=void 0===u?c.call(this,r):c.call(this,r,u)}}if(o)return o;if(void 0===this.opts.callbacks[e])return void 0===i?r:i;var d=this.opts.callbacks[e];return t.isFunction(d)?void 0===i?d.call(this,r):d.call(this,r,i):void 0===i?r:i},destroy:function(){this.opts.destroyed=!0,this.core.callback("destroy"),this.placeholder.destroy(),this.progress.destroy(),t("#redactor-voice-"+this.uuid).remove(),this.core.editor().removeClass("redactor-in redactor-structure redactor-editor-img-edit"),this.core.editor().off("keydown.redactor-remove-textnode"),this.core.editor().off(".redactor-observe."+this.uuid),this.$element.off(".redactor").removeData("redactor"),this.core.editor().off(".redactor"),t(document).off(".redactor-dropdown"),t(document).off(".redactor-air."+this.uuid),t(document).off("mousedown.redactor-blur."+this.uuid),t(document).off("mousedown.redactor."+this.uuid),t(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid),t(window).off(".redactor-toolbar."+this.uuid),t(window).off("touchmove.redactor."+this.uuid),t("body").off("scroll.redactor."+this.uuid),t(this.opts.toolbarFixedTarget).off("scroll.redactor."+this.uuid);var e=this;!1!==this.opts.plugins&&t.each(this.opts.plugins,function(r,i){t(window).off(".redactor-plugin-"+i),t(document).off(".redactor-plugin-"+i),t("body").off(".redactor-plugin-"+i),e.core.editor().off(".redactor-plugin-"+i)}),this.$element.off("click.redactor-click-to-edit"),this.$element.removeClass("redactor-click-to-edit"),this.core.editor().removeClass("redactor-editor"),this.core.editor().removeAttr("contenteditable");var r=this.code.get();this.opts.toolbar&&this.$toolbar&&this.$toolbar.find("a").each(function(){var e=t(this);e.data("dropdown")&&(e.data("dropdown").remove(),e.data("dropdown",{}))}),"textarea"===this.opts.type&&(this.$box.after(this.$element),this.$box.remove(),this.$element.val(r).show()),this.opts.air&&this.$air.remove(),this.opts.toolbar&&this.$toolbar&&this.$toolbar.remove(),this.$modalBox&&this.$modalBox.remove(),this.$modalOverlay&&this.$modalOverlay.remove(),t(".redactor-link-tooltip").remove(),clearInterval(this.autosaveTimeout)}}},detect:function(){return{isWebkit:function(){return/webkit/.test(this.opts.userAgent)},isFirefox:function(){return this.opts.userAgent.indexOf("firefox")>-1},isIe:function(t){if(document.documentMode||/Edge/.test(navigator.userAgent))return"edge";var e;return e=RegExp("msie"+(isNaN(t)?"":"\\s"+t),"i").test(navigator.userAgent),e||(e=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),e},isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isIpad:function(){return/iPad/.test(navigator.userAgent)}}},dropdown:function(){return{active:!1,button:!1,key:!1,position:[],getDropdown:function(){return this.dropdown.active},build:function(e,r,i){i=this.dropdown.buildFormatting(e,i),t.each(i,t.proxy(function(t,i){var o=this.dropdown.buildItem(t,i);this.observe.addDropdown(o,t,i),r.attr("rel",e).append(o)},this))},buildFormatting:function(e,r){return"format"!==e||!1===this.opts.formattingAdd?r:(t.each(this.opts.formattingAdd,t.proxy(function(t,e){var i=this.utils.isBlockTag(e.args[0])?"block":"inline";r[t]={func:"block"===i?"block.format":"inline.format",args:e.args,title:e.title}},this)),r)},buildItem:function(e,r){var i=t("<li />");if(void 0!==r.classname&&i.addClass(r.classname),-1!==e.search(/^divider/i))return i.addClass("redactor-dropdown-divider"),i;var o=t('<a href="#" class="redactor-dropdown-'+e+'" role="button" />'),n=t("<span />").html(r.title);return o.append(n),o.on("mousedown",t.proxy(function(t){t.preventDefault(),this.dropdown.buildClick(t,e,r)},this)),i.append(o),i},buildClick:function(e,r,i){if(!t(e.target).hasClass("redactor-dropdown-link-inactive")){var o=this.dropdown.buildCommand(i);" undefined"!=typeof i.args?this.button.toggle(e,r,o.type,o.callback,i.args):this.button.toggle(e,r,o.type,o.callback)}},buildCommand:function(t){var e={};return e.type="func",e.callback=t.func,t.command?(e.type="command",e.callback=t.command):t.dropdown&&(e.type="dropdown",e.callback=t.dropdown),e},show:function(e,r){if(this.detect.isDesktop()&&this.core.editor().focus(),this.dropdown.hideAll(!1,r),this.dropdown.key=r,this.dropdown.button=this.button.get(this.dropdown.key),this.dropdown.button.hasClass("dropact"))return void this.dropdown.hide();this.dropdown.active=this.dropdown.button.data("dropdown").appendTo(document.body),this.core.callback("dropdownShow",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button}),this.button.setActive(this.dropdown.key),this.dropdown.button.addClass("dropact"),this.dropdown.getButtonPosition(),this.button.toolbar().hasClass("toolbar-fixed-box")&&this.detect.isDesktop()?this.dropdown.showIsFixedToolbar():this.dropdown.showIsUnFixedToolbar(),this.detect.isDesktop()&&!this.detect.isFirefox()&&(this.dropdown.active.on("mouseover.redactor-dropdown",t.proxy(this.utils.disableBodyScroll,this)),this.dropdown.active.on("mousedown.redactor-dropdown",t.proxy(this.utils.enableBodyScroll,this))),e.stopPropagation()},showIsFixedToolbar:function(){var e=this.dropdown.button.position().top+this.dropdown.button.innerHeight()+this.opts.toolbarFixedTopOffset,r="fixed";this.opts.toolbarFixedTarget!==document&&(e=this.dropdown.button.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,r="absolute"),this.dropdown.active.css({position:r,left:this.dropdown.position.left+"px",top:e+"px"}).show(),this.dropdown.active.redactorAnimation("slideDown",{duration:.2},t.proxy(function(){this.dropdown.enableCallback(),this.dropdown.enableEvents()},this))},showIsUnFixedToolbar:function(){this.dropdown.active.css({position:"absolute",left:this.dropdown.position.left+"px",top:this.dropdown.button.innerHeight()+this.dropdown.position.top+"px"}).show(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideDown":"show",{duration:.2},t.proxy(function(){this.dropdown.enableCallback(),this.dropdown.enableEvents()},this))},enableEvents:function(){t(document).on("mousedown.redactor-dropdown",t.proxy(this.dropdown.hideAll,this)),this.core.editor().on("touchstart.redactor-dropdown",t.proxy(this.dropdown.hideAll,this)),t(document).on("keyup.redactor-dropdown",t.proxy(this.dropdown.closeHandler,this))},enableCallback:function(){this.core.callback("dropdownShown",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button})},getButtonPosition:function(){this.dropdown.position=this.dropdown.button.offset();var e=this.dropdown.active.width();this.dropdown.position.left+e>t(document).width()&&(this.dropdown.position.left=Math.max(0,this.dropdown.position.left-e+parseInt(this.dropdown.button.innerWidth())))},closeHandler:function(t){t.which===this.keyCode.ESC&&(this.dropdown.hideAll(t),this.core.editor().focus())},hideAll:function(e,r){if(this.detect.isDesktop()&&this.utils.enableBodyScroll(),!1===e||0===t(e.target).closest(".redactor-dropdown").length){var i=void 0===r?this.button.toolbar().find("a.dropact"):this.button.toolbar().find("a.dropact").not(".re-"+r),o=void 0===r?t(".redactor-dropdown-"+this.uuid):t(".redactor-dropdown-"+this.uuid).not(".redactor-dropdown-box-"+r);0!==o.length&&(t(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),t.each(o,t.proxy(function(e,r){var i=t(r);this.core.callback("dropdownHide",i),i.hide(),i.off("mouseover mouseout").off(".redactor-dropdown")},this)),i.removeClass("redactor-act dropact"))}},hide:function(){!1!==this.dropdown.active&&(this.detect.isDesktop()&&this.utils.enableBodyScroll(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideUp":"hide",{duration:.2},t.proxy(function(){t(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),this.dropdown.hideOut()},this)))},hideOut:function(){this.core.callback("dropdownHide",this.dropdown.active),this.dropdown.button.removeClass("redactor-act dropact"),this.dropdown.active.off("mouseover mouseout").off(".redactor-dropdown"),this.dropdown.button=!1,this.dropdown.key=!1,this.dropdown.active=!1}}},events:function(){return{focused:!1,blured:!0,dropImage:!1,stopChanges:!1,stopDetectChanges:function(){this.events.stopChanges=!0},startDetectChanges:function(){var t=this;setTimeout(function(){t.events.stopChanges=!1},1)},dragover:function(e){e.preventDefault(),e.stopPropagation(),"IMG"===e.target.tagName&&t(e.target).addClass("redactor-image-dragover")},dragleave:function(t){this.core.editor().find("img").removeClass("redactor-image-dragover")},drop:function(t){return t=t.originalEvent||t,this.core.editor().find("img").removeClass("redactor-image-dragover"),"inline"===this.opts.type||"pre"===this.opts.type?(t.preventDefault(),!1):void 0===window.FormData||!t.dataTransfer||(0===t.dataTransfer.files.length?this.events.onDrop(t):(this.events.onDropUpload(t),void this.core.callback("drop",t)))},click:function(t){var e=this.core.getEvent(),r="click"!==e&&"arrow"!==e&&"click";this.core.addEvent(r),this.utils.disableSelectAll(),this.core.callback("click",t)},focus:function(t){if(!this.rtePaste&&(this.events.isCallback("focus")&&this.core.callback("focus",t),this.events.focused=!0,this.events.blured=!1,!1===this.selection.current())){var e=this.selection.get(),r=this.selection.range(e);r.setStart(this.core.editor()[0],0),r.setEnd(this.core.editor()[0],0),this.selection.update(e,r)}},blur:function(e){this.start||this.rtePaste||0===t(e.target).closest("#"+this.core.id()+", .redactor-toolbar, .redactor-dropdown, #redactor-modal-box").length&&(!this.events.blured&&this.events.isCallback("blur")&&this.core.callback("blur",e),this.events.focused=!1,this.events.blured=!0)},touchImageEditing:function(){var e=-1;this.events.imageEditing=!1,t(window).on("touchmove.redactor."+this.uuid,t.proxy(function(){this.events.imageEditing=!0,-1!==e&&clearTimeout(e),e=setTimeout(t.proxy(function(){this.events.imageEditing=!1},this),500)},this))},init:function(){this.core.editor().on("dragover.redactor dragenter.redactor",t.proxy(this.events.dragover,this)),this.core.editor().on("dragleave.redactor",t.proxy(this.events.dragleave,this)),this.core.editor().on("drop.redactor",t.proxy(this.events.drop,this)),this.core.editor().on("click.redactor",t.proxy(this.events.click,this)),this.core.editor().on("paste.redactor",t.proxy(this.paste.init,this)),this.core.editor().on("keydown.redactor",t.proxy(this.keydown.init,this)),this.core.editor().on("keyup.redactor",t.proxy(this.keyup.init,this)),this.core.editor().on("focus.redactor",t.proxy(this.events.focus,this)),t(document).on("mousedown.redactor-blur."+this.uuid,t.proxy(this.events.blur,this)),this.events.touchImageEditing(),this.events.createObserver(),this.events.setupObserver()},createObserver:function(){var e=this;this.events.observer=new MutationObserver(function(r){r.forEach(t.proxy(e.events.iterateObserver,e))})},iterateObserver:function(t){var e=!1;(("textarea"===this.opts.type||"div"===this.opts.type)&&!this.detect.isFirefox()&&t.target===this.core.editor()[0]||"class"===t.attributeName&&t.target===this.core.editor()[0])&&(e=!0),e||(this.observe.load(),this.events.changeHandler())},setupObserver:function(){this.events.observer.observe(this.core.editor()[0],{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})},changeHandler:function(){this.events.stopChanges||(this.code.sync(),this.autosave.is()&&(clearTimeout(this.autosaveTimeout),this.autosaveTimeout=setTimeout(t.proxy(this.autosave.send,this),300)))},onDropUpload:function(t){if(t.preventDefault(),t.stopPropagation(),(this.opts.dragImageUpload||this.opts.dragFileUpload)&&(null!==this.opts.imageUpload||null!==this.opts.fileUpload)){"IMG"===t.target.tagName&&(this.events.dropImage=t.target);var e=t.dataTransfer.files;this.upload.directUpload(e[0],t)}},onDrop:function(t){this.core.callback("drop",t)},isCallback:function(e){return void 0!==this.opts.callbacks[e]&&t.isFunction(this.opts.callbacks[e])},stopDetect:function(){this.events.stopDetectChanges()},startDetect:function(){this.events.startDetectChanges()}}},file:function(){return{is:function(){return!(!this.opts.fileUpload||!this.opts.fileUpload&&!this.opts.s3)},show:function(){this.modal.load("file",this.lang.get("file"),700),this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert),t("#redactor-filename").val(this.selection.get().toString()),this.modal.show()},insert:function(e,r,i){if(void 0!==e.error)return this.modal.close(),void this.core.callback("fileUploadError",e);this.file.release(i,r),this.buffer.set(),this.air.collapsed();var o=this.file.text(e),n=t("<a />").attr("href",e.url).text(o),s=void 0===e.id?"":e.id,a=void 0===e.s3?"file":"s3";n.attr("data-"+a,s),n=t(this.insert.node(n)),this.caret.after(n),this.storage.add({type:a,node:n[0],url:n[0].href,id:s}),null!==r&&this.core.callback("fileUpload",n,e)},release:function(t,e){e?(this.marker.remove(),this.insert.nodeToPoint(t,this.marker.get()),this.selection.restore()):this.modal.close()},text:function(e){var r=t("#redactor-filename").val();return void 0===r||""===r?e.name:r}}},focus:function(){return{start:function(){if(this.core.editor().focus(),"inline"!==this.opts.type){var t=this.focus.first();!1!==t&&this.caret.start(t)}},end:function(){this.core.editor().focus();var t=this.opts.inline?this.core.editor():this.focus.last();if(0!==t.length){var e=this.focus.lastChild(t);if(this.detect.isWebkit()||!1===e){var r=this.selection.get(),i=this.selection.range(r);null!==i?(i.selectNodeContents(t[0]),i.collapse(!1),this.selection.update(r,i)):this.caret.end(t)}else this.caret.end(e)}},first:function(){var t=this.core.editor().children().first();return(0!==t.length||0!==t[0].length&&"BR"!==t[0].tagName&&"HR"!==t[0].tagName&&3!==t[0].nodeType)&&("UL"===t[0].tagName||"OL"===t[0].tagName?t.find("li").first():t)},last:function(){return this.core.editor().children().last()},lastChild:function(t){var e=t[0].lastChild;return!(null===e||!this.utils.isInlineTag(e.tagName))&&e},is:function(){return this.core.editor()[0]===document.activeElement}}},image:function(){return{is:function(){return!(!this.opts.imageUpload||!this.opts.imageUpload&&!this.opts.s3)},show:function(){this.modal.load("image",this.lang.get("image"),700),this.upload.init("#redactor-modal-image-droparea",this.opts.imageUpload,this.image.insert),this.modal.show()},insert:function(e,r,i){var o;if(void 0!==e.error)return this.modal.close(),this.events.dropImage=!1,void this.core.callback("imageUploadError",e,i);if(!1!==this.events.dropImage)return o=t(this.events.dropImage),this.core.callback("imageDelete",o[0].src,o),o.attr("src",e.url),this.events.dropImage=!1,void this.core.callback("imageUpload",o,e);this.placeholder.hide();var n=t("<"+this.opts.imageTag+">");o=t("<img>"),o.attr("src",e.url);var s=void 0===e.id?"":e.id,a=void 0===e.s3?"image":"s3";o.attr("data-"+a,s),n.append(o);var l=this.utils.isTag(this.selection.current(),"pre");if(r){this.air.collapsed(),this.marker.remove();var c=this.insert.nodeToPoint(i,this.marker.get()),u=t(c).next();this.selection.restore(),this.buffer.set(),void 0!==u&&0!==u.length&&"IMG"===u[0].tagName?(this.core.callback("imageDelete",u[0].src,u),u.closest("figure, p",this.core.editor()[0]).replaceWith(n),this.caret.after(n)):(l?t(l).after(n):this.insert.node(n),this.caret.after(n))}else this.modal.close(),this.buffer.set(),this.air.collapsed(),l?t(l).after(n):this.insert.node(n),this.caret.after(n);this.events.dropImage=!1,this.storage.add({type:a,node:o[0],url:o[0].src,id:s}),null!==r&&this.core.callback("imageUpload",o,e)},setEditable:function(e){if(e.on("dragstart",function(t){t.preventDefault()}),this.opts.imageResizable){var r=t.proxy(function(r){this.observe.image=e,this.image.resizer=this.image.loadEditableControls(e),t(document).on("mousedown.redactor-image-resize-hide."+this.uuid,t.proxy(this.image.hideResize,this)),this.image.resizer.on("mousedown.redactor touchstart.redactor",t.proxy(function(t){this.image.setResizable(t,e)},this))},this);e.off("mousedown.redactor").on("mousedown.redactor",t.proxy(this.image.hideResize,this)),e.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",r)}else e.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",t.proxy(function(r){setTimeout(t.proxy(function(){this.image.showEdit(e)},this),200)},this))},setResizable:function(t,e){t.preventDefault(),this.image.resizeHandle={x:t.pageX,y:t.pageY,el:e,ratio:e.width()/e.height(),h:e.height()},t=t.originalEvent||t,t.targetTouches&&(this.image.resizeHandle.x=t.targetTouches[0].pageX,this.image.resizeHandle.y=t.targetTouches[0].pageY),this.image.startResize()},startResize:function(){t(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",t.proxy(this.image.moveResize,this)),t(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",t.proxy(this.image.stopResize,this))},moveResize:function(t){t.preventDefault(),t=t.originalEvent||t;var e=this.image.resizeHandle.h;t.targetTouches?e+=t.targetTouches[0].pageY-this.image.resizeHandle.y:e+=t.pageY-this.image.resizeHandle.y;var r=Math.round(e*this.image.resizeHandle.ratio);if(!(e<50||r<100)){var e=Math.round(this.image.resizeHandle.el.width()/this.image.resizeHandle.ratio);this.image.resizeHandle.el.attr({width:r,height:e}),this.image.resizeHandle.el.width(r),this.image.resizeHandle.el.height(e),this.code.sync()}},stopResize:function(){this.handle=!1,t(document).off(".redactor-image-resize"),this.image.hideResize()},hideResize:function(e){if(!e||0===t(e.target).closest("#redactor-image-box",this.$editor[0]).length){if(e&&"IMG"==e.target.tagName){t(e.target)}var r=this.$editor.find("#redactor-image-box");0!==r.length&&(t("#redactor-image-editter").remove(),t("#redactor-image-resizer").remove(),r.find("img").css({marginTop:r[0].style.marginTop,marginBottom:r[0].style.marginBottom,marginLeft:r[0].style.marginLeft,marginRight:r[0].style.marginRight}),r.css("margin",""),r.find("img").css("opacity",""),r.replaceWith(function(){return t(this).contents()}),t(document).off("mousedown.redactor-image-resize-hide."+this.uuid),void 0!==this.image.resizeHandle&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style")))}},loadResizableControls:function(e,r){if(this.opts.imageResizable&&!this.detect.isMobile()){var i=t('<span id="redactor-image-resizer" data-redactor="verified"></span>');return this.detect.isDesktop()||i.css({width:"15px",height:"15px"}),i.attr("contenteditable",!1),r.append(i),r.append(e),i}return r.append(e),!1},loadEditableControls:function(e){var r=t('<span id="redactor-image-box" data-redactor="verified">');if(r.css("float",e.css("float")).attr("contenteditable",!1),"auto"!=e[0].style.margin?(r.css({marginTop:e[0].style.marginTop,marginBottom:e[0].style.marginBottom,marginLeft:e[0].style.marginLeft,marginRight:e[0].style.marginRight}),e.css("margin","")):r.css({display:"block",margin:"auto"}),e.css("opacity",".5").after(r),this.opts.imageEditable){this.image.editter=t('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>"),this.image.editter.attr("contenteditable",!1),this.image.editter.on("click",t.proxy(function(){this.image.showEdit(e)},this)),r.append(this.image.editter);var i=this.image.editter.innerWidth();this.image.editter.css("margin-left","-"+i/2+"px")}return this.image.loadResizableControls(e,r)},showEdit:function(e){if(!this.events.imageEditing){this.observe.image=e;var r=e.closest("a",this.$editor[0]);if(this.modal.load("image-edit",this.lang.get("edit"),705),this.image.buttonDelete=this.modal.getDeleteButton().text(this.lang.get("delete")),this.image.buttonSave=this.modal.getActionButton().text(this.lang.get("save")),this.image.buttonDelete.on("click",t.proxy(this.image.remove,this)),this.image.buttonSave.on("click",t.proxy(this.image.update,this)),!1===this.opts.imageCaption)t("#redactor-image-caption").val("").hide().prev().hide();else{var i=e.closest(this.opts.imageTag,this.$editor[0]),o=i.find("figcaption");0!==o&&t("#redactor-image-caption").val(o.text()).show()}if(this.opts.imagePosition){var n="block"==e.css("display")&&"none"==e.css("float")?"center":e.css("float");t("#redactor-image-align").val(n)}else t(".redactor-image-position-option").hide();t("#redactor-image-preview").html(t('<img src="'+e.attr("src")+'" style="max-width: 100%;">')),t("#redactor-image-title").val(e.attr("alt"));var s=t("#redactor-image-link");s.attr("href",e.attr("src")),0!==r.length&&(s.val(r.attr("href")),"_blank"===r.attr("target")&&t("#redactor-image-link-blank").prop("checked",!0)),t(".redactor-link-tooltip").remove(),this.modal.show(),this.detect.isDesktop()&&t("#redactor-image-title").focus()}},update:function(){var e=this.observe.image,r=e.closest("a",this.core.editor()[0]),i=t("#redactor-image-title").val().replace(/(<([^>]+)>)/gi,"");e.attr("alt",i).attr("title",i),this.image.setFloating(e);var o=t.trim(t("#redactor-image-link").val()).replace(/(<([^>]+)>)/gi,"");if(""!==o){var n="((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}",s=new RegExp("^(http|ftp|https)://"+n,"i"),a=new RegExp("^"+n,"i");-1===o.search(s)&&0===o.search(a)&&this.opts.linkProtocol&&(o=this.opts.linkProtocol+"://"+o);var l=!!t("#redactor-image-link-blank").prop("checked");if(0===r.length){var c=t('<a href="'+o+'" id="redactor-img-tmp">'+this.utils.getOuterHtml(e)+"</a>");l&&c.attr("target","_blank"),e=e.replaceWith(c),r=this.core.editor().find("#redactor-img-tmp"),r.removeAttr("id")}else r.attr("href",o),l?r.attr("target","_blank"):r.removeAttr("target")}else 0!==r.length&&r.replaceWith(this.utils.getOuterHtml(e));this.image.addCaption(e,r),this.modal.close(),this.buffer.set()},setFloating:function(e){var r=t("#redactor-image-align").val(),i="",o="",n="";switch(r){case"left":i="left",n="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case"right":i="right",n="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;break;case"center":o="block",n="auto"}e.css({float:i,display:o,margin:n}),e.attr("rel",e.attr("style"))},addCaption:function(e,r){var i=t("#redactor-image-caption").val(),o=0!==r.length?r:e,n=o.next();0!==n.length&&"FIGCAPTION"===n[0].tagName||(n=!1),""!==i?!1===n?(n=t("<figcaption />").text(i),o.after(n)):n.text(i):!1!==n&&n.remove()},remove:function(e,r,i){r=void 0===r?t(this.observe.image):r,"boolean"!=typeof e&&this.buffer.set(),this.events.stopDetectChanges();var o=r.closest("a",this.core.editor()[0]),n=r.closest(this.opts.imageTag,this.core.editor()[0]),s=r.parent();0!==t("#redactor-image-box").length&&(s=t("#redactor-image-box").parent());var a;0!==n.length?(a=n.next(),n.remove()):0!==o.length?(s=o.parent(),o.remove()):r.remove(),t("#redactor-image-box").remove(),!1!==e&&(0!==n.length&&0!==a.length?this.caret.start(a):0!==s.length&&this.caret.start(s)),"boolean"!=typeof e&&this.modal.close(),this.utils.restoreScroll(),this.observe.image=!1,this.events.startDetectChanges(),this.placeholder.enable(),this.code.sync()}}},indent:function(){return{increase:function(){if(this.list.get()){var e=t(this.selection.current()).closest("li"),r=e.closest("ul, ol"),i=e.closest("li"),o=i.prev();if(0!==o.length&&"LI"===o[0].tagName)if(this.buffer.set(),this.utils.isCollapsed()){var n=r[0].tagName,s=t("<"+n+" />");this.selection.save(),s.append(e),o.append(s),this.selection.restore()}else document.execCommand("indent"),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize(),this.selection.restore()}},decrease:function(){if(this.list.get()){var e=t(this.selection.current()).closest("li");e.closest("ul, ol");this.buffer.set(),document.execCommand("outdent");var r=t(this.selection.current()).closest("li",this.core.editor()[0]);if(this.utils.isCollapsed()&&this.indent.repositionItem(r),0===r.length){document.execCommand("formatblock",!1,"p"),r=t(this.selection.current());var i=r.next();0!==i.length&&"BR"===i[0].tagName&&i.remove()}this.selection.save(),this.indent.removeEmpty(),this.indent.normalize(),this.selection.restore()}},repositionItem:function(t){var e=t.prev();if(0!==e.length&&"LI"!==e[0].tagName){this.selection.save();t.parents("li",this.core.editor()[0]).after(t),this.selection.restore()}},normalize:function(){this.core.editor().find("li").each(t.proxy(function(e,r){var i=t(r);i.find(this.opts.inlineTags.join(",")).each(function(){t(this).removeAttr("style")});var o=i.parent();if(0!==o.length&&"LI"===o[0].tagName)return void o.after(i);var n=i.next();0===n.length||"UL"!==n[0].tagName&&"OL"!==n[0].tagName||i.append(n)},this))},removeEmpty:function(e){var r=this.core.editor().find("ul, ol"),i=this.core.editor().find("li");i.each(t.proxy(function(t,e){this.indent.removeItemEmpty(e)},this)),r.each(t.proxy(function(t,e){this.indent.removeItemEmpty(e)},this)),i.each(t.proxy(function(t,e){this.indent.removeItemEmpty(e)},this))},removeItemEmpty:function(e){var r=e.innerHTML.replace(/[\t\s\n]/g,"");""===(r=r.replace(/<span><\/span>/g,""))&&t(e).remove()}}},inline:function(){return{format:function(t,e,r,i){if(t=t.toLowerCase(),!this.utils.isCurrentOrParent(["PRE"])){for(var o=["b","bold","i","italic","underline","strikethrough","deleted","superscript","subscript"],n=["strong","strong","em","em","u","del","del","sup","sub"],s=0;s<o.length;s++)t===o[s]&&(t=n[s]);this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.inline.formatCollapsed(t,e,r,i):this.inline.formatUncollapsed(t,e,r,i)}},formatUncollapsed:function(e,r,i,o){var n=this,s=this.inline.inlines(),a=this.selection.current();a&&s.push(a),this.selection.save(),"del"!==e&&this.core.editor().find("del").each(function(t,e){n.utils.replaceToTag(e,"deline")}),"u"!==e&&this.core.editor().find("u").each(function(t,e){n.utils.replaceToTag(e,"inline")}),t.each(s,function(){if(1===this.nodeType){if(this.tagName.toLowerCase()===e){n.utils.replaceToTag(this,"strike").addClass("redactor-converted")}}}),this.selection.restore(),document.execCommand("strikethrough");var l=!0,c=this.selection.parent();!1!==c&&"STRIKE"===c.tagName||(l=!1),this.selection.save(),"u"!==e&&this.core.editor().find("u").replaceWith(function(){return t(this).contents()}),this.core.editor().find("strike").each(function(){var t=n.utils.replaceToTag(this,e);l&&n.inline.setAttr(t,r,i,o)}),this.core.editor().find(".redactor-converted").each(function(){this.tagName.toLowerCase()===e&&!1!==l||t(this).replaceWith(function(){return t(this).contents()}),t(this).removeClass("redactor-converted")}),"del"!==e&&this.core.editor().find("deline").each(function(t,e){n.utils.replaceToTag(e,"del")}),"u"!==e&&this.core.editor().find("inline").each(function(t,e){n.utils.replaceToTag(e,"u")}),this.selection.restore()},inlines:function(){var e=[],r=this.inline.nodes();t.each(r,t.proxy(function(t,r){this.utils.isInline(r)&&e.push(r)},this));var i=this.selection.inline();return!1===i&&0===e.length?[]:!1!==i&&0===e.length?[i]:e},nodes:function(){var t=document.getSelection();if(!t.rangeCount||t.isCollapsed||!t.getRangeAt(0).commonAncestorContainer)return[];var e=t.getRangeAt(0);if(3===e.commonAncestorContainer.nodeType){for(var r=[],i=e.commonAncestorContainer;i.parentNode&&1===i.parentNode.childNodes.length;)r.push(i.parentNode),i=i.parentNode;return r}return[].filter.call(e.commonAncestorContainer.getElementsByTagName("*"),function(e){return"function"!=typeof t.containsNode||t.containsNode(e,!0)})},formatCollapsed:function(e,r,i,o){var n=this.selection.inline();if(n){var s=n.tagName.toLowerCase();if(s===e)if(this.utils.isEmpty(n.innerHTML))this.caret.after(n),t(n).remove();else{var a=this.inline.insertBreakpoint(n,s);this.caret.after(a)}else 0===t(n).closest(e).length?this.inline.insertInline(e,r,i,o):this.caret.start(n)}else this.inline.insertInline(e,r,i,o)},insertBreakpoint:function(e,r){var i=document.createElement("span");i.id="redactor-inline-breakpoint",i=this.insert.node(i);var o=this.utils.isEndOfElement(e),n=this.utils.getOuterHtml(e),s=o?"":"<"+r+">";n=n.replace(/<span\sid="redactor-inline-breakpoint"><\/span>/i,"</"+r+">"+s);var a=t(n);return t(e).replaceWith(a),""!==s&&this.utils.cloneAttributes(e,a.last()),a.first()},insertInline:function(t,e,r,i){var o=document.createElement(t);o=this.inline.setAttr(o,e,r,i),this.insert.node(o),this.caret.start(o)},setAttr:function(t,e,r,i){if(void 0===e)return t;var o=void 0===i?"toggle":i;return t="class"===e?this.inline[o+"Class"](r,t):"remove"===o?this.inline[o+"Attr"](e,t):"removeAll"===o?this.inline[o+"Attr"](t):this.inline[o+"Attr"](e,r,t)},getInlines:function(t){return void 0===t?this.selection.inlines():t},update:function(e,r,i,o){var n=this.selection.inlines(),s=[],a=this;return t.each(n,function(n,l){if(t.isArray(e)){if(-1===t.inArray(l.tagName.toLowerCase(),e))return}else if("*"!==e&&l.tagName.toLowerCase()!==e)return;s.push(a.inline.setAttr(l,r,i,o))}),s},replaceClass:function(e,r){return t(this.inline.getInlines(r)).removeAttr("class").addClass(e)[0]},toggleClass:function(e,r){return t(this.inline.getInlines(r)).toggleClass(e)[0]},addClass:function(e,r){return t(this.inline.getInlines(r)).addClass(e)[0]},removeClass:function(e,r){return t(this.inline.getInlines(r)).removeClass(e)[0]},removeAllClass:function(e){return t(this.inline.getInlines(e)).removeAttr("class")[0]},replaceAttr:function(e,r,i){return e=this.inline.removeAttr(r,this.inline.getInlines(e)),t(e).attr(r,i)[0]},toggleAttr:function(e,r,i){i=this.inline.getInlines(i);var o=this,n=[];return t.each(i,function(i,s){t(s).attr(e)?n.push(o.inline.removeAttr(e,s)):n.push(o.inline.addAttr(e,r,s))}),n},addAttr:function(e,r,i){return t(this.inline.getInlines(i)).attr(e,r)[0]},removeAttr:function(e,r){return t(this.inline.getInlines(r)).removeAttr(e)[0]},removeAllAttr:function(e){e=this.inline.getInlines(e);var r=[];return t.each(e,function(e,i){void 0===i.attributes&&r.push(i);for(var o=t(i),n=i.attributes.length,s=0;s<n;s++)o.removeAttr(i.attributes[s].name);r.push(o[0])}),r},removeFormat:function(){document.execCommand("removeFormat")}}},insert:function(){return{set:function(t){this.placeholder.hide(),this.code.set(t),this.focus.end(),this.placeholder.enable()},html:function(e,r){this.placeholder.hide(),this.core.editor().focus();var i=this.selection.block(),o=this.selection.inline();void 0===r&&(r=this.clean.getCurrentType(e,!0),e=this.clean.onPaste(e,r,!0)),e=t.parseHTML(e);var n=this.selection.get(),s=this.selection.range(n);if(s.deleteContents(),this.selection.update(n,s),r.lists){var a=t(e);if(0!==a.length&&("UL"===a[0].tagName||"OL"===a[0].tagName))return void this.insert.appendLists(i,a)}if(r.blocks&&i)if(this.utils.isSelectAll())this.core.editor().html(e),this.focus.end();else{var l=this.utils.breakBlockTag();if(!1===l)this.insert.placeHtml(e);else{var c=t(e).children().last();c.append(this.marker.get()),"start"===l.type?l.$block.before(e):l.$block.after(e),this.selection.restore(),this.core.editor().find("p").each(function(){""===t.trim(this.innerHTML)&&t(this).remove()})}}else{if(o){var u=t("<div/>").html(e);u.find(o.tagName.toLowerCase()).each(function(){t(this).contents().unwrap()}),e=u.html()}if(this.utils.isSelectAll()){var d=t(this.opts.emptyHtml);this.core.editor().html("").append(d),d.html(e),this.caret.end(d)}else this.insert.placeHtml(e)}this.utils.disableSelectAll(),this.linkify.format(),r.pre&&this.clean.cleanPre()},text:function(e){e=e.toString(),e=t.trim(e);var r=document.createElement("div");if(r.innerHTML=e,void 0!==(e=r.textContent||r.innerText)){this.placeholder.hide(),this.core.editor().focus();var i=this.selection.blocks();if(e=e.replace(/\n/g," "),this.utils.isSelectAll()){var o=t(this.opts.emptyHtml);this.core.editor().html("").append(o),o.html(e),this.caret.end(o)}else{var n=this.selection.get(),s=document.createTextNode(e);if(n.getRangeAt&&n.rangeCount){var a=n.getRangeAt(0);a.deleteContents(),a.insertNode(s),a.setStartAfter(s),a.collapse(!0),this.selection.update(n,a)}i.length>1&&(t(s).wrap("<p>"),this.caret.after(s))}this.utils.disableSelectAll(),this.linkify.format(),this.clean.normalizeCurrentHeading()}},raw:function(t){this.placeholder.hide(),this.core.editor().focus();var e=this.selection.get(),r=this.selection.range(e);r.deleteContents();var i=document.createElement("div");i.innerHTML=t;for(var o,n,s=document.createDocumentFragment();o=i.firstChild;)n=s.appendChild(o);r.insertNode(s),n&&(r=r.cloneRange(),r.setStartAfter(n),r.collapse(!0),e.removeAllRanges(),e.addRange(r))},node:function(e,r){this.placeholder.hide(),void 0!==this.start&&this.core.editor().focus(),e=e[0]||e;var i=this.selection.block(),o=this.utils.isBlockTag(e.tagName);if(this.utils.isSelectAll())o?this.core.editor().html(e):this.core.editor().html(t("<p>").html(e)),this.code.sync();else if(o&&i){var n=this.utils.breakBlockTag();!1===n?this.insert.placeNode(e,r):("start"===n.type?n.$block.before(e):n.$block.after(e),this.core.editor().find("p:empty").remove())}else this.insert.placeNode(e,r);return this.utils.disableSelectAll(),this.caret.end(e),e},appendLists:function(e,r){var i,o=t(e),n=this.utils.isEmpty(e.innerHTML);if(n||this.utils.isEndOfElement(e))i=o,r.find("li").each(function(){i.after(this),i=t(this)}),n&&o.remove();else if(this.utils.isStartOfElement(e))r.find("li").each(function(){o.before(this),i=t(this)});else{var s=this.selection.extractEndOfNode(e);o.after(t("<li>").append(s)),o.append(r),i=r}this.marker.remove(),i&&this.caret.end(i),this.linkify.format()},placeHtml:function(e){var r=document.createElement("span");r.id="redactor-insert-marker",r=this.insert.node(r),t(r).before(e),this.selection.restore(),this.caret.after(r),t(r).remove()},placeNode:function(t,e){var r=this.selection.get(),i=this.selection.range(r);!1!==e&&i.deleteContents(),i.insertNode(t),i.collapse(!1),this.selection.update(r,i)},nodeToPoint:function(e,r){if(this.placeholder.hide(),r=r[0]||r,this.utils.isEmpty())return r=this.utils.isBlock(r)?r:t("<p />").append(r),this.core.editor().html(r),r;var i,o=e.clientX,n=e.clientY;if(document.caretPositionFromPoint){var s=document.caretPositionFromPoint(o,n);i=document.getSelection().getRangeAt(0),i.setStart(s.offsetNode,s.offset),i.collapse(!0),i.insertNode(r)}else if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(o,n),i.insertNode(r);else if(void 0!==document.body.createTextRange){i=document.body.createTextRange(),i.moveToPoint(o,n);var a=i.duplicate();a.moveToPoint(o,n),i.setEndPoint("EndToEnd",a),i.select()}return r},nodeToCaretPositionFromPoint:function(t,e){this.insert.nodeToPoint(t,e)},marker:function(){this.marker.insert()}}},keydown:function(){return{init:function(e){if(!this.rtePaste){var r=e.which,i=r>=37&&r<=40;this.keydown.ctrl=e.ctrlKey||e.metaKey,this.keydown.parent=this.selection.parent(),this.keydown.current=this.selection.current(),this.keydown.block=this.selection.block(),this.keydown.pre=this.utils.isTag(this.keydown.current,"pre"),this.keydown.blockquote=this.utils.isTag(this.keydown.current,"blockquote"),this.keydown.figcaption=this.utils.isTag(this.keydown.current,"figcaption"),this.keydown.figure=this.utils.isTag(this.keydown.current,"figure");if(!1===this.core.callback("keydown",e))return e.preventDefault(),!1;if(this.shortcuts.init(e,r),this.keydown.checkEvents(i,r),this.keydown.setupBuffer(e,r),this.utils.isSelectAll()&&(r===this.keyCode.ENTER||r===this.keyCode.BACKSPACE||r===this.keyCode.DELETE))return e.preventDefault(),void this.code.set(this.opts.emptyHtml);if(this.keydown.addArrowsEvent(i),this.keydown.setupSelectAll(e,r),!this.opts.enterKey&&r===this.keyCode.ENTER){e.preventDefault();var o=this.selection.get(),n=this.selection.range(o);return void(n.collapsed||n.deleteContents())}if(this.opts.enterKey&&r===this.keyCode.DOWN&&this.keydown.onArrowDown(),this.opts.enterKey&&r===this.keyCode.UP&&this.keydown.onArrowUp(),("textarea"===this.opts.type||"div"===this.opts.type)&&this.keydown.current&&3===this.keydown.current.nodeType&&t(this.keydown.parent).hasClass("redactor-in")&&this.keydown.wrapToParagraph(),r===this.keyCode.SPACE&&(e.ctrlKey||e.shiftKey))return e.preventDefault(),this.keydown.onShiftSpace();if(r===this.keyCode.ENTER&&(e.ctrlKey||e.shiftKey))return e.preventDefault(),this.keydown.onShiftEnter(e);if(r===this.keyCode.ENTER&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey)return this.keydown.onEnter(e);if(r===this.keyCode.TAB||e.metaKey&&221===r||e.metaKey&&219===r)return this.keydown.onTab(e,r);if(r!==this.keyCode.BACKSPACE&&r!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteBefore(),r===this.keyCode.DELETE){var s=t(this.keydown.block).next();if(this.utils.isEndOfElement(this.keydown.block)&&0!==s.length&&"FIGURE"===s[0].tagName)return s.remove(),!1;if(!(!this.keydown.block||"LI"!==this.keydown.block.tagName)&&this.keydown.block){var a=t(this.keydown.block).parents("ul, ol").last(),l=a.next();if(this.utils.isRedactorParent(a)&&this.utils.isEndOfElement(a)&&0!==l.length&&("UL"===l[0].tagName||"OL"===l[0].tagName))return e.preventDefault(),a.append(l.contents()),l.remove(),!1}if(this.utils.isEndOfElement(this.keydown.block)&&0!==s.length&&"PRE"===s[0].tagName)return t(this.keydown.block).append(s.text()),s.remove(),!1}if(r===this.keyCode.DELETE&&0!==t("#redactor-image-box").length&&this.image.remove(),r===this.keyCode.BACKSPACE){if(this.detect.isFirefox()&&this.line.removeOnBackspace(e),this.list.combineAfterAndBefore(this.keydown.block))return void e.preventDefault();var c=this.selection.block();if(c&&"LI"===c.tagName&&this.utils.isCollapsed()&&this.utils.isStartOfElement())return this.indent.decrease(),void e.preventDefault();this.keydown.removeInvisibleSpace(),this.keydown.removeEmptyListInTable(e)}r!==this.keyCode.BACKSPACE&&r!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteAfter(e)}},onShiftSpace:function(){return this.buffer.set(),this.insert.raw("&nbsp;"),!1},onShiftEnter:function(t){return this.buffer.set(),this.keydown.pre?this.keydown.insertNewLine(t):this.insert.raw("<br>")},onBackspaceAndDeleteBefore:function(){this.utils.saveScroll()},onBackspaceAndDeleteAfter:function(e){setTimeout(t.proxy(function(){this.code.syncFire=!1,this.keydown.removeEmptyLists(),this.core.editor().find("*[style]").not("img, #redactor-image-box, #redactor-image-editter").removeAttr("style"),this.keydown.formatEmpty(e),this.code.syncFire=!0},this),1)},onEnter:function(e){if(!1===this.core.callback("enter",e))return e.preventDefault(),!1;if(this.keydown.blockquote&&!0===this.keydown.exitFromBlockquote(e))return!1;if(this.keydown.pre)return this.keydown.insertNewLine(e);if(this.keydown.blockquote||this.keydown.figcaption)return this.keydown.insertBreakLine(e);if(this.keydown.figure)setTimeout(t.proxy(function(){this.keydown.replaceToParagraph("FIGURE")},this),1);else if(this.keydown.block){if(setTimeout(t.proxy(function(){this.keydown.replaceToParagraph("DIV")},this),1),"LI"===this.keydown.block.tagName){var r=this.selection.current(),i=t(r).closest("li",this.$editor[0]),o=i.parents("ul,ol",this.$editor[0]).last();if(0!==i.length&&this.utils.isEmpty(i.html())&&0===o.next().length&&this.utils.isEmpty(o.find("li").last().html())){o.find("li").last().remove();var n=t(this.opts.emptyHtml);return o.after(n),this.caret.start(n),!1}}}else if(!this.keydown.block)return this.keydown.insertParagraph(e);if(this.detect.isFirefox()&&this.utils.isInline(this.keydown.parent))return void this.keydown.insertBreakLine(e);setTimeout(t.proxy(function(){var e=this.selection.inline();if(e&&this.utils.isEmpty(e.innerHTML)){var r=this.selection.block();t(e).remove();var i=document.createRange();i.setStart(r,0);var o=document.createTextNode("");i.insertNode(o),i.setStartAfter(o),i.collapse(!0);var n=window.getSelection();n.removeAllRanges(),n.addRange(i)}},this),1)},checkEvents:function(t,e){t||"click"!==this.core.getEvent()&&"arrow"!==this.core.getEvent()||(this.core.addEvent(!1),this.keydown.checkKeyEvents(e)&&this.buffer.set())},checkKeyEvents:function(e){var r=this.keyCode,i=[r.BACKSPACE,r.DELETE,r.ENTER,r.ESC,r.TAB,r.CTRL,r.META,r.ALT,r.SHIFT];return-1===t.inArray(e,i)},addArrowsEvent:function(t){if(t)return"click"===this.core.getEvent()||"arrow"===this.core.getEvent()?void this.core.addEvent(!1):void this.core.addEvent("arrow")},setupBuffer:function(t,e){return this.keydown.ctrl&&90===e&&!t.shiftKey&&!t.altKey&&this.opts.buffer.length?(t.preventDefault(),void this.buffer.undo()):this.keydown.ctrl&&90===e&&t.shiftKey&&!t.altKey&&0!==this.opts.rebuffer.length?(t.preventDefault(),void this.buffer.redo()):void(this.keydown.ctrl||e!==this.keyCode.SPACE&&e!==this.keyCode.BACKSPACE&&e!==this.keyCode.DELETE&&(e!==this.keyCode.ENTER||t.ctrlKey||t.shiftKey)||this.buffer.set())},exitFromBlockquote:function(e){if(this.utils.isEndOfElement(this.keydown.blockquote)){if(-1!==this.clean.removeSpacesHard(t(this.keydown.blockquote).html()).search(/(<br\s?\/?>){3}$/i)){e.preventDefault();var r=t(this.keydown.blockquote).children().last().prev();r.prev().filter("br").remove(),r.filter("br").remove(),t(this.keydown.blockquote).children().last().filter("br").remove(),t(this.keydown.blockquote).children().last().filter("span").remove();var i=t(this.opts.emptyHtml);return t(this.keydown.blockquote).after(i),this.caret.start(i),!0}}},onArrowDown:function(){for(var t=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],e=0;e<t.length;e++)if(t[e])return this.keydown.insertAfterLastElement(t[e]),!1},onArrowUp:function(){for(var t=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],e=0;e<t.length;e++)if(t[e])return this.keydown.insertBeforeFirstElement(t[e]),!1},insertAfterLastElement:function(e){if(this.utils.isEndOfElement(e)){var r=this.core.editor().contents().last();if(0===("FIGCAPTION"===e.tagName?t(this.keydown.block).parent().next():t(this.keydown.block).next()).length){if(0===r.length&&r[0]!==e)return void this.caret.start(r);var i=t(this.opts.emptyHtml);"FIGCAPTION"===e.tagName?t(e).parent().after(i):t(e).after(i),this.caret.start(i)}}},insertBeforeFirstElement:function(e){if(this.utils.isStartOfElement()&&!(this.core.editor().contents().length>1&&this.core.editor().contents().first()[0]!==e)){var r=t(this.opts.emptyHtml);t(e).before(r),this.caret.start(r)}},onTab:function(t,e){if(!this.opts.tabKey)return!0;var r=this.keydown.block&&"LI"===this.keydown.block.tagName;if(this.utils.isEmpty(this.code.get())||!r&&!this.keydown.pre&&!1===this.opts.tabAsSpaces)return!0;t.preventDefault(),this.buffer.set();var i,o=r&&this.utils.isStartOfElement(this.keydown.block);return this.keydown.pre&&!t.shiftKey?(i=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join("")):document.createTextNode("\t"),this.insert.node(i)):!1===this.opts.tabAsSpaces||o?t.metaKey&&219===e?this.indent.decrease():t.metaKey&&221===e?this.indent.increase():t.shiftKey?this.indent.decrease():this.indent.increase():(i=document.createTextNode(Array(this.opts.tabAsSpaces+1).join("")),this.insert.node(i)),!1},setupSelectAll:function(t,e){this.keydown.ctrl&&65===e?this.utils.enableSelectAll():e===this.keyCode.LEFT_WIN||this.keydown.ctrl||this.utils.disableSelectAll()},insertNewLine:function(t){t.preventDefault();var e=document.createTextNode("\n"),r=this.selection.get(),i=this.selection.range(r);return i.deleteContents(),i.insertNode(e),this.caret.after(e),!1},insertParagraph:function(t){t.preventDefault();var e=document.createElement("p");e.innerHTML=this.opts.invisibleSpace;var r=this.selection.get(),i=this.selection.range(r);return i.deleteContents(),i.insertNode(e),this.caret.start(e),!1},insertBreakLine:function(t){return this.keydown.insertBreakLineProcessing(t)},insertDblBreakLine:function(t){return this.keydown.insertBreakLineProcessing(t,!0)},insertBreakLineProcessing:function(t,e){t.stopPropagation();var r=document.createElement("br");if(this.insert.node(r),!0===e){var i=document.createElement("br");this.insert.node(i)}return!1},wrapToParagraph:function(){var e=t(this.keydown.current),r=t("<p>").append(e.clone());e.replaceWith(r);var i=t(r).next();void 0!==i[0]&&"BR"===i[0].tagName&&i.remove(),this.caret.end(r)},replaceToParagraph:function(e){var r=this.selection.block(),i=t(r).prev(),o=r.innerHTML.replace(/<br\s?\/?>/gi,"");if(r.tagName===e&&this.utils.isEmpty(o)&&!t(r).hasClass("redactor-in")){var n=document.createElement("p");return t(r).replaceWith(n),this.keydown.setCaretToParagraph(n),!1}if("P"===r.tagName)return t(r).removeAttr("class").removeAttr("style"),this.detect.isIe()&&this.utils.isEmpty(o)&&this.utils.isInline(this.keydown.parent)&&t(r).on("input",t.proxy(function(){var e=this.selection.parent();if(this.utils.isInline(e)){var i=t(e).html();t(r).html(i),this.caret.end(r)}t(r).off("keyup")},this)),!1;if(i.hasClass(this.opts.videoContainerClass)){i.removeAttr("class");var n=document.createElement("p");return i.replaceWith(n),this.keydown.setCaretToParagraph(n),!1}},setCaretToParagraph:function(t){var e=document.createRange();e.setStart(t,0);var r=document.createTextNode("");e.insertNode(r),e.setStartAfter(r),e.collapse(!0);var i=window.getSelection();i.removeAllRanges(),i.addRange(e)},removeInvisibleSpace:function(){var e=t(this.keydown.current);0===e.text().search(/^\u200B$/g)&&e.remove()},removeEmptyListInTable:function(e){var r=t(this.keydown.current),i=t(this.keydown.parent),o=r.closest("td",this.$editor[0]);if(0!==o.length&&r.closest("li",this.$editor[0])&&1===i.children("li").length){if(!this.utils.isEmpty(r.text()))return;e.preventDefault(),r.remove(),i.remove(),this.caret.start(o)}},removeEmptyLists:function(){var e=function(){""===t.trim(this.innerHTML).replace(/\/t\/n/g,"")&&t(this).remove()};this.core.editor().find("li").each(e),this.core.editor().find("ul, ol").each(e)},formatEmpty:function(e){var r=t.trim(this.core.editor().html());if(this.utils.isEmpty(r))return e.preventDefault(),"inline"===this.opts.type||"pre"===this.opts.type?(this.core.editor().html(this.marker.html()),this.selection.restore()):(this.core.editor().html(this.opts.emptyHtml),this.focus.start()),!1}}},keyup:function(){return{init:function(e){if(!this.rtePaste){var r=e.which;this.keyup.block=this.selection.block(),this.keyup.current=this.selection.current(),this.keyup.parent=this.selection.parent();if(!1===this.core.callback("keyup",e))return e.preventDefault(),!1;if(r===this.keyCode.ENTER&&this.keyup.block&&"FIGURE"===this.keyup.block.tagName){var i=t(this.keyup.block).prev();if(0!==i.length&&"FIGURE"===i[0].tagName){var o=this.utils.replaceToTag(i,"p");return void this.caret.start(o)}}if(r===this.keyCode.BACKSPACE||r===this.keyCode.DELETE){if(this.utils.isSelectAll())return void this.focus.start();if(this.keyup.block&&this.keydown.block&&"FIGURE"===this.keyup.block.tagName&&this.utils.isStartOfElement(this.keydown.block)){e.preventDefault(),this.selection.save(),t(this.keyup.block).find("figcaption").remove(),t(this.keyup.block).find("img").first().remove(),this.utils.replaceToTag(this.keyup.block,"p");var n=this.marker.find();return t("html, body").animate({scrollTop:n.position().top+20},500),void this.selection.restore()}if(this.keyup.block&&"P"===this.keyup.block.tagName){var s=t(this.keyup.block).find("img").length;""===t(this.keyup.block).text().replace(/\u200B/g,"")&&0!==s&&this.utils.replaceToTag(this.keyup.block,"figure")}this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&0===t(this.keyup.block).find("img").length&&(this.selection.save(),this.utils.replaceToTag(this.keyup.block,"p"),this.selection.restore())}this.linkify.isKey(r)&&this.linkify.format()}}}},lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(t){return void 0!==this.opts.curLang[t]?this.opts.curLang[t]:""}}},line:function(){return{insert:function(){this.buffer.set(),this.insert.html(this.line.getLineHtml());var t=this.core.editor().find("#redactor-hr-tmp-id");return t.removeAttr("id"),this.core.callback("insertedLine",t),t},getLineHtml:function(){var t='<hr id="redactor-hr-tmp-id" />';return!this.detect.isFirefox()&&this.utils.isEmpty()&&(t+="<p>"+this.opts.emptyHtml+"</p>"),t},removeOnBackspace:function(e){if(this.utils.isCollapsed()){var r=t(this.selection.block());if(0!==r.length&&this.utils.isStartOfElement(r)){var i=r.prev();i&&"HR"===i[0].tagName&&(e.preventDefault(),i.remove())}}}}},link:function(){return{get:function(){return t(this.selection.inlines("a"))},is:function(){var e=this.selection.nodes(),r=t(this.selection.current()).closest("a",this.core.editor()[0]);return!(0===r.length||e.length>1)&&r},unlink:function(t){void 0!==t&&t.preventDefault&&t.preventDefault(),this.buffer.set();var e=this.selection.inlines("a");if(0!==e.length){var r=this.link.replaceLinksToText(e);this.observe.closeAllTooltip(),this.core.callback("deletedLink",r)}},insert:function(e,r){var i=this.link.is();if(!0!==r&&!1===(e=this.link.buildLinkFromObject(i,e)))return!1;if(this.buffer.set(),e=this.core.callback("beforeInsertingLink",e),!1===i){i=t("<a />"),i=this.link.update(i,e),i=t(this.insert.node(i));var o=i.parent();!1===this.utils.isRedactorParent(o)&&i.wrap("<p>"),o.hasClass("redactor-unlink")&&o.replaceWith(function(){return t(this).contents()}),this.caret.after(i),this.core.callback("insertedLink",i)}else i=this.link.update(i,e),this.caret.after(i)},update:function(t,e){return t.text(e.text),t.attr("href",e.url),this.link.target(t,e.target),t},target:function(t,e){return e?t.attr("target","_blank"):t.removeAttr("target")},show:function(e){void 0!==e&&e.preventDefault&&e.preventDefault(),this.observe.closeAllTooltip();var r=this.link.is();this.link.buildModal(r);var i=this.link.buildLinkFromElement(r);i.url=this.link.removeSelfHostFromUrl(i.url),this.opts.linkNewTab&&!r&&(i.target=!0),this.link.setModalValues(i),this.modal.show(),this.detect.isDesktop()&&t("#redactor-link-url").focus()},setModalValues:function(e){t("#redactor-link-blank").prop("checked",e.target),t("#redactor-link-url").val(e.url),t("#redactor-link-url-text").val(e.text)},buildModal:function(e){this.modal.load("link",this.lang.get(!1===e?"link-insert":"link-edit"),600),this.modal.getActionButton().text(this.lang.get(!1===e?"insert":"save")).on("click",t.proxy(this.link.callback,this))},callback:function(){var t=this.link.buildLinkFromModal();if(!1===t)return!1;this.modal.close(),this.link.insert(t,!0)},cleanUrl:function(e){return void 0===e?"":t.trim(e.replace(/[^\W\w\D\d+&\'@#\/%?=~_|!:,.;\(\)]/gi,""))},cleanText:function(e){return void 0===e?"":t.trim(e.replace(/(<([^>]+)>)/gi,""))},getText:function(t){return""===t.text&&""!==t.url?this.link.truncateUrl(t.url.replace(/<|>/g,"")):t.text},isUrl:function(t){var e="((xn--)?[\\W\\w\\D\\d]+(-[\\W\\w\\D\\d]+)*\\.)+[\\W\\w]{2,}",r=new RegExp("^(http|ftp|https)://"+e,"i"),i=new RegExp("^"+e,"i"),o=new RegExp(".(html|php)$","i"),n=new RegExp("^/","i"),s=new RegExp("^tel:(.*?)","i");return-1===t.search(r)&&-1!==t.search(i)&&-1===t.search(o)&&(t="http://"+t),(-1!==t.search(r)||-1!==t.search(o)||-1!==t.search(n)||-1!==t.search(s))&&t},isMailto:function(t){return-1!==t.search("@")&&!1===/(http|ftp|https):\/\//i.test(t)},isEmpty:function(t){return""===t.url||""===t.text&&""===t.url},truncateUrl:function(t){return t.length>this.opts.linkSize?t.substring(0,this.opts.linkSize)+"...":t},parse:function(t){return this.link.isMailto(t.url)?t.url="mailto:"+t.url.replace("mailto:",""):0!==t.url.search("#")&&(t.url=this.link.isUrl(t.url)),!this.link.isEmpty(t)&&!1!==t.url&&t},buildLinkFromModal:function(){var e={};return e.url=this.link.cleanUrl(t("#redactor-link-url").val()),e.text=this.link.cleanText(t("#redactor-link-url-text").val()),e.text=this.link.getText(e),e.target=!!t("#redactor-link-blank").prop("checked"),this.link.parse(e)},buildLinkFromObject:function(t,e){return e.url=this.link.cleanUrl(e.url),e.text=void 0===e.text&&this.selection.is()?this.selection.text():this.link.cleanText(e.text),e.text=this.link.getText(e),e.target=!1===t?e.target:this.link.buildTarget(t),this.link.parse(e)},buildLinkFromElement:function(t){var e={url:"",text:this.selection.is()?this.selection.text():"",target:!1};return!1!==t&&(e.url=t.attr("href"),e.text=t.text(),e.target=this.link.buildTarget(t)),e},buildTarget:function(t){return void 0!==t.attr("target")&&"_blank"===t.attr("target")},removeSelfHostFromUrl:function(t){var e=self.location.href.replace("#","").replace(/\/$/i,"");return t.replace(/^\/\#/,"#").replace(e,"").replace("mailto:","")},replaceLinksToText:function(e){var r,i=t.each(e,function(e,i){var o=t(i),n=t('<span class="redactor-unlink" />').append(o.contents());return o.replaceWith(n),0===e&&(r=n),o});return 1===e.length&&this.selection.isCollapsed()&&this.caret.after(r),i}}},linkify:function(){return{isKey:function(t){return t===this.keyCode.ENTER||t===this.keyCode.SPACE},isLink:function(t){return t.nodeValue.match(this.opts.regexps.linkyoutube)||t.nodeValue.match(this.opts.regexps.linkvimeo)||t.nodeValue.match(this.opts.regexps.linkimage)||t.nodeValue.match(this.opts.regexps.url)},isFiltered:function(e,r){return 3===r.nodeType&&""!==t.trim(r.nodeValue)&&!t(r).parent().is("pre")&&this.linkify.isLink(r)},handler:function(e,r){var i=t(r),o=i.text(),n=o;n=n.match(this.opts.regexps.linkyoutube)||n.match(this.opts.regexps.linkvimeo)?this.linkify.convertVideoLinks(n):n.match(this.opts.regexps.linkimage)?this.linkify.convertImages(n):this.linkify.convertLinks(n),i.before(o.replace(o,n)).remove()},format:function(){if(this.opts.linkify&&!this.utils.isCurrentOrParent("pre")){this.core.editor().find(":not(iframe,img,a,pre,.redactor-unlink)").addBack().contents().filter(t.proxy(this.linkify.isFiltered,this)).each(t.proxy(this.linkify.handler,this));var e=this.core.editor().find(".redactor-linkify-object").each(t.proxy(function(e,r){var i=t(r);return i.removeClass("redactor-linkify-object"),""===i.attr("class")&&i.removeAttr("class"),"DIV"===r.tagName?this.linkify.breakBlockTag(i,"video"):"IMG"===r.tagName?this.linkify.breakBlockTag(i,"image"):"A"===r.tagName&&this.core.callback("insertedLink",i),i},this));setTimeout(t.proxy(function(){this.code.sync(),this.core.callback("linkify",e)},this),100)}},breakBlockTag:function(e,r){var i=this.utils.breakBlockTag();if(!1!==i){var o=e;"image"===r&&(o=t("<figure />").append(e)),"start"===i.type?i.$block.before(o):i.$block.after(o),"image"===r&&this.caret.after(o)}},convertVideoLinks:function(t){var e='<div class="'+this.opts.videoContainerClass+' redactor-linkify-object"><iframe class="redactor-linkify-object" width="500" height="281" src="',r='" frameborder="0" allowfullscreen></iframe></div>';return t.match(this.opts.regexps.linkyoutube)&&(t=t.replace(this.opts.regexps.linkyoutube,e+"//www.youtube.com/embed/$1"+r)),t.match(this.opts.regexps.linkvimeo)&&(t=t.replace(this.opts.regexps.linkvimeo,e+"//player.vimeo.com/video/$2"+r)),t},convertImages:function(t){var e=t.match(this.opts.regexps.linkimage);return e?t.replace(t,'<img src="'+e+'" class="redactor-linkify-object" />'):t},convertLinks:function(e){var r=e.match(this.opts.regexps.url);if(!r)return e;r=t.grep(r,function(e,i){return t.inArray(e,r)===i});for(var i=r.length,o=0;o<i;o++){var n=r[o],s=n,a=null!==n.match(/(https?|ftp):\/\//i)?"":"http://";s.length>this.opts.linkSize&&(s=s.substring(0,this.opts.linkSize)+"..."),-1===s.search("%")&&(s=decodeURIComponent(s));var l="\\b";-1!==t.inArray(n.slice(-1),["/","&","="])&&(l="");var c=new RegExp("("+n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+l+")","g");e=e.replace(c,'<a href="'+a+t.trim(n)+'" class="redactor-linkify-object">'+t.trim(s)+"</a>")}return e}}},list:function(){return{toggle:function(e){if(!this.utils.inBlocks(["table","td","th","tr"])){var r="orderedlist"===e||"ol"===e?"OL":"UL";e="OL"===r?"orderedlist":"unorderedlist";var i=t(this.selection.current()).parentsUntil(".redactor-in","ul, ol").first();if(this.placeholder.hide(),this.buffer.set(),0!==i.length&&i[0].tagName===r&&this.utils.isRedactorParent(i))return this.selection.save(),i.find("ul, ol").each(function(){var e=t(this).closest("li");t(this).find("li").each(function(){t(e).after(this)})}),i.find("ul, ol").remove(),i.find("li").each(function(){return t(this).replaceWith(function(){return t("<p />").append(t(this).contents())})}),i.replaceWith(function(){return t(this).contents()}),void this.selection.restore();this.selection.save(),0!==i.length&&i[0].tagName!==r?i.each(t.proxy(function(t,e){this.utils.replaceToTag(e,r)},this)):document.execCommand("insert"+e),this.selection.restore();var o=this.list.get();if(!o)return void(this.selection.block()||document.execCommand("formatblock",!1,"p"));o.find("span").replaceWith(function(){return t(this).contents()}),o.find(this.opts.inlineTags.join(",")).each(function(){t(this).removeAttr("style")});var n=o.parent();this.utils.isRedactorParent(n)&&"LI"!==n[0].tagName&&this.utils.isBlock(n)&&(this.selection.save(),n.replaceWith(n.contents()),this.selection.restore())}},get:function(){var e=this.selection.current(),r=t(e).closest("ul, ol",this.core.editor()[0]);return 0!==r.length&&r},combineAfterAndBefore:function(e){var r=t(e).prev(),i=t(e).next(),o=e&&"P"===e.tagName&&("<br>"===e.innerHTML||""===e.innerHTML),n=1===r.closest("ol, ul").length&&1===i.closest("ol, ul").length;return!(!o||!n)&&(r.children("li").last().append(this.marker.get()),r.append(i.contents()),this.selection.restore(),!0)}}},marker:function(){return{get:function(t){t=void 0===t?1:t;var e=document.createElement("span");return e.id="selection-marker-"+t,e.className="redactor-selection-marker",e.innerHTML=this.opts.invisibleSpace,e},html:function(t){return this.utils.getOuterHtml(this.marker.get(t))},find:function(t){return t=void 0===t?1:t,this.core.editor().find("span#selection-marker-"+t)},insert:function(){var t=this.selection.get(),e=this.selection.range(t);this.marker.insertNode(e,this.marker.get(1),!0),e&&!1===e.collapsed&&this.marker.insertNode(e,this.marker.get(2),!1)},remove:function(){this.core.editor().find(".redactor-selection-marker").each(this.marker.iterateRemove)},insertNode:function(e,r,i){var o=this.selection.parent();if(null!==e&&0!==t(o).closest(".redactor-in").length){e=e.cloneRange();try{e.collapse(i),e.insertNode(r)}catch(t){this.focus.start()}}},iterateRemove:function(e,r){var i=t(r);return""===i.text().replace(/\u200B/g,"")?i.remove():i.replaceWith(function(){return t(this).contents()})}}},modal:function(){return{callbacks:{},templates:function(){this.opts.modal={"image-edit":String()+'<div class="redactor-modal-tab redactor-group" data-title="General"><div id="redactor-image-preview" class="redactor-modal-tab-side"></div><div class="redactor-modal-tab-area"><section><label>'+this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /></section><section><label>'+this.lang.get("caption")+'</label><input type="text" id="redactor-image-caption" aria-label="'+this.lang.get("caption")+'" /></section><section><label>'+this.lang.get("link")+'</label><input type="text" id="redactor-image-link" aria-label="'+this.lang.get("link")+'" /></section><section><label class="redactor-image-position-option">'+this.lang.get("image-position")+'</label><select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+this.lang.get("image-position")+'"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+this.lang.get("right")+'</option></select></section><section><label class="checkbox"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get("link-in-new-tab")+'" checked disabled> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+'</button><button id="redactor-modal-button-delete" class="redactor-modal-button-offset">'+this.lang.get("delete")+"</button></section></div></div>",image:String()+'<div class="redactor-modal-tab" data-title="Upload"><section><div id="redactor-modal-image-droparea"></div></section></div>',file:String()+'<div class="redactor-modal-tab" data-title="Upload"><section><label>'+this.lang.get("filename")+' <span class="desc">('+this.lang.get("optional")+')</span></label><input type="text" id="redactor-filename" aria-label="'+this.lang.get("filename")+'" /><br><br></section><section><div id="redactor-modal-file-upload"></div></section></div>',link:String()+'<div class="redactor-modal-tab" data-title="General"><section><label>URL</label><input type="url" id="redactor-link-url" aria-label="URL" /></section><section><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" aria-label="'+this.lang.get("text")+'" /></section><section><label class="checkbox"><input type="checkbox" id="redactor-link-blank"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"},t.extend(this.opts,this.opts.modal)},addCallback:function(t,e){this.modal.callbacks[t]=e},addTemplate:function(t,e){this.opts.modal[t]=e},getTemplate:function(t){return this.opts.modal[t]},getModal:function(){return this.$modalBody},getActionButton:function(){return this.$modalBody.find("#redactor-modal-button-action")},getCancelButton:function(){return this.$modalBody.find("#redactor-modal-button-cancel")},getDeleteButton:function(){return this.$modalBody.find("#redactor-modal-button-delete")},load:function(t,e,r){void 0!==this.$modalBox&&this.$modalBox.hasClass("open")||(this.modal.templateName=t,this.modal.width=r,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(e),this.modal.setDraggable(),this.modal.setContent(),void 0!==this.modal.callbacks[t]&&this.modal.callbacks[t].call(this))},show:function(){this.detect.isDesktop()||document.activeElement.blur(),this.selection.save(),this.modal.buildTabber(),this.detect.isMobile()&&(this.modal.width="96%"),setTimeout(t.proxy(this.modal.buildWidth,this),0),t(window).on("resize.redactor-modal",t.proxy(this.modal.buildWidth,this)),this.$modalOverlay.redactorAnimation("fadeIn",{duration:.25}),this.$modalBox.addClass("open").show(),this.$modal.redactorAnimation("fadeIn",{timing:"cubic-bezier(0.175, 0.885, 0.320, 1.105)"},t.proxy(function(){this.utils.saveScroll(),this.utils.disableBodyScroll(),this.core.callback("modalOpened",this.modal.templateName,this.$modal),t(document).off("focusin.modal"),this.$modal.find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor-modal",t.proxy(this.modal.setEnter,this))},this))},buildWidth:function(){var e=t(window).height(),r=t(window).width(),i="number"==typeof this.modal.width;!i&&this.modal.width.match(/%$/)?this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}):parseInt(this.modal.width)>r?this.$modal.css({width:"96%","margin-bottom":"2%"}):(i&&(this.modal.width+="px"),this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}));var o=this.$modal.outerHeight(),n=e/2-o/2+"px";this.detect.isMobile()?n="2%":o>e&&(n="16px"),this.$modal.css("margin-top",n)},buildTabber:function(){this.modal.tabs=this.$modal.find(".redactor-modal-tab"),this.modal.tabs.length<2||(this.modal.$tabsBox=t('<div id="redactor-modal-tabber" />'),t.each(this.modal.tabs,t.proxy(function(e,r){var i=t('<a href="#" rel="'+e+'" />').text(t(r).attr("data-title"));i.on("click",t.proxy(this.modal.showTab,this)),0===e&&i.addClass("active"),this.modal.$tabsBox.append(i)},this)),this.$modalBody.prepend(this.modal.$tabsBox))},showTab:function(e){e.preventDefault();var r=t(e.target),i=r.attr("rel");return this.modal.tabs.hide(),this.modal.tabs.eq(i).show(),t("#redactor-modal-tabber").find("a").removeClass("active"),r.addClass("active"),!1},setTitle:function(t){this.$modalHeader.html(t)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName)),this.modal.getCancelButton().on("mousedown",t.proxy(this.modal.close,this))},setDraggable:function(){void 0!==t.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(t){13===t.which&&(t.preventDefault(),this.modal.getActionButton().click())},build:function(){this.modal.buildOverlay(),this.$modalBox=t('<div id="redactor-modal-box"/>').hide(),this.$modal=t('<div id="redactor-modal" role="dialog" />'),this.$modalHeader=t('<div id="redactor-modal-header" />'),this.$modalClose=t('<button type="button" id="redactor-modal-close" aria-label="'+this.lang.get("close")+'" />').html("&times;"),this.$modalBody=t('<div id="redactor-modal-body" />'),this.$modal.append(this.$modalHeader),this.$modal.append(this.$modalBody),this.$modal.append(this.$modalClose),this.$modalBox.append(this.$modal),this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=t('<div id="redactor-modal-overlay">').hide(),t("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("mousedown.redactor-modal",t.proxy(this.modal.close,this)),t(document).on("keyup.redactor-modal",t.proxy(this.modal.closeHandler,this)),this.core.editor().on("keyup.redactor-modal",t.proxy(this.modal.closeHandler,this)),this.$modalBox.on("click.redactor-modal",t.proxy(this.modal.close,this))},disableEvents:function(){this.$modalClose.off("mousedown.redactor-modal"),t(document).off("keyup.redactor-modal"),this.core.editor().off("keyup.redactor-modal"),this.$modalBox.off("click.redactor-modal"),t(window).off("resize.redactor-modal")},closeHandler:function(t){t.which===this.keyCode.ESC&&this.modal.close(!1)},close:function(e){if(e){if("redactor-modal-button-cancel"!==t(e.target).attr("id")&&e.target!==this.$modalClose[0]&&e.target!==this.$modalBox[0])return;e.preventDefault()}this.$modalBox&&(this.selection.restore(),this.modal.disableEvents(),this.utils.enableBodyScroll(),this.utils.restoreScroll(),this.$modalOverlay.redactorAnimation("fadeOut",{duration:.4},t.proxy(function(){this.$modalOverlay.remove()},this)),this.$modal.redactorAnimation("fadeOut",{duration:.3,timing:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},t.proxy(function(){void 0!==this.$modalBox&&(this.$modalBox.remove(),this.$modalBox=void 0),t(document.body).css("overflow",this.modal.bodyOveflow),this.core.callback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){void 0===this.opts.destroyed&&(this.observe.links(),this.observe.images())},isCurrent:function(e,r){return void 0===r&&(r=t(this.selection.current())),r.is(e)||r.parents(e).length>0},toolbar:function(){this.observe.buttons(),this.observe.dropdowns()},buttons:function(e,r){var i=this.selection.current(),o=this.selection.parent();if(!1!==e?this.button.setInactiveAll():this.button.setInactiveAll(r),!1===e&&"html"!==r)return void(-1!==t.inArray(r,this.opts.activeButtons)&&this.button.toggleActive(r));this.utils.isRedactorParent(i)&&(this.utils.isCurrentOrParentHeader()||this.utils.isCurrentOrParent(["table","pre","blockquote","li"])?this.button.disable("horizontalrule"):this.button.enable("horizontalrule"),t.each(this.opts.activeButtonsStates,t.proxy(function(e,r){var n=t(o).closest(e,this.$editor[0]),s=t(i).closest(e,this.$editor[0]);(0===n.length||this.utils.isRedactorParent(n))&&this.utils.isRedactorParent(s)&&(0===n.length&&0===s.closest(e,this.$editor[0]).length||this.button.setActive(r))},this)))},dropdowns:function(){var e=t("<div />").html(this.selection.html()).find("a").length,r=t(this.selection.current()),i=this.utils.isRedactorParent(r);t.each(this.opts.observe.dropdowns,t.proxy(function(t,o){var n=o.observe,s=n.element,a=o.item,l=void 0!==n.in&&n.in,c=void 0!==n.out&&n.out;r.closest(s).length>0&&i||"a"===s&&0!==e?this.observe.setDropdownProperties(a,l,c):this.observe.setDropdownProperties(a,c,l)},this))},setDropdownProperties:function(t,e,r){r&&void 0!==r.attr&&this.observe.setDropdownAttr(t,r.attr,!0),void 0!==e.attr&&this.observe.setDropdownAttr(t,e.attr),void 0!==e.title&&t.find("span").text(e.title)},setDropdownAttr:function(e,r,i){t.each(r,function(t,r){"class"===t?i?e.removeClass(r):e.addClass(r):i?e.removeAttr(t):e.attr(t,r)})},addDropdown:function(t,e,r){void 0!==r.observe&&(r.item=t,this.opts.observe.dropdowns.push(r))},images:function(){this.opts.imageEditable&&(this.core.editor().addClass("redactor-editor-img-edit"),this.core.editor().find("img").each(t.proxy(function(e,r){var i=t(r);i.closest("a",this.$editor[0]).on("click",function(t){t.preventDefault()}),this.image.setEditable(i)},this)))},links:function(){this.opts.linkTooltip&&this.core.editor().find("a").each(t.proxy(function(e,r){var i=t(r);!0!==i.data("cached")&&(i.data("cached",!0),i.on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.showTooltip,this)))},this))},getTooltipPosition:function(t){return t.offset()},showTooltip:function(e){var r=t(e.target);if("IMG"!==r[0].tagName&&("A"!==r[0].tagName&&(r=r.closest("a",this.$editor[0])),"A"===r[0].tagName)){var i=r,o=this.observe.getTooltipPosition(i),n=t('<span class="redactor-link-tooltip"></span>'),s=i.attr("href");void 0===s&&(s=""),s.length>24&&(s=s.substring(0,24)+"...");var a=t('<a href="'+i.attr("href")+'" target="_blank" />').html(s).addClass("redactor-link-tooltip-action"),l=t('<a href="#" />').html(this.lang.get("edit")).on("click",t.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),c=t('<a href="#" />').html(this.lang.get("unlink")).on("click",t.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action");n.append(a).append(" | ").append(l).append(" | ").append(c);var u=parseInt(i.css("line-height"),10),d=Math.ceil((e.pageY-o.top)/u),h=o.top+d*u;n.css({top:h+"px",left:o.left+"px"}),t(".redactor-link-tooltip").remove(),t("body").append(n),this.core.editor().on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this)),t(document).on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this))}},closeAllTooltip:function(){t(".redactor-link-tooltip").remove()},closeTooltip:function(e){e=e.originalEvent||e;var r=e.target,i=t(r).closest("a",this.$editor[0]);0!==i.length&&"A"===i[0].tagName&&"A"!==r.tagName||"A"===r.tagName&&this.utils.isRedactorParent(r)||t(r).hasClass("redactor-link-tooltip-action")||(this.observe.closeAllTooltip(),this.core.editor().off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this)),t(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this)))}}},offset:function(){return{get:function(e){var r=this.offset.clone(e);if(!1===r)return 0;var i=document.createElement("div");return i.appendChild(r.cloneContents()),i.innerHTML=i.innerHTML.replace(/<img(.*?[^>])>$/gi,"i"),t.trim(t(i).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"").length},clone:function(t){var e=this.selection.get(),r=this.selection.range(e);if(null===r&&void 0===t)return!1;if(!1===(t=void 0===t?this.$editor:t))return!1;t=t[0]||t;var i=r.cloneRange();return i.selectNodeContents(t),i.setEnd(r.endContainer,r.endOffset),i},set:function(t,e){e=void 0===e?t:e,this.focus.is()||this.focus.start();for(var r,i=this.selection.get(),o=this.selection.range(i),n=0,s=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);null!==(r=s.nextNode());)if(n+=r.nodeValue.length,n>t&&(o.setStart(r,r.nodeValue.length+t-n),t=1/0),n>=e){o.setEnd(r,r.nodeValue.length+e-n);break}o.collapse(!1),this.selection.update(i,o)}}},paragraphize:function(){return{load:function(e){return!1===this.opts.paragraphize||"inline"===this.opts.type||"pre"===this.opts.type?e:""===e||"<p></p>"===e?this.opts.emptyHtml:(e+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,e=e.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>"),e=e.replace(/<\/pre>/gi,"</pre>\n\n"),e=this.paragraphize.getSafes(e),e=e.replace("<br>","\n"),e=this.paragraphize.convert(e),e=this.paragraphize.clear(e),e=this.paragraphize.restoreSafes(e),e=e.replace(new RegExp("<br\\s?/?>\n?<("+this.opts.paragraphizeBlocks.join("|")+")(.*?[^>])>","gi"),"<p><br /></p>\n<$1$2>"),t.trim(e))},getSafes:function(e){var r=t("<div />").append(e);return r.find("blockquote p").replaceWith(function(){return t(this).append("<br />").contents()}),r.find(this.opts.paragraphizeBlocks.join(", ")).each(t.proxy(function(e,r){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=r.outerHTML,t(r).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),r.find("span.redactor-selection-marker").each(t.proxy(function(e,r){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=r.outerHTML,t(r).replaceWith("n#####replace"+this.paragraphize.z+"#####nn")},this)),r.html()},restoreSafes:function(e){return t.each(this.paragraphize.safes,function(t,r){r=void 0!==r?r.replace(/\$/g,"&#36;"):r,e=e.replace("#####replace"+t+"#####",r)}),e},convert:function(e){e=e.replace(/\r\n/g,"xparagraphmarkerz"),e=e.replace(/\n/g,"xparagraphmarkerz"),e=e.replace(/\r/g,"xparagraphmarkerz");var r=/\s+/g;e=e.replace(r," "),e=t.trim(e);var i=/xparagraphmarkerzxparagraphmarkerz/gi;e=e.replace(i,"</p><p>");var o=/xparagraphmarkerz/gi;return e=e.replace(o,"<br>"),e="<p>"+e+"</p>",e=e.replace("<p></p>",""),e=e.replace("\r\n\r\n",""),e=e.replace(/<\/p><p>/g,"</p>\r\n\r\n<p>"),e=e.replace(new RegExp("<br\\s?/?></p>","g"),"</p>"),e=e.replace(new RegExp("<p><br\\s?/?>","g"),"<p>"),e=e.replace(new RegExp("<p><br\\s?/?>","g"),"<p>"),e=e.replace(new RegExp("<br\\s?/?></p>","g"),"</p>"),e=e.replace(/<p>&nbsp;<\/p>/gi,""),e=e.replace(/<p>\s?<br>&nbsp;<\/p>/gi,""),e=e.replace(/<p>\s?<br>/gi,"<p>")},clear:function(t){return t=t.replace(/<p>(.*?)#####replace(.*?)#####\s?<\/p>/gi,"<p>$1</p>#####replace$2#####"),t=t.replace(/(<br\s?\/?>){2,}<\/p>/gi,"</p>"),t=t.replace(new RegExp("</blockquote></p>","gi"),"</blockquote>"),t=t.replace(new RegExp("<p></blockquote>","gi"),"</blockquote>"),t=t.replace(new RegExp("<p><blockquote>","gi"),"<blockquote>"),t=t.replace(new RegExp("<blockquote></p>","gi"),"<blockquote>"),t=t.replace(new RegExp("<p><p ","gi"),"<p "),t=t.replace(new RegExp("<p><p>","gi"),"<p>"),t=t.replace(new RegExp("</p></p>","gi"),"</p>"),t=t.replace(new RegExp("<p>\\s?</p>","gi"),""),t=t.replace(new RegExp("\n</p>","gi"),"</p>"),t=t.replace(new RegExp("<p>\t?\t?\n?<p>","gi"),"<p>"),t=t.replace(new RegExp("<p>\t*</p>","gi"),"")}}},paste:function(){return{init:function(e){this.rtePaste=!0;var r=!("pre"!==this.opts.type&&!this.utils.isCurrentOrParent("pre"));if(this.detect.isDesktop()&&!this.paste.pre&&this.opts.clipboardImageUpload&&this.opts.imageUpload&&this.paste.detectClipboardUpload(e))return void(this.detect.isIe()&&setTimeout(t.proxy(this.paste.clipboardUpload,this),100));this.utils.saveScroll(),this.selection.save(),this.paste.createPasteBox(r),t(window).on("scroll.redactor-freeze",t.proxy(function(){t(window).scrollTop(this.saveBodyScroll)},this)),setTimeout(t.proxy(function(){var e=this.paste.getPasteBoxCode(r);this.buffer.set(),this.selection.restore(),this.utils.restoreScroll();var i=this.clean.getCurrentType(e);e=this.clean.onPaste(e,i);var o=this.core.callback("paste",e);e=void 0===o?e:o,this.paste.insert(e,i),this.rtePaste=!1,r&&this.clean.cleanPre(),t(window).off("scroll.redactor-freeze")},this),1)},getPasteBoxCode:function(t){var e=t?this.$pasteBox.val():this.$pasteBox.html();return this.$pasteBox.remove(),e},createPasteBox:function(e){var r={position:"fixed",width:"1px",top:0,left:"-9999px"};this.$pasteBox=e?t("<textarea>").css(r):t("<div>").attr("contenteditable","true").css(r),this.paste.appendPasteBox(),this.$pasteBox.focus()},appendPasteBox:function(){if(this.detect.isIe())this.core.box().append(this.$pasteBox);else{var e=t(".modal-body:visible");e.length>0?e.append(this.$pasteBox):t("body").prepend(this.$pasteBox)}},detectClipboardUpload:function(e){e=e.originalEvent||e;var r=e.clipboardData;if(this.detect.isIe())return!0;if(this.detect.isFirefox())return!1;if(-1!==r.types.indexOf("public.tiff"))return e.preventDefault(),!1;if(r.items&&r.items.length){var i=r.items[0].getAsFile();if(null===i)return!1;var o=new FileReader;return o.readAsDataURL(i),o.onload=t.proxy(this.paste.insertFromClipboard,this),!0}},clipboardUpload:function(){var e=this.$editor.find("img");t.each(e,t.proxy(function(e,r){if(-1!==r.src.search(/^data\:image/i)){var i=window.FormData?new FormData:null;if(window.FormData){this.buffer.set(),this.upload.direct=!0,this.upload.type="image",this.upload.url=this.opts.imageUpload,this.upload.callback=t.proxy(function(e){if(this.detect.isIe())t(r).wrap(t("<figure />"));else{var i=t(r).parent();this.utils.replaceToTag(i,"figure")}r.src=e.url,this.core.callback("imageUpload",t(r),e)},this);var o=this.utils.dataURItoBlob(r.src);i.append("clipboard",1),i.append(this.opts.imageUploadParam,o),this.progress.show(),this.upload.send(i,!1),this.code.sync()}}},this))},insertFromClipboard:function(t){var e=window.FormData?new FormData:null;if(window.FormData){this.buffer.set(),this.upload.direct=!0,this.upload.type="image",this.upload.url=this.opts.imageUpload,this.upload.callback=this.image.insert;var r=this.utils.dataURItoBlob(t.target.result);e.append("clipboard",1),e.append(this.opts.imageUploadParam,r),this.progress.show(),this.upload.send(e,t)}},insert:function(e,r){r.pre?this.insert.raw(e):r.text?this.insert.text(e):this.insert.html(e,r),this.detect.isFirefox()&&this.opts.clipboardImageUpload&&setTimeout(t.proxy(this.paste.clipboardUpload,this),100)}}},placeholder:function(){return{enable:function(){setTimeout(t.proxy(function(){return this.placeholder.isEditorEmpty()?this.placeholder.show():this.placeholder.hide()},this),5)},show:function(){this.core.editor().addClass("redactor-placeholder")},update:function(t){this.opts.placeholder=t,this.core.editor().attr("placeholder",t)},hide:function(){this.core.editor().removeClass("redactor-placeholder")},is:function(){return this.core.editor().hasClass("redactor-placeholder")},init:function(){this.placeholder.enabled()&&(this.utils.isEditorRelative()||this.utils.setEditorRelative(),this.placeholder.build(),this.placeholder.buildPosition(),this.placeholder.enable(),this.placeholder.enableEvents())},enabled:function(){return this.opts.placeholder?this.core.element().attr("placeholder",this.opts.placeholder):this.placeholder.isAttr()},enableEvents:function(){this.core.editor().on("keydown.redactor-placeholder."+this.uuid,t.proxy(this.placeholder.enable,this))},disableEvents:function(){this.core.editor().off(".redactor-placeholder."+this.uuid)},build:function(){this.core.editor().attr("placeholder",this.core.element().attr("placeholder"))},buildPosition:function(){var e=t("<style />");e.addClass("redactor-placeholder-style-tag"),e.html("#"+this.core.id()+".redactor-placeholder::after "+this.placeholder.getPosition()),t("head").append(e)},getPosition:function(){return"{ top: "+this.core.editor().css("padding-top")+"; left: "+this.core.editor().css("padding-left")+"; }"},isEditorEmpty:function(){var e=t.trim(this.core.editor().html()).replace(/[\t\n]/g,""),r=["","<p></p>","<p><br></p>"];return-1!==t.inArray(e,r)},isAttr:function(){return void 0!==this.core.element().attr("placeholder")&&""!==this.core.element().attr("placeholder")},destroy:function(){this.core.editor().removeAttr("placeholder"),this.placeholder.hide(),this.placeholder.disableEvents(),t(".redactor-placeholder-style-tag").remove()}}},progress:function(){return{$box:null,$bar:null,target:document.body,show:function(){this.progress.is()?this.progress.$box.show():(this.progress.build(),this.progress.$box.redactorAnimation("fadeIn"))},hide:function(){this.progress.is()&&this.progress.$box.redactorAnimation("fadeOut",{duration:.35},t.proxy(this.progress.destroy,this))},update:function(t){this.progress.show(),this.progress.$bar.css("width",t+"%")},is:function(){return null!==this.progress.$box},build:function(){this.progress.$bar=t("<span />"),this.progress.$box=t('<div id="redactor-progress" />'),this.progress.$box.append(this.progress.$bar),t(this.progress.target).append(this.progress.$box)},destroy:function(){this.progress.is()&&this.progress.$box.remove(),this.progress.$box=null,this.progress.$bar=null}}},selection:function(){return{get:function(){return window.getSelection?window.getSelection():document.selection&&"Control"!==document.selection.type?document.selection:null},range:function(t){return void 0===t&&(t=this.selection.get()),t.getRangeAt&&t.rangeCount?t.getRangeAt(0):null},is:function(){return!this.selection.isCollapsed()},isRedactor:function(){var e=this.selection.range();if(null!==e){var r=e.startContainer.parentNode;if(t(r).hasClass("redactor-in")||0!==t(r).parents(".redactor-in").length)return!0}return!1},isCollapsed:function(){var t=this.selection.get();return null!==t&&t.isCollapsed},update:function(t,e){null!==e&&(t.removeAllRanges(),t.addRange(e))},current:function(){var t=this.selection.get();return null!==t&&t.anchorNode},parent:function(){var t=this.selection.current();return null!==t&&t.parentNode},block:function(e){for(e=e||this.selection.current();e;){if(this.utils.isBlockTag(e.tagName))return!t(e).hasClass("redactor-in")&&e;e=e.parentNode}return!1},inline:function(e){for(e=e||this.selection.current();e;){if(this.utils.isInlineTag(e.tagName))return!t(e).hasClass("redactor-in")&&e;e=e.parentNode}return!1},element:function(e){for(e||(e=this.selection.current());e;){if(1===e.nodeType)return!t(e).hasClass("redactor-in")&&e;e=e.parentNode}return!1},prev:function(){return null!==this.selection.current()&&this.selection.current().previousSibling},next:function(){return null!==this.selection.current()&&this.selection.current().nextSibling},blocks:function(e){var r=[],i=this.selection.nodes(e);t.each(i,t.proxy(function(t,e){this.utils.isBlock(e)&&r.push(e)},this));var o=this.selection.block();return 0===r.length&&!1===o?[]:0===r.length&&!1!==o?[o]:r},inlines:function(e){var r=[],i=this.selection.nodes(e);t.each(i,t.proxy(function(t,e){this.utils.isInline(e)&&r.push(e)},this));var o=this.selection.inline();return 0===r.length&&!1===o?[]:0===r.length&&!1!==o?[o]:r},nodes:function(e){var r=void 0===e?[]:t.isArray(e)?e:[e],i=this.selection.get(),o=this.selection.range(i);if(this.utils.isCollapsed())return[this.selection.current()];var n=o.startContainer,s=o.endContainer;if(n===s)return[n];for(var a=[];n&&n!==s;)a.push(n=this.selection.nextNode(n));for(n=o.startContainer;n&&n!==o.commonAncestorContainer;)a.unshift(n),n=n.parentNode;var l=[];return t.each(a,function(e,i){var o=1===i.nodeType&&i.tagName.toLowerCase();t(i).hasClass("redactor-script-tag, redactor-selection-marker")||o&&0!==r.length&&-1===t.inArray(o,r)||l.push(i)}),0===l.length?[]:l},nextNode:function(t){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null},save:function(){this.marker.insert(),this.savedSel=this.core.editor().html()},restore:function(t){var e=this.marker.find(1),r=this.marker.find(2);this.detect.isFirefox()&&this.core.editor().focus(),0!==e.length&&0!==r.length?this.caret.set(e,r):0!==e.length?this.caret.start(e):this.core.editor().focus(),!1!==t&&(this.marker.remove(),this.savedSel=!1)},node:function(e){t(e).prepend(this.marker.get(1)),t(e).append(this.marker.get(2)),this.selection.restore()},all:function(){this.core.editor().focus();var t=this.selection.get(),e=this.selection.range(t);e.selectNodeContents(this.core.editor()[0]),this.selection.update(t,e)},remove:function(){this.selection.get().removeAllRanges()},replace:function(t){this.insert.html(t)},text:function(){return this.selection.get().toString()},html:function(){var t="",e=this.selection.get();if(e.rangeCount){for(var r=document.createElement("div"),i=e.rangeCount,o=0;o<i;++o)r.appendChild(e.getRangeAt(o).cloneContents());t=this.clean.onGet(r.innerHTML)}return t},extractEndOfNode:function(t){var e=this.selection.get(),r=this.selection.range(e),i=r.cloneRange();return i.selectNodeContents(t),i.setStart(r.endContainer,r.endOffset),i.extractContents()},removeMarkers:function(){this.marker.remove()},marker:function(t){return this.marker.get(t)},markerHtml:function(t){return this.marker.html(t)}}},shortcuts:function(){return{hotkeysSpecialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hotkeysShiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},init:function(e,r){if(!1===this.opts.shortcuts)return!e.ctrlKey&&!e.metaKey||66!==r&&73!==r||e.preventDefault(),!1;t.each(this.opts.shortcuts,t.proxy(function(t,r){this.shortcuts.build(e,t,r)},this))},build:function(e,r,i){for(var o=t.proxy(function(){this.shortcuts.buildHandler(i)},this),n=r.split(","),s=n.length,a=0;a<s;a++)"string"==typeof n[a]&&this.shortcuts.handler(e,t.trim(n[a]),o)},buildHandler:function(t){var e;"-1"!==t.func.search(/\./)?(e=t.func.split("."),void 0!==this[e[0]]&&this[e[0]][e[1]].apply(this,t.params)):this[t.func].apply(this,t.params)},handler:function(e,r,i){r=r.toLowerCase().split(" ");var o=this.shortcuts.hotkeysSpecialKeys[e.keyCode],n=String.fromCharCode(e.which).toLowerCase(),s="",a={};t.each(["alt","ctrl","meta","shift"],function(t,r){e[r+"Key"]&&o!==r&&(s+=r+"+")}),o&&(a[s+o]=!0),n&&(a[s+n]=!0,a[s+this.shortcuts.hotkeysShiftNums[n]]=!0,"shift+"===s&&(a[this.shortcuts.hotkeysShiftNums[n]]=!0));for(var l=r.length,c=0;c<l;c++)if(a[r[c]])return e.preventDefault(),i.apply(this,arguments)}}},storage:function(){return{data:[],add:function(t){t.status=!0,t.url=decodeURI(this.link.removeSelfHostFromUrl(t.url)),this.storage.data[t.url]=t},status:function(t,e){this.storage.data[decodeURI(t)].status=e},observe:function(){var e=this;this.core.editor().find("[data-image]").each(function(r,i){e.storage.add({type:"image",node:i,url:i.src,id:t(i).attr("data-image")})}),this.core.editor().find("[data-file]").each(function(r,i){e.storage.add({type:"file",node:i,url:i.href,id:t(i).attr("data-file")})}),this.core.editor().find("[data-s3]").each(function(r,i){var o="IMG"===i.tagName?i.src:i.href;e.storage.add({type:"s3",node:i,url:o,id:t(i).attr("data-s3")})})},changes:function(){for(var t in this.storage.data){var e=this.storage.data[t],r="IMG"===e.node.tagName?"src":"href";0===this.core.editor().find("[data-"+e.type+"]["+r+'="'+e.url+'"]').length?this.storage.status(e.url,!1):this.storage.status(e.url,!0)}return this.storage.data}}},toolbar:function(){return{build:function(){this.button.hideButtons(),this.button.hideButtonsOnMobile(),this.$toolbar=this.toolbar.createContainer(),this.toolbar.append(),this.button.$toolbar=this.$toolbar,this.button.setFormatting(),this.button.load(this.$toolbar),this.toolbar.setFixed()},createContainer:function(){return t("<ul>").addClass("redactor-toolbar").attr({id:"redactor-toolbar-"+this.uuid,role:"toolbar"})},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),t(this.opts.toolbarExternal).html(this.$toolbar)):"textarea"===this.opts.type?this.$box.prepend(this.$toolbar):this.$element.before(this.$toolbar)},setFixed:function(){if(this.opts.toolbarFixed&&!this.opts.toolbarExternal){if(this.opts.toolbarFixedTarget!==document){var e=t(this.opts.toolbarFixedTarget);this.toolbarOffsetTop=0===e.length?0:this.core.box().offset().top-e.offset().top}var r=0!==this.core.box().closest(".modal-body").length?1e3:0;setTimeout(t.proxy(function(){if(this.toolbar.observeScroll(!1),this.detect.isDesktop())t(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,t.proxy(this.toolbar.observeScroll,this));else{var e=this;t(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){e.core.toolbar().hide(),clearTimeout(t.data(this,"scrollCheck")),t.data(this,"scrollCheck",setTimeout(function(){e.core.toolbar().show(),e.toolbar.observeScroll()},250))})}},this),r)}},getBoxTop:function(){return this.opts.toolbarFixedTarget===document?this.core.box().offset().top:this.toolbarOffsetTop},observeScroll:function(e){var r=0;!1!==e&&(r=this.opts.toolbarFixedTarget===document?20:0);var i=t(this.opts.toolbarFixedTarget).scrollTop(),o=this.toolbar.getBoxTop();i!==o&&(i+this.opts.toolbarFixedTopOffset+r>o?this.toolbar.observeScrollEnable(i,o):this.toolbar.observeScrollDisable())},observeScrollResize:function(){this.$toolbar.css({width:this.core.box().innerWidth(),left:this.core.box().offset().left})},observeScrollEnable:function(e,r){if(void 0!==this.fullscreen&&!1===this.fullscreen.isOpened)return void this.toolbar.observeScrollDisable();var i=r+this.core.box().outerHeight()-32,o=this.core.box().innerWidth(),n=this.detect.isDesktop()?"fixed":"absolute",s=this.detect.isDesktop()?this.opts.toolbarFixedTopOffset:t(this.opts.toolbarFixedTarget).scrollTop()-r,a=this.detect.isDesktop()?this.core.box().offset().left:0;this.opts.toolbarFixedTarget!==document&&(n="absolute",s=this.opts.toolbarFixedTopOffset+t(this.opts.toolbarFixedTarget).scrollTop()-r,a=0),this.$toolbar.addClass("toolbar-fixed-box"),this.$toolbar.css({position:n,width:o,top:s,left:a}),e>i&&t(".redactor-dropdown-"+this.uuid+":visible").hide(),this.toolbar.setDropdownsFixed(),this.$toolbar.css("visibility",e<i?"visible":"hidden"),t(window).on("resize.redactor-toolbar."+this.uuid,t.proxy(this.toolbar.observeScrollResize,this))},observeScrollDisable:function(){this.$toolbar.css({position:"relative",width:"auto",top:0,left:0,visibility:"visible"}),this.toolbar.unsetDropdownsFixed(),this.$toolbar.removeClass("toolbar-fixed-box"),t(window).off("resize.redactor-toolbar."+this.uuid)},setDropdownsFixed:function(){var t=this.opts.toolbarFixedTarget===document&&this.detect.isDesktop()?"fixed":"absolute";this.toolbar.setDropdownPosition(t)},unsetDropdownsFixed:function(){this.toolbar.setDropdownPosition("absolute")},setDropdownPosition:function(e){var r=this;t(".redactor-dropdown-"+this.uuid).each(function(){var i=t(this),o=r.button.get(i.attr("rel")),n="fixed"===e?r.opts.toolbarFixedTopOffset:o.offset().top;i.css({position:e,top:o.innerHeight()+n+"px"})})}}},upload:function(){return{init:function(e,r,i){this.upload.direct=!1,this.upload.callback=i,this.upload.url=r,this.upload.$el=t(e),this.upload.$droparea=t('<div id="redactor-droparea" />'),this.upload.$placeholdler=t('<div id="redactor-droparea-placeholder" />').text(this.lang.get("upload-label")),this.opts.multipleImageUpload?this.upload.$input=t('<input type="file" name="file" multiple/>'):this.upload.$input=t('<input type="file" name="file" />'),this.upload.$placeholdler.append(this.upload.$input),this.upload.$droparea.append(this.upload.$placeholdler),this.upload.$el.append(this.upload.$droparea),this.upload.$droparea.off("redactor.upload"),this.upload.$input.off("redactor.upload"),this.upload.$droparea.on("dragover.redactor.upload",t.proxy(this.upload.onDrag,this)),this.upload.$droparea.on("dragleave.redactor.upload",t.proxy(this.upload.onDragLeave,this)),this.upload.$input.on("change.redactor.upload",t.proxy(function(t){this.upload._multipleFileUpload(this.upload.$input[0].files,t)},this)),this.upload.$droparea.on("drop.redactor.upload",t.proxy(function(t){t.preventDefault(),this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop"),this.upload.onDrop(t)},this))},directUpload:function(t,e){this.upload.direct=!0,this.upload.traverseFile(t,e)},onDrop:function(t){var e=t.dataTransfer.files;this.upload._multipleFileUpload(e,t)},_multipleFileUpload:function(t,e){if(e=e.originalEvent||e,this.opts.multipleImageUpload)for(var r=t.length,i=0;i<r;i++)this.upload.traverseFile(t[i],e);else this.upload.traverseFile(t[0],e)},traverseFile:function(t,e){if(this.opts.s3)return this.upload.setConfig(t),void this.uploads3.send(t,e);var r=window.FormData?new FormData:null;if(window.FormData){this.upload.setConfig(t);var i="image"===this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam;r.append(i,t)}this.progress.show(),this.core.callback("uploadStart",e,r),this.upload.send(r,e)},setConfig:function(t){this.upload.getType(t),this.upload.direct&&(this.upload.url="image"===this.upload.type?this.opts.imageUpload:this.opts.fileUpload,this.upload.callback="image"===this.upload.type?this.image.insert:this.file.insert)},getType:function(t){this.upload.type=-1===this.opts.imageTypes.indexOf(t.type)?"file":"image",null===this.opts.imageUpload&&null!==this.opts.fileUpload&&(this.upload.type="file")},getHiddenFields:function(e,r){return!1===e||"object"!=typeof e?r:(t.each(e,t.proxy(function(e,i){null!==i&&0===i.toString().indexOf("#")&&(i=t(i).val()),r.append(e,i)},this)),r)},send:function(e,r){"image"===this.upload.type?(e=this.utils.appendFields(this.opts.imageUploadFields,e),e=this.utils.appendForms(this.opts.imageUploadForms,e),e=this.upload.getHiddenFields(this.upload.imageFields,e)):(e=this.utils.appendFields(this.opts.fileUploadFields,e),e=this.utils.appendForms(this.opts.fileUploadForms,e),e=this.upload.getHiddenFields(this.upload.fileFields,e));var i=new XMLHttpRequest;i.open("POST",this.upload.url),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.onreadystatechange=t.proxy(function(){if(4===i.readyState){var e=i.responseText;e=e.replace(/^\[/,""),e=e.replace(/\]$/,"");var o;try{o="string"==typeof e?t.parseJSON(e):e}catch(t){o={error:!0}}this.progress.hide(),this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),this.upload.callback(o,this.upload.direct,r)}},this),i.send(e)},onDrag:function(t){t.preventDefault(),this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(t){t.preventDefault(),this.upload.$droparea.removeClass("drag-hover")},clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(t,e){this.upload.imageFields[t]=e},removeImageFields:function(t){delete this.upload.imageFields[t]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(t,e){this.upload.fileFields[t]=e},removeFileFields:function(t){delete this.upload.fileFields[t]}}},uploads3:function(){return{send:function(e,r){this.uploads3.executeOnSignedUrl(e,t.proxy(function(t){this.uploads3.sendToS3(e,t,r)},this))},executeOnSignedUrl:function(t,e){var r=new XMLHttpRequest,i=-1===this.opts.s3.search(/\?/)?"?":"&";r.open("GET",this.opts.s3+i+"name="+encodeURIComponent(t.name)+"&type="+t.type,!0),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined");var o=this;r.onreadystatechange=function(t){4===this.readyState&&200===this.status&&(o.progress.show(),e(decodeURIComponent(this.responseText)))},r.send()},createCORSRequest:function(t,e){var r=new XMLHttpRequest;return"withCredentials"in r?r.open(t,e,!0):"undefined"!=typeof XDomainRequest?(r=new XDomainRequest,r.open(t,e)):r=null,r},sendToS3:function(e,r,i){var o=this.uploads3.createCORSRequest("PUT",r);o&&(o.onload=t.proxy(function(){var t;if(this.progress.hide(),200!==o.status)return t={error:!0},void this.upload.callback(t,this.upload.direct,o);var e=r.split("?");if(!e[0])return!1;if(this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),t={url:e[0],id:e[0],s3:!0},"file"===this.upload.type){var n=e[0].split("/");t.name=n[n.length-1]}this.upload.callback(t,this.upload.direct,i)},this),o.onerror=function(){},o.upload.onprogress=function(t){},o.setRequestHeader("Content-Type",e.type),o.setRequestHeader("x-amz-acl","public-read"),o.send(e))}}},utils:function(){return{isEmpty:function(e){return e=void 0===e?this.core.editor().html():e,e=e.replace(/[\u200B-\u200D\uFEFF]/g,""),e=e.replace(/&nbsp;/gi,""),e=e.replace(/<\/?br\s?\/?>/g,""),e=e.replace(/\s/g,""),e=e.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,""),e=e.replace(/<iframe(.*?[^>])>$/i,"iframe"),e=e.replace(/<source(.*?[^>])>$/i,"source"),e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),""===(e=t.trim(e))},isElement:function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}},strpos:function(t,e,r){var i=t.indexOf(e,r);return i>=0&&i},dataURItoBlob:function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var r=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return new Blob([i],{type:r})},getOuterHtml:function(e){return t("<div>").append(t(e).eq(0).clone()).html()},cloneAttributes:function(e,r){e=e[0]||e,r=t(r);for(var i=e.attributes,o=i.length;o--;){var n=i[o];r.attr(n.name,n.value)}return r},breakBlockTag:function(){var e=this.selection.block();if(!e)return!1;var r=this.utils.isEmpty(e.innerHTML),i=e.tagName.toLowerCase();if("pre"===i||"li"===i||"td"===i||"th"===i)return!1;if(!r&&this.utils.isStartOfElement(e))return{$block:t(e),$next:t(e).next(),type:"start"};if(!r&&this.utils.isEndOfElement(e))return{$block:t(e),$next:t(e).next(),type:"end"};var o=this.selection.extractEndOfNode(e),n=t("<"+i+" />").append(o);return n=this.utils.cloneAttributes(e,n),t(e).after(n),{$block:t(e),$next:n,type:"break"}},inBlocks:function(e){e=t.isArray(e)?e:[e];for(var r=this.selection.blocks(),i=r.length,o=!1,n=0;n<i;n++)if(!1!==r[n]){var s=r[n].tagName.toLowerCase();-1!==t.inArray(s,e)&&(o=!0)}return o},inInlines:function(e){e=t.isArray(e)?e:[e];for(var r=this.selection.inlines(),i=r.length,o=!1,n=0;n<i;n++){var s=r[n].tagName.toLowerCase();-1!==t.inArray(s,e)&&(o=!0)}return o},isTag:function(e,r){var i=t(e).closest(r,this.core.editor()[0]);return 1===i.length&&i[0]},isBlock:function(t){return null!==t&&((t=t[0]||t)&&this.utils.isBlockTag(t.tagName))},isBlockTag:function(t){return void 0!==t&&this.reIsBlock.test(t)},isInline:function(t){return(t=t[0]||t)&&this.utils.isInlineTag(t.tagName)},isInlineTag:function(t){return void 0!==t&&this.reIsInline.test(t)},isRedactorParent:function(e){return!!e&&(0!==t(e).parents(".redactor-in").length&&!t(e).hasClass("redactor-in")&&e)},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent(["H1","H2","H3","H4","H5","H6"])},isCurrentOrParent:function(e){var r=this.selection.parent(),i=this.selection.current();if(t.isArray(e)){var o=0;return t.each(e,t.proxy(function(t,e){this.utils.isCurrentOrParentOne(i,r,e)&&o++},this)),0!==o}return this.utils.isCurrentOrParentOne(i,r,e)},isCurrentOrParentOne:function(t,e,r){return r=r.toUpperCase(),e&&e.tagName===r?e:!(!t||t.tagName!==r)&&t},isEditorRelative:function(){var e=this.core.editor().css("position"),r=["absolute","fixed","relative"];return-1!==t.inArray(r,e)},setEditorRelative:function(){this.core.editor().addClass("redactor-relative")},freezeScroll:function(){this.freezeScrollTop=t(document).scrollTop(),t(document).scrollTop(this.freezeScrollTop)},unfreezeScroll:function(){void 0!==this.freezeScrollTop&&t(document).scrollTop(this.freezeScrollTop)},saveScroll:function(){this.tmpScrollTop=t(document).scrollTop()},restoreScroll:function(){void 0!==this.tmpScrollTop&&t(document).scrollTop(this.tmpScrollTop)},isStartOfElement:function(t){return!(void 0===t&&!(t=this.selection.block()))&&0===this.offset.get(t)},isEndOfElement:function(e){if(void 0===e&&!(e=this.selection.block()))return!1;var r=t.trim(t(e).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"");return this.offset.get(e)===r.length},removeEmptyAttr:function(e,r){var i=t(e);return void 0===i.attr(r)||""===i.attr(r)&&(i.removeAttr(r),!0)},replaceToTag:function(e,r){var i;return t(e).replaceWith(function(){i=t("<"+r+" />").append(t(this).contents());for(var e=0;e<this.attributes.length;e++)i.attr(this.attributes[e].name,this.attributes[e].value);return i}),i},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=!0},disableSelectAll:function(){this.selectAll=!1},disableBodyScroll:function(){var e=t("html"),r=window.innerWidth;if(!r){var i=document.documentElement.getBoundingClientRect();r=i.right-Math.abs(i.left)}var o=document.body.clientWidth<r,n=this.utils.measureScrollbar();e.css("overflow","hidden"),o&&e.css("padding-right",n)},measureScrollbar:function(){var e=t("body"),r=document.createElement("div");r.className="redactor-scrollbar-measure",e.append(r);var i=r.offsetWidth-r.clientWidth;return e[0].removeChild(r),i},enableBodyScroll:function(){t("html").css({overflow:"","padding-right":""}),t("body").remove("redactor-scrollbar-measure")},appendFields:function(e,r){if(!e)return r;if("object"==typeof e)return t.each(e,function(e,i){null!==i&&0===i.toString().indexOf("#")&&(i=t(i).val()),r.append(e,i)}),r;var i=t(e);if(0===i.length)return r;return i.each(function(){r.append(t(this).attr("name"),t(this).val())}),r},appendForms:function(e,r){if(!e)return r;var i=t(e);if(0===i.length)return r;var o=i.serializeArray();return t.each(o,function(t,e){r.append(e.name,e.value)}),r},isCollapsed:function(){return this.selection.isCollapsed()},isMobile:function(){return this.detect.isMobile()},isDesktop:function(){return this.detect.isDesktop()},isPad:function(){return this.detect.isIpad()}}},browser:function(){return{webkit:function(){return this.detect.isWebkit()},ff:function(){return this.detect.isFirefox()},ie:function(){return this.detect.isIe()}}}},t(window).on("load.tools.redactor",function(){t('[data-tools="redactor"]').redactor()}),e.prototype.init.prototype=e.prototype}(t),function(t){function e(e,r,i,o){var n={duration:.5,iterate:1,delay:0,prefix:"redactor-",timing:"linear"};this.animation=r,this.slide="slideDown"===this.animation||"slideUp"===this.animation,this.$element=t(e),this.prefixes=["","-moz-","-o-animation-","-webkit-"],this.queue=[],"function"==typeof i?(o=i,this.opts=n):this.opts=t.extend(n,i),this.slide&&this.$element.height(this.$element.height()),this.init(o)}t.fn.redactorAnimation=function(t,r,i){return this.each(function(){new e(this,t,r,i)})},e.prototype={init:function(t){this.queue.push(this.animation),this.clean(),"show"===this.animation?(this.opts.timing="linear",this.$element.removeClass("hide").show(),"function"==typeof t&&t(this)):"hide"===this.animation?(this.opts.timing="linear",this.$element.hide(),"function"==typeof t&&t(this)):this.animate(t)},animate:function(e){this.$element.addClass("animated").css("display","").removeClass("hide"),this.$element.addClass(this.opts.prefix+this.queue[0]),this.set(this.opts.duration+"s",this.opts.delay+"s",this.opts.iterate,this.opts.timing);var r=this.queue.length>1?null:e;this.complete("AnimationEnd",t.proxy(function(){this.$element.hasClass(this.opts.prefix+this.queue[0])&&(this.clean(),this.queue.shift(),this.queue.length&&this.animate(e))},this),r)},set:function(t,e,r,i){for(var o=this.prefixes.length;o--;)this.$element.css(this.prefixes[o]+"animation-duration",t),this.$element.css(this.prefixes[o]+"animation-delay",e),this.$element.css(this.prefixes[o]+"animation-iteration-count",r),this.$element.css(this.prefixes[o]+"animation-timing-function",i)},clean:function(){this.$element.removeClass("animated"),this.$element.removeClass(this.opts.prefix+this.queue[0]),this.set("","","","")},complete:function(e,r,i){this.$element.one(e.toLowerCase()+" webkit"+e+" o"+e+" MS"+e,t.proxy(function(){"function"==typeof r&&r(),"function"==typeof i&&i(this);var e=["fadeOut","slideUp","zoomOut","slideOutUp","slideOutRight","slideOutLeft"];-1!==t.inArray(this.animation,e)&&this.$element.css("display","none"),this.slide&&this.$element.css("height","")},this))}}}(t)}).call(e,r("./node_modules/jquery/dist/jquery.js-exposed"))}});
//# sourceMappingURL=async-vendor.93f416b23ac244ccdabf.js.map