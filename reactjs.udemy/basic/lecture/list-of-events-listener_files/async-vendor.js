webpackJsonp(["async-vendor"],{"./node_modules/angular-confirm/angular-confirm.js":function(e,t,n){(function(e){n("./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls-0.13.1.js");e.module("angular-confirm",["ui.bootstrap"]).controller("ConfirmModalController",["$scope","$modalInstance","data",function(t,n,i){t.data=e.copy(i),t.ok=function(){n.close()},t.cancel=function(){n.dismiss("cancel")}}]).value("$confirmModalDefaults",{template:'<div class="modal-header"><h3 class="modal-title">{{data.title}}</h3></div><div class="modal-body">{{data.text}}</div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">{{data.ok}}</button><button class="btn btn-default" ng-click="cancel()">{{data.cancel}}</button></div>',controller:"ConfirmModalController",defaultLabels:{title:"Confirm",ok:"OK",cancel:"Cancel"}}).factory("$confirm",["$modal","$confirmModalDefaults",function(t,n){return function(i,r){var o=e.copy(n);return r=e.extend(o,r||{}),i=e.extend({},r.defaultLabels,i||{}),"templateUrl"in r&&"template"in r&&delete r.template,r.resolve={data:function(){return i}},t.open(r).result}}]).directive("confirm",["$confirm",function(t){return{priority:1,restrict:"A",scope:{confirmIf:"=",ngClick:"&",confirm:"@",confirmSettings:"=",confirmTitle:"@",confirmOk:"@",confirmCancel:"@"},link:function(n,i,r){i.unbind("click").bind("click",function(i){if(i.preventDefault(),e.isUndefined(n.confirmIf)||n.confirmIf){var r={text:n.confirm};n.confirmTitle&&(r.title=n.confirmTitle),n.confirmOk&&(r.ok=n.confirmOk),n.confirmCancel&&(r.cancel=n.confirmCancel),t(r,n.confirmSettings||{}).then(n.ngClick)}else n.$apply(n.ngClick)})}}}])}).call(t,n("./node_modules/angular/angular.js"))},"./node_modules/angular-cookies/angular-cookies.js":function(e,t){/**
 * @license AngularJS v1.5.11
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";function n(e,n,i){function r(e,i,r){var a,s;r=r||{},s=r.expires,a=t.isDefined(r.path)?r.path:o,t.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(i);l+=a?";path="+a:"",l+=r.domain?";domain="+r.domain:"",l+=s?";expires="+s.toUTCString():"",l+=r.secure?";secure":"";var c=l.length+1;return c>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}var o=i.baseHref(),a=e[0];return function(e,t,n){a.cookie=r(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},n,e):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(e){return n()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return n()},put:function(t,n,r){i(t,n,e(r))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(t,n){i(t,void 0,e(n))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular)},"./node_modules/angular-cookies/index.js":function(e,t,n){n("./node_modules/angular-cookies/angular-cookies.js"),e.exports="ngCookies"},"./node_modules/branch-sdk/dist/build.min.js":function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){function ga(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function ha(e,t,n){return e.call.apply(e.bind,arguments)}function ia(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ja(e,t,n){return ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia,ja.apply(null,arguments)}function ka(e){return!/^\s*$/.test(e)&&/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function la(a){if(a=String(a),ka(a))try{return eval("("+a+")")}catch(e){}throw Error("Invalid JSON string: "+a)}function p(e){var t=[];return ma(new na,e,t),t.join("")}function na(){}function ma(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if("array"==ga(t)){var i=t;t=i.length,n.push("[");for(var r="",o=0;o<t;o++)n.push(r),ma(e,i[o],n),r=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),r="";for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&"function"!=typeof(o=t[i])&&(n.push(r),oa(i,n),n.push(":"),ma(e,o,n),r=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":oa(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}function oa(e,t){t.push('"',e.replace(qa,function(e){var t=pa[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),pa[e]=t),t}),'"')}function t(e){e=String(e);try{return JSON.parse(e)}catch(e){}throw Error("Invalid JSON string: "+e)}function u(e){try{return"object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify(e):p(e)}catch(e){}throw Error("Could not stringify object")}function ra(){function e(){t.length&&t[0](function(){t.shift(),e()})}var t=[];return function(n){t.push(n),1===t.length&&e()}}function v(e,t,n){return e=e.replace(/\$(\d)/g,function(e,n){return t[parseInt(n,10)-1]}),n&&(e+="\n Failure Code:"+n),e}function sa(e){return{data:e.data||"",data_parsed:e.data_parsed||{},has_app:e.has_app||null,identity:e.identity||null,referring_identity:e.referring_identity||null,referring_link:e.referring_link||null}}function ta(e){var n=/^\$journeys_\S+$/,i=e.data,r={};if(!i)return{};switch(typeof i){case"string":try{i=t(i)}catch(e){i=la(i)}break;case"object":break;default:i={}}return Object.keys(i).forEach(function(e){n.test(e)&&(r[e]=i[e])}),r}function ua(){var e;return e="_branch_view_id".replace(/[\[\]]/g,"\\$&"),(e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(String(window.location)))&&e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):""}function va(e){e.source="web-sdk";var n=e.data;switch(typeof n){case"string":try{n=t(n)}catch(e){n=la(n)}break;case"object":break;default:n={}}n.$canonical_url||(n.$canonical_url=String(window.location)),n.$og_title||(n.$og_title=w("title")),n.$og_description||(n.$og_description=w("description")),n.$og_image_url||(n.$og_image_url=w("image")),n.$og_video||(n.$og_video=w("video")),"string"==typeof n.$desktop_url&&(n.$desktop_url=n.$desktop_url.replace(/#r:[a-z0-9-_]+$/i,"").replace(/([\?\&]_branch_match_id=\d+)/,""));try{t(n)}catch(e){n=p(n)}return e.data=n,e}function wa(e){return e?e.substring(e.lastIndexOf("/")+1,e.length):null}function x(e,t){if(e&&"object"==typeof e||(e={}),!t||"object"!=typeof t)return e;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function xa(){try{var e=window.location.hash.match(/r:([^&]*)/);if(e&&1<=e.length)return e[1]}catch(e){}}function y(){var e=navigator.userAgent;return e.match(/android/i)?"android":e.match(/ipad/i)?"ipad":e.match(/i(os|p(hone|od))/i)?"ios":e.match(/\(BB[1-9][0-9]*\;/i)?"blackberry":e.match(/Windows Phone/i)?"windows_phone":!!(e.match(/Kindle/i)||e.match(/Silk/i)||e.match(/KFTT/i)||e.match(/KFOT/i)||e.match(/KFJWA/i)||e.match(/KFJWI/i)||e.match(/KFSOWI/i)||e.match(/KFTHWA/i)||e.match(/KFTHWI/i)||e.match(/KFAPWA/i)||e.match(/KFAPWI/i))&&"kindle"}function ya(){var e,t=navigator.userAgent;if(/^((?!chrome|android|crios|fxios).)*safari/i.test(t))e:{var n;if(n=11,(t=/version\/([^ ]*)/i.exec(t))&&t[1])try{if(parseFloat(t[1])>=n){e=!0;break e}}catch(e){}e=!1}else e=!1;return e}function za(){try{var e=window.location.search.substring(1).match(/_branch_match_id=([^&]*)/);if(e&&1<=e.length)return e[1]}catch(e){}}function Aa(e){return e.replace(/(\-\w)/g,function(e){return e[1].toUpperCase()})}function Ba(e){var t,n,i,r,o,a,s="",l=0;for(e=e.replace(/\r\n/g,"\n"),n="",i=0;i<e.length;i++)r=e.charCodeAt(i),128>r?n+=String.fromCharCode(r):(127<r&&2048>r?n+=String.fromCharCode(r>>6|192):(n+=String.fromCharCode(r>>12|224),n+=String.fromCharCode(r>>6&63|128)),n+=String.fromCharCode(63&r|128));for(e=n;l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),r=t>>2,t=(3&t)<<4|n>>4,o=(15&n)<<2|i>>6,a=63&i,isNaN(n)?a=o=64:isNaN(i)&&(a=64),s=s+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a);return s}function Ca(e,t,n){"function"==typeof e.addEventListener?e.addEventListener(t,n,void 0):"function"==typeof e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function Da(e){return e?(-1<e.indexOf("://")&&(e=e.split("://")[1]),e.substring(e.indexOf("/")+1)):null}function Ea(e){return e?(-1<e.indexOf("://")?e=e.split("://")[1]:"/"===e.charAt(0)&&(e=e.slice(1)),e):null}function w(e){var t;return e=String(e),t=t||null,(e=document.querySelector('meta[property="og:'+e+'"]'))&&e.content&&(t=e.content),t}function Fa(){for(var e={},t=document.getElementsByTagName("meta"),n=0;n<t.length;n++)if((t[n].getAttribute("name")||t[n].getAttribute("property"))&&t[n].getAttribute("content")){var i=t[n].getAttribute("name"),r=t[n].getAttribute("property"),i=i||r;"al:ios:url"===i?e.$ios_deeplink_path=Ea(t[n].getAttribute("content")):"al:android:url"===i?e.$android_deeplink_path=Ea(t[n].getAttribute("content")):(i=i.split(":"),3===i.length&&"branch"===i[0]&&"deeplink"===i[1]&&(e[i[2]]=t[n].getAttribute("content")))}return e}function Ga(){var e;try{e=(navigator.language||navigator.browserLanguage||"en").split(/[^a-z^A-Z0-9-]/).shift().toLowerCase()}catch(t){e="en"}return e}function Ha(e,t){var n=[];return t.forEach(function(t){-1===e.indexOf(t)&&n.push(t)}),n}function Ja(e){var t="sku name price quantity brand category variant".split(" "),n=Ha("common type transaction_id currency revenue revenue_in_usd exchange_rate shipping tax coupon affiliation persona products".split(" "),Object.keys(e));if(n.length)return z.invalidKeysForRoot+n.join(", ");var i,r=[];if(e.hasOwnProperty("products")){if(!Array.isArray(e.products))return z.invalidProductListType;if(e.products.forEach(function(e){"object"!=typeof e&&(i=z.invalidProductType),r=r.concat(Ha(t,Object.keys(e)))}),i)return i;if(r.length)return z.invalidKeysForProducts+r.join(", ")}return null}function Ka(e,t){if(!e||"string"!=typeof e||-1===Ia.indexOf(e.toLowerCase()))return z.missingPurchaseEvent;if(!t||"object"!=typeof t||!Object.keys(t).length)return z.missingCommerceData;var n=Ja(t);return n||null}function A(e){return"string"!=typeof e?null:e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function B(e,t){return function(n,i,r){if("number"==typeof r||r)if(0===t){if("object"!=typeof r)return v("API request $1, parameter $2 is not $3",[n,i,"an object"])}else if(3===t){if(!(r instanceof Array))return v("API request $1, parameter $2 is not $3",[n,i,"an array"])}else if(2===t){if("number"!=typeof r)return v("API request $1, parameter $2 is not $3",[n,i,"a number"])}else if(4===t){if("boolean"!=typeof r)return v("API request $1, parameter $2 is not $3",[n,i,"a boolean"])}else{if("string"!=typeof r)return v("API request $1, parameter $2 is not $3",[n,i,"a string"]);if(1!==t&&!t.test(r))return v("API request $1, parameter $2 is not $3",[n,i,"in the proper format"])}else if(e)return v("API request $1 missing parameter $2",[n,i]);return!1}}function D(e){return x(e,{browser_fingerprint_id:B(!0,C),identity_id:B(!0,C),sdk:B(!0,1),session_id:B(!0,C)})}function E(e){for(var t=0;t<e.length;t++){var n=this[e[t]],n="function"==typeof n?n():n;if(n.isEnabled())return n.s={},n}}function G(e){return"branch_session"===e||"branch_session_first"===e?e:"BRANCH_WEBSDK_KEY"+e}function cb(e){return"true"===e||"false"!==e&&e}function db(e){var t;try{t=e&&localStorage?localStorage:sessionStorage}catch(e){return{isEnabled:function(){return!1}}}return{getAll:function(){if(void 0===t)return null;var e,n=null;for(e in t)e.indexOf("BRANCH_WEBSDK_KEY")||(null===n&&(n={}),n[e.replace("BRANCH_WEBSDK_KEY","")]=cb(t.getItem(e)));return n},get:function(e,n){return cb(n&&localStorage?localStorage.getItem(G(e)):t.getItem(G(e)))},set:function(e,n,i){i&&localStorage?localStorage.setItem(G(e),n):t.setItem(G(e),n)},remove:function(e,n){n&&localStorage?localStorage.removeItem(G(e)):t.removeItem(G(e))},clear:function(){Object.keys(t).forEach(function(e){e.indexOf("BRANCH_WEBSDK_KEY")||t.removeItem(e)})},isEnabled:function(){try{return t.setItem("test",""),t.removeItem("test"),!0}catch(e){return!1}}}}function fb(e){return{getAll:function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++){var i=e[n].replace(" ",""),i=i.substring(0,i.length);-1!==i.indexOf("BRANCH_WEBSDK_KEY")&&(i=i.split("="),t[i[0].replace("BRANCH_WEBSDK_KEY","")]=cb(i[1]))}return t},get:function(e){e=G(e)+"=";for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=t[n],i=i.substring(1,i.length);if(!i.indexOf(e))return cb(i.substring(e.length,i.length))}return null},set:function(t,n){var i=G(t),r="";e&&(r=new Date,r.setTime(r.getTime()+31536e6),r="; branch_expiration_date="+r.toGMTString()+"; expires="+r.toGMTString()),document.cookie=i+"="+n+r+"; path=/"},remove:function(e){document.cookie=G(e)+"=; expires=; path=/"},clear:function(){function t(e){document.cookie=e.substring(0,e.indexOf("="))+"=;expires=-1;path=/"}for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var r=n[i],r=r.substring(1,r.length);-1!==r.indexOf("BRANCH_WEBSDK_KEY")&&(e||-1!==r.indexOf("branch_expiration_date=")?e&&0<r.indexOf("branch_expiration_date=")&&t(r):t(r))}},isEnabled:function(){return navigator.cookieEnabled}}}function H(e,n){try{return t(e.get(n?"branch_session_first":"branch_session",n))||null}catch(e){return null}}function gb(e,t,n){e.set("branch_session",p(t)),n&&e.set("branch_session_first",p(t),!0)}function hb(e,t){if(t){var n=H(e)||{},n=x(n,t);e.set("branch_session",p(n))}}function ib(){}function jb(e,t,n){if(void 0===t)return"";var i=[];if(t instanceof Array){for(e=0;e<t.length;e++)i.push(encodeURIComponent(n)+"="+encodeURIComponent(t[e]));return i.join("&")}for(var r in t)t.hasOwnProperty(r)&&(t[r]instanceof Array||"object"==typeof t[r]?i.push(jb(e,t[r],n?n+"."+r:r)):i.push(encodeURIComponent(n?n+"."+r:r)+"="+encodeURIComponent(t[r])));return i.join("&")}function lb(e,t,n){function i(e,n){if(void 0===n&&(n={}),e.branch_key&&l.test(e.branch_key))return n.branch_key=e.branch_key,n;if(e.app_id&&s.test(e.app_id))return n.app_id=e.app_id,n;throw Error(v("API request $1 missing parameter $2",[t.endpoint,"branch_key or app_id"]))}var r,o,a=t.destination+t.endpoint,s=/^[0-9]{15,20}$/,l=/key_(live|test)_[A-Za-z0-9]{32}/;if("/v1/has-app"===t.endpoint)try{t.f=i(n,t.f)}catch(e){return{error:e.message}}if(void 0!==t.f)for(r in t.f)if(t.f.hasOwnProperty(r)){if(o="function"==typeof t.f[r]?t.f[r](t.endpoint,r,n[r]):o)return{error:o};a+="/"+n[r]}var c={};if(void 0!==t.a)for(r in t.a)if(t.a.hasOwnProperty(r)){if(o=t.a[r](t.endpoint,r,n[r]))return{error:o};o=n[r],void 0!==o&&""!==o&&null!==o&&(c[r]=o)}if("POST"===t.method||"/v1/credithistory"===t.endpoint)try{n=i(n,c)}catch(e){return{error:e.message}}return"/v1/event"===t.endpoint&&(c.metadata=u(c.metadata||{}),c.hasOwnProperty("commerce_data")&&(c.commerce_data=u(c.commerce_data||{}))),"/v1/open"===t.endpoint&&(c.options=u(c.options||{})),{data:jb(e,c,""),url:a.replace(/^\//,"")}}function mb(e,t,n){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,e=document.getElementsByTagName("head"),!e||1>e.length?"function"==typeof t&&t():(e[0].appendChild(i),"function"==typeof t&&Ca(i,"error",t),"function"==typeof n&&Ca(i,"load",n))}function nb(e,t,n,i,r){var o="branch_callback__"+e.g++;e=0<=t.indexOf("branch.io")?"&data=":"&post_data=",n="POST"===i?encodeURIComponent(Ba(p(n))):"";var a=window.setTimeout(function(){window[o]=function(){},r(Error("Request timed out"),null,504)},5e3);window[o]=function(e){window.clearTimeout(a),r(null,e)},mb(t+(0>t.indexOf("?")?"?":"")+(n?e+n:"")+(0<=t.indexOf("/c/")?"&click=1":"")+"&callback="+o,function(){r(Error("Request blocked by client, probably adblock"),null)},function(){try{"function"==typeof this.remove?this.remove():this.parentNode.removeChild(this)}catch(e){}delete window[o]})}function ob(e,n,i,r,o,a,s){var l=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");l.ontimeout=function(){a(Error("Request timed out"),null,504)},l.onerror=function(e){a(Error(e.error||"Error in API: "+l.status),null,l.status)},l.onreadystatechange=function(){var e;if(4===l.readyState)if(200===l.status){if(s)e=l.responseText;else try{e=t(l.responseText)}catch(t){e={}}a(null,e,l.status)}else 402===l.status?a(Error("Not enough credits to redeem."),null,l.status):"4"!==l.status.toString().substring(0,1)&&"5"!==l.status.toString().substring(0,1)||a(Error("Error in API: "+l.status),null,l.status)};try{l.open(r,n,!0),l.timeout=5e3,l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(i)}catch(t){o.set("use_jsonp",!0),nb(e,n,i,r,a)}}function pb(e,t,n,i,r){function o(){i.get("use_jsonp")||t.U?nb(e,l,n,t.method,a):ob(e,l,c,t.method,i,a)}function a(e,t,n){e&&0<d&&"5"===(n||"").toString().substring(0,1)?(d--,window.setTimeout(function(){o()},200)):r(e,t)}var s=lb(e,t,n);if(s.error)return r(Error(s.error));var l,c="";"GET"===t.method?l=s.url+"?"+s.data:(l=s.url,c=s.data);var d=2;o()}function I(e){e&&e.parentNode.removeChild(e)}function qb(e,t){e&&!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))&&(e.className+=" "+t)}function rb(e){var t=document.body;t&&t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," "))}function sb(e){var t=new Date;return t.setDate(t.getDate()+e)}function tb(e){return document.body.currentStyle?document.body.currentStyle[Aa(e)]:window.getComputedStyle(document.body).getPropertyValue(e)}function ub(e){function t(e){function n(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}function i(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)/100}if(!e)return 0;var r=e.replace(/[0-9,\.]/g,"");e=e.match(/\d+/g);var o=parseInt(0<e.length?e[0]:"0",10);return parseInt({px:function(e){return e},em:function(e){return document.body.currentStyle?e*t(document.body.currentStyle.fontSize):e*parseFloat(window.getComputedStyle(document.body).fontSize)},rem:function(e){return document.documentElement.currentStyle?e*t(document.documentElement.currentStyle.fontSize):e*parseFloat(window.getComputedStyle(document.documentElement).fontSize)},vw:function(e){return e*i()},vh:function(e){return e*n()},vmin:function(e){return e*Math.min(n(),i())},vmax:function(e){return e*Math.max(n(),i())},"%":function(){return document.body.clientWidth/100*o}}[r](o),10)}return(t("76px")+t(e)).toString()+"px"}function vb(e,n){var i=e.get("hideBanner",!0);if(n.ia&&navigator&&Number(navigator.doNotTrack))return!1;try{"string"==typeof i&&(i=t(i))}catch(e){i=!1}var i="number"==typeof i?new Date>=new Date(i):!i,r=n.F;return"number"==typeof r&&(r=!1),!document.getElementById("branch-banner")&&!document.getElementById("branch-banner-iframe")&&(i||r)&&(n.ka&&!y()||n.I&&"android"===y()||n.la&&"ipad"===y()||n.M&&"ios"===y()||n.J&&"blackberry"===y()||n.L&&"windows_phone"===y()||n.K&&"kindle"===y())}function wb(e,t){return"#branch-banner-iframe { position: "+("top"!==t||e?"fixed":"absolute")+"; }\n"}function xb(e,t){var n=".branch-banner-is-active { -webkit-transition: all 0.375s ease; transition: all 00.375s ease; }\n#branch-banner { width:100%; z-index: 99999; font-family: Helvetica Neue, Sans-serif; -webkit-font-smoothing: antialiased; -webkit-user-select: none; -moz-user-select: none; user-select: none; -webkit-transition: all 0.25s ease; transition: all 00.25s ease; }\n#branch-banner .button{ border: 1px solid "+(e.buttonBorderColor||("dark"===e.theme?"transparent":"#ccc"))+"; background: "+(e.buttonBackgroundColor||"#fff")+"; color: "+(e.buttonFontColor||"#000")+"; cursor: pointer; margin-top: 0px; font-size: 14px; display: inline-block; margin-left: 5px; font-weight: 400; text-decoration: none;  border-radius: 4px; padding: 6px 12px; transition: all .2s ease;}\n#branch-banner .button:hover {  border: 1px solid "+(e.buttonBorderColorHover||("dark"===e.theme?"transparent":"#BABABA"))+"; background: "+(e.buttonBackgroundColorHover||"#E0E0E0")+"; color: "+(e.buttonFontColorHover||"#000")+";}\n#branch-banner .button:focus { outline: none; }\n#branch-banner * { margin-right: 4px; position: relative; line-height: 1.2em; }\n#branch-banner-close { font-weight: 400; cursor: pointer; float: left; z-index: 2;padding: 0 5px 0 5px; margin-right: 0; }\n#branch-banner .content { width:100%; overflow: hidden; height: 76px; background: rgba(255, 255, 255, 0.95); color: #333; "+("top"===e.position?"border-bottom":"border-top")+': 1px solid #ddd; }\n#branch-banner-close { color: #000; font-size: 24px; top: 14px; opacity: .5; transition: opacity .3s ease; }\n#branch-banner-close:hover { opacity: 1; }\n#branch-banner .title { font-size: 18px; font-weight:bold; color: #555; }\n#branch-banner .description { font-size: 12px; font-weight: normal; color: #777; max-height: 30px; overflow: hidden; }\n#branch-banner .icon { float: left; padding-bottom: 40px; margin-right: 10px; margin-left: 5px; }\n#branch-banner .icon img { width: 63px; height: 63px; margin-right: 0; }\n#branch-banner .reviews { font-size:13px; margin: 1px 0 3px 0; color: #777; }\n#branch-banner .reviews .star { display:inline-block; position: relative; margin-right:0; }\n#branch-banner .reviews .star span { display: inline-block; margin-right: 0; color: #555; position: absolute; top: 0; left: 0; }\n#branch-banner .reviews .review-count { font-size:10px; }\n#branch-banner .reviews .star .half { width: 50%; overflow: hidden; display: block; }\n#branch-banner .content .left { padding: 6px 5px 6px 5px; }\n#branch-banner .vertically-align-middle { top: 50%; transform: translateY(-50%); -webkit-transform: translateY(-50%); -ms-transform: translateY(-50%); }\n#branch-banner .details > * { display: block; }\n#branch-banner .content .left { height: 63px; }\n#branch-banner .content .right { float: right; height: 63px; margin-bottom: 50px; padding-top: 22px; z-index: 1; }\n#branch-banner .right > div { float: left; }\n#branch-banner-action { top: 17px; }\n#branch-banner .content:after { content: ""; position: absolute; left: 0; right: 0; top: 100%; height: 1px; background: rgba(0, 0, 0, 0.2); }\n#branch-banner .theme-dark.content { background: rgba(51, 51, 51, 0.95); }\n#branch-banner .theme-dark #branch-banner-close{ color: #fff; text-shadow: 0 1px 1px rgba(0, 0, 0, .15); }\n#branch-banner .theme-dark .details { text-shadow: 0 1px 1px rgba(0, 0, 0, .15); }\n#branch-banner .theme-dark .title { color: #fff; }\n#branch-banner .theme-dark .description { color: #fff; }\n#branch-banner .theme-dark .reviews { color: #888; }\n#branch-banner .theme-dark .reviews .star span{ color: #fff; }\n#branch-banner .theme-dark .reviews .review-count{ color: #fff; }\n',i=y();"ios"!==i&&"ipad"!==i||!e.M?"android"===i&&e.I?n+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n#branch-banner #branch-banner-close,#branch-banner .theme-dark #branch-banner-close { height:17px; width: 17px; text-align: center; font-size: 15px; top: 24px;  border-radius:14px; border:0; line-height:14px; color:#b1b1b3; background:#efefef; padding: 0; opacity: 1; }\n#branch-banner .button { top: 0; text-decoration:none; border-bottom: 3px solid #A4C639; padding: 0 10px; height: 24px; line-height: 24px; text-align: center; color: #fff; margin-top: 2px;  font-weight: bold; background-color: #A4C639; border-radius: 5px; }\n#branch-banner .button:hover { border-bottom:3px solid #8c9c29; background-color: #c1d739; }\n":"blackberry"===i&&e.J?n+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n":"windows_phone"===i&&e.L?n+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n":"kindle"===i&&e.K?n+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n":(n+="#branch-banner { position: fixed; min-width: 600px; }\n#branch-sms-block * { vertical-align: bottom; font-size: 15px; }\n#branch-sms-block { display: inline-block; }\n#branch-banner input{ border: 1px solid #ccc;  font-weight: 400;  border-radius: 4px; height: 30px; padding: 5px 7px 4px; width: 145px; font-size: 14px;}\n#branch-banner input:focus { outline: none; }\n#branch-banner input.error { color: rgb(194, 0, 0); border-color: rgb(194, 0, 0); }\n#branch-banner .branch-icon-wrapper { width:25px; height: 25px; vertical-align: middle; display: inline-block; margin-top: -18px; }\n@keyframes branch-spinner { 0% { transform: rotate(0deg); -webkit-transform: rotate(0deg); -ms-transform: rotate(0deg); } 100% { transform: rotate(360deg); -webkit-transform: rotate(360deg); -ms-transform: rotate(360deg); } }\n@-webkit-keyframes branch-spinner { 0% { transform: rotate(0deg); -webkit-transform: rotate(0deg); -ms-transform: rotate(0deg); } 100% { transform: rotate(360deg); -webkit-transform: rotate(360deg); -ms-transform: rotate(360deg); } }\n#branch-spinner { -webkit-animation: branch-spinner 1s ease-in-out infinite; animation: branch-spinner 1s ease-in-out infinite; transition: all 0.7s ease-in-out; border:2px solid #ddd; border-bottom-color:#428bca; width:80%; height:80%; border-radius:50%; -webkit-font-smoothing: antialiased !important; }\n#branch-banner .theme-dark input { border-color: transparent; }\n",n=window.ActiveXObject?n+"#branch-banner .checkmark { color: #428bca; font-size: 22px; }\n":n+"#branch-banner .checkmark { stroke: #428bca; stroke-dashoffset: 745.74853515625; stroke-dasharray: 745.74853515625; -webkit-animation: dash 2s ease-out forwards; animation: dash 2s ease-out forwards; }\n@-webkit-keyframes dash { 0% { stroke-dashoffset: 745.748535 15625; } 100% { stroke-dashoffset: 0; } }\n@keyframes dash { 0% { stroke-dashoffset: 745.74853515625; } 100% { stroke-dashoffset: 0; } }\n"):n+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n",n+=e.$,e.w&&(n+="body { margin: 0; }\n",i=document.createElement("style"),i.type="text/css",i.id="branch-iframe-css",i.innerHTML="body { -webkit-transition: all 0.375s ease; transition: all 00.375s ease; }\n#branch-banner-iframe { box-shadow: 0 0 5px rgba(0, 0, 0, .35); width: 1px; min-width:100%; left: 0; right: 0; border: 0; height: 76px; z-index: 99999; -webkit-transition: all 0.25s ease; transition: all 00.25s ease; }\n"+(y()?wb(e.ea,e.position):wb(e.aa,e.position)),(document.head||document.getElementsByTagName("head")[0]).appendChild(i)),i=document.createElement("style"),i.type="text/css",i.id="branch-css",i.innerHTML=n,n=e.w?t.contentWindow.document:document,(n=n.head||n.getElementsByTagName("head")[0])&&"function"==typeof n.appendChild&&n.appendChild(i),"top"===e.position?t.style.top="-76px":"bottom"===e.position&&(t.style.bottom="-76px")}function yb(e,t){var n;if(e.u||e.G){if(e.u){n="";for(var i=0;5>i;i++)n+='<span class="star"><svg class="star" fill="#555555" height="12" viewBox="3 2 20 19" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/><path d="M0 0h24v24H0z" fill="none"/><foreignObject display="none"><span class="star">☆</span></foreignObject></svg>',e.u>i&&(n+=i+1>e.u&&e.u%1?'<span class="half"><svg fill="#555555" height="12" viewBox="3 2 20 19" width="12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M0 0h24v24H0V0z" id="a"/></defs><clipPath id="b"><use overflow="visible" xlink:href="#a"/></clipPath><path clip-path="url(#b)" d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></svg><foreignObject display="none"><span class="half">★</span></foreignObject></span>':'<span class="full"><svg fill="#555555" height="12" viewBox="3 2 20 19" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/><path d="M0 0h24v24H0z" fill="none"/><foreignObject display="none"><span class="full">★</span></foreignObject></svg> </span>'),n+="</span>";n='<span class="stars">'+n+"</span>"}else n="";n='<div class="reviews">'+n+(e.G?'<span class="review-count">'+e.G+"</span>":"")+"</div>"}else n="";return'<div class="content'+(e.theme?" theme-"+e.theme:"")+'"><div class="right">'+t+'</div><div class="left">'+(e.ba?"":'<div id="branch-banner-close" class="branch-animation" aria-label="Close">&times;</div>')+'<div class="icon"><img src="'+e.icon+'" alt="Application icon"></div><div class="details vertically-align-middle"><div class="title">'+e.title+"</div>"+n+'<div class="description">'+e.description+"</div></div></div></div>"}function zb(e,t){var n='<div id="branch-sms-form-container">'+(y()?'<a id="branch-mobile-action" class="button" href="#" target="_parent">'+((H(t)||{}).has_app?e.fa:e.ca)+"</a>":'<div class="branch-icon-wrapper" id="branch-loader-wrapper" style="opacity: 0;"><div id="branch-spinner"></div></div><div id="branch-sms-block"><form id="sms-form"><input type="phone" aria-label="Enter phone number" class="branch-animation" name="branch-sms-phone" id="branch-sms-phone" placeholder="'+e.ha+'"><button type="submit" id="branch-sms-send" class="branch-animation button">'+e.ja+"</button></form></div>")+"</div>";if(e.w){var i=document.createElement("iframe");i.src="about:blank",i.style.overflow="hidden",i.scrolling="no",i.id="branch-banner-iframe",i.className="branch-animation",document.body.appendChild(i);var r=y(),n='<html><head></head><body class="'+("ios"===r||"ipad"===r?"branch-banner-ios":"android"===r?"branch-banner-android":"branch-banner-desktop")+'"><div id="branch-banner" class="branch-animation">'+yb(e,n)+"</body></html>";i.contentWindow.document.open(),i.contentWindow.document.write(n),i.contentWindow.document.close()}else i=document.createElement("div"),i.id="branch-banner",i.className="branch-animation",i.innerHTML=yb(e,n),document.body.appendChild(i);return n=i}function Ab(e,t,n,i){function r(){a(),c.style.background="#FFD4D4",l.className="error",setTimeout(function(){c.style.background="#FFFFFF",l.className=""},2e3)}function o(){s=e.createElement("div"),s.className="branch-icon-wrapper",s.id="branch-checkmark",s.style="opacity: 0;",s.innerHTML=window.ActiveXObject?'<span class="checkmark">&#x2713;</span>':'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 98.5 98.5" enable-background="new 0 0 98.5 98.5" xml:space="preserve"><path class="checkmark" fill="none" stroke-width="8" stroke-miterlimit="10" d="M81.7,17.8C73.5,9.3,62,4,49.2,4C24.3,4,4,24.3,4,49.2s20.3,45.2,45.2,45.2s45.2-20.3,45.2-45.2c0-8.6-2.4-16.6-6.5-23.4l0,0L45.6,68.2L24.7,47.3"/></svg>',u.appendChild(s),c.style.opacity="0",l.style.opacity="0",d.style.opacity="0",setTimeout(function(){s.style.opacity="1"},20),l.value=""}function a(){c.removeAttribute("disabled"),l.removeAttribute("disabled"),c.style.opacity="1",l.style.opacity="1",d.style.opacity="0"}var s,l=e.getElementById("branch-sms-phone"),c=e.getElementById("branch-sms-send"),d=e.getElementById("branch-loader-wrapper"),u=e.getElementById("branch-sms-form-container");if(l){var h=l.value;/^\d{7,}$/.test(h.replace(/[\s()+\-\.]|ext/gi,""))?(J(t,"willSendBannerSMS"),c.setAttribute("disabled",""),l.setAttribute("disabled",""),c.style.opacity=".4",l.style.opacity=".4",d.style.opacity="1",l.className="",t.sendSMS(h,i,n,function(e){e?(J(t,"sendBannerSMSError"),r()):(J(t,"didSendBannerSMS"),o(),setTimeout(function(){u.removeChild(s),a()},3e3))})):r()}}function Bb(e,t,n,i){function r(e,n){"function"==typeof e&&(n=e,e={}),e=e||{},"top"===t.position?a.style.top="-76px":"bottom"===t.position&&(a.style.bottom="-76px"),"number"==typeof t.F?i.set("hideBanner",sb(t.F),!0):i.set("hideBanner",!0,!0),e.T?("top"===t.position?document.body.style.marginTop=c:"bottom"===t.position&&(document.body.style.marginBottom=u),rb("branch-banner-is-active"),I(a),I(document.getElementById("branch-css")),n()):(setTimeout(function(){I(a),I(document.getElementById("branch-css")),n()},270),setTimeout(function(){"top"===t.position?document.body.style.marginTop=c:"bottom"===t.position&&(document.body.style.marginBottom=u),rb("branch-banner-is-active")},20))}function o(){"top"===t.position?a.style.top="0":"bottom"===t.position&&(a.style.bottom="0"),J(e,"didShowBanner")}if(!vb(i,t))return J(e,"willNotShowBanner"),null;J(e,"willShowBanner");var a=zb(t,i);xb(t,a),n.channel=n.channel||"app banner";var s=t.w?a.contentWindow.document:document;if(y()){t.open_app=t.ga,t.append_deeplink_path=t.Z,t.make_new_link=t.da,t.deepview_type="banner",e.deepview(n,t);var l=s.getElementById("branch-mobile-action");l&&(l.onclick=function(t){t.preventDefault(),e.deepviewCta()})}else s.getElementById("sms-form")?s.getElementById("sms-form").addEventListener("submit",function(i){i.preventDefault(),Ab(s,e,t,n)}):a.onload=function(){s=a.contentWindow.document,s.getElementById("sms-form")&&s.getElementById("sms-form").addEventListener("submit",function(i){i.preventDefault(),Ab(s,e,t,n)})};var l=tb("margin-top"),c=document.body.style.marginTop,d=tb("margin-bottom"),u=document.body.style.marginBottom,h=s.getElementById("branch-banner-close");return h&&(h.onclick=function(t){t.preventDefault(),J(e,"willCloseBanner"),r({},function(){J(e,"didCloseBanner")})}),qb(document.body,"branch-banner-is-active"),"top"===t.position?document.body.style.marginTop=ub(l):"bottom"===t.position&&(document.body.style.marginBottom=ub(d)),t.T?o():setTimeout(o,20),r}function Rb(e){if(e=e.match(Hb))return t(e[1])}function Sb(){var e=document.createElement("style");e.type="text/css",e.id="branch-iframe-css",Fb=tb("margin-top");var t=+Fb.slice(0,-2);Gb=tb("margin-bottom");var n=+Gb.slice(0,-2),i=+N.slice(0,-2);"top"===L?document.body.style.marginTop=(+i+t).toString()+"px":"bottom"===L&&(document.body.style.marginBottom=(+i+n).toString()+"px"),0<P.length&&P.forEach(function(e){var t,n=window.getComputedStyle(e);n&&(t=O&&"fixed"===n.getPropertyValue("position")),t||(e.style.marginTop=N)}),"top"===Qb&&Qb!==L&&Pb&&U&&0<U.length&&U.forEach(function(e){e.style.marginTop=0}),Pb=!1,Qb="",U=[],S=!1,e.innerHTML=Tb(),document.head.appendChild(e)}function Tb(){var e="",t="";return document.body.style.transition="",document.getElementById("branch-banner-iframe")&&(document.getElementById("branch-banner-iframe").style.transition=""),Ob||(e="body { -webkit-transition: all 0.375s ease; }\n",document.body.style.transition="all 00.375s ease",t="-webkit-transition: all 0.25s ease; transition: all 00.25s ease;"),(e||"")+"#branch-banner-iframe { box-shadow: 0 0 5px rgba(0, 0, 0, .35); width: 1px; min-width:100%; left: 0; right: 0; border: 0; height: "+N+"; z-index: 99999; "+t+" }\n#branch-banner-iframe { position: "+M+"; }\n@media only screen and (orientation: landscape) { body { "+("top"===L?"margin-top: ":"margin-bottom: ")+(O?Eb+"px":N)+"; }\n#branch-banner-iframe { height: "+(O?Eb+"px":N)+"; }"}function Ub(e){qb(document.body,"branch-banner-is-active"),O&&"fixed"===M&&qb(document.body,"branch-banner-no-scroll"),setTimeout(function(){"top"===L?e.style.top="0":"bottom"===L&&(e.style.bottom="0"),J(Q,"didShowJourney",{banner_id:K}),Nb=!0},20)}function Vb(e){var n=7;return(e=e.match(Hb))&&(e=t(e[1])||{},"number"==typeof e.dismissPeriod&&(n=e.dismissPeriod)),-1===n||sb(n)}function Wb(e,t,n,i,r){if(Mb=i,n&&i){var o=i.contentWindow.document;Array.prototype.forEach.call(o.querySelectorAll("#branch-mobile-action"),function(e){e.addEventListener("click",function(){J(Q,"didClickJourneyCTA",{banner_id:K}),S=!0,n(),Xb(i)})});var a=o.querySelectorAll(".branch-banner-continue");Array.prototype.forEach.call(a,function(n){n.addEventListener("click",function(){J(Q,"didClickJourneyContinue",{banner_id:K}),S=!0,Xb(i),t.set("hideBanner"+e.id,r,!0)})}),a=o.querySelectorAll(".branch-banner-close"),Array.prototype.forEach.call(a,function(n){n.addEventListener("click",function(){J(Q,"didClickJourneyClose",{banner_id:K}),S=!0,Xb(i),t.set("hideBanner"+e.id,r,!0)})})}}function Xb(e){if(Ob&&!R){document.body.style.transition="all 00.375s ease",document.getElementById("branch-banner-iframe").style.transition="all 00.25s ease";var t=document.getElementById("branch-iframe-css").innerHTML+"\n";document.getElementById("branch-iframe-css").innerHTML="",document.getElementById("branch-iframe-css").innerHTML=t+"body { -webkit-transition: all 0.375s ease; }\n#branch-banner-iframe { -webkit-transition: all 0.25s ease; }\n"}"top"===L?e.style.top="-"+N:"bottom"===L&&(e.style.bottom="-"+N),J(Q,"willCloseJourney",{banner_id:K}),setTimeout(function(){I(e),I(document.getElementById("branch-css")),I(document.getElementById("branch-iframe-css")),I(document.getElementById("branch-journey-cta")),(!R||S)&&P&&0<P.length?P.forEach(function(e){e.style.marginTop=0}):(Pb=R,Qb=L,U=P),"top"===L?document.body.style.marginTop=Fb:"bottom"===L&&(document.body.style.marginBottom=Gb),rb("branch-banner-is-active"),rb("branch-banner-no-scroll"),J(Q,"didCloseJourney",{banner_id:K}),Nb=!1},R?0:270)}function Zb(e,t){J(Q,"willShowJourney",{banner_id:K});var n=t?"OPEN":"GET",i=e,r=Rb(i);if(r&&r.bannerHeight&&r.position&&r.sticky?(N=r.bannerHeight,L=r.position,M=r.sticky):(i=i.match(Kb))?(L="top",(i=i[1].match(Lb))&&(N=i[1]),M="absolute"):(L="bottom",M="fixed"),-1===N.indexOf("vh")&&-1===N.indexOf("%")||(i=N.indexOf("vh")?N.slice(0,-2):N.slice(0,-1),N=i/100*Db+"px",100>i?Cb=!0:O=!0),i=Rb(e)){var o;if(t&&i&&i.ctaText&&i.ctaText.has_app?o=i.ctaText.has_app:i&&i.ctaText&&i.ctaText.no_app&&(o=i.ctaText.no_app),n=o,P=[],i&&i.injectorSelector&&(o=document.querySelectorAll(i.injectorSelector)))for(i=0;i<o.length;i++)P.push(o[i].parentElement)}o=(o=e.match(Jb))?o[1]:void 0,(i=e.match(Ib))&&(i=i[1],r=document.createElement("script"),r.id="branch-journey-cta",r.innerHTML=i,document.body.appendChild(r));var i=e,r=i.match(Hb),a=i.match(Ib),s=i.match(Jb);if(r&&(i=i.replace(Hb,"")),a&&(i=i.replace(Ib,"")),s&&(i=i.replace(Jb,"")),e=i,i=document.createElement("iframe"),i.src="about:blank",i.style.overflow="hidden",i.scrolling="no",i.id="branch-banner-iframe",i.className="branch-animation",document.body.appendChild(i),r=y(),r='<html><head></head><body class="'+("ios"===r||"ipad"===r?"branch-banner-ios":"android"===r?"branch-banner-android":"branch-banner-desktop")+'">'+e+"</body></html>",i.contentWindow.document.open(),i.contentWindow.document.write(r),i.contentWindow.document.close(),Sb(),r=document.createElement("style"),r.type="text/css",r.id="branch-css",r.innerHTML=o,o=i.contentWindow.document,o.head.appendChild(r),Cb||O){var l=o.getElementsByClassName("branch-banner-content")[0];l&&(l.style.height=N)}"top"===L?i.style.top="-"+N:"bottom"===L&&(i.style.bottom="-"+N);try{var l=o.getElementsByClassName("branch-banner-content")[0],c=window.getComputedStyle(l).getPropertyValue("background-color").split(", ");c[3]&&!parseFloat(c[3])&&(i.style.boxShadow="none")}catch(e){}return i.contentWindow.document.getElementById("branch-mobile-action").innerHTML=n,Ub(i),i}function $b(e,t,n,i,r,o,a){if(!(document.getElementById("branch-banner")||document.getElementById("branch-banner-iframe")||document.getElementById("branch-banner-container"))){Q=a;var s=null,l=null;n=n||{},n.feature="journeys",n=va(n),(a=document.getElementById("branch-iframe-css"))&&a.parentElement.removeChild(a);var c=document.createElement("div");if(c.id="branch-banner",document.body.insertBefore(c,null),qb(c,"branch-banner-is-active"),t.html)Zb(t.html,r);else if(t.url){var d="branch_view_callback__"+Yb++;n=encodeURIComponent(Ba(p(n))),a=t.url+"&callback="+d,a+="&_lan="+(Q.ma||Ga()),ob(e,a+"&data="+n,{},"GET",{},function(e,n){var a=!1;if(!e&&n){var u=o?0:Vb(n),h=window.setTimeout(function(){window[d]=function(){}},5e3);if(window[d]=function(e){window.clearTimeout(h),a||(l=e,Wb(t,i,l,s,u))},null===(s=Zb(n,r)))return void(a=!0);Wb(t,i,l,s,u)}document.body.removeChild(c)},!0)}}}function ac(e,t){var n=t.b.get("hideBanner"+e.id,!0);return!0===n||n>Date.now()||(t.b.remove("hideBanner"+e.id,!0),!1)}function bc(e,t,n,i,r){r.m=!!n.branch_view_enabled,r.b.set("branch_view_enabled",r.m);var o=null,a=null,s=null,l=null,c=null,d=!1,u=!1,h=!1;i&&(o=i.branch_view_id||null,a=i.no_journeys||null,r.ma=i.user_language||Ga(),Ob=i.disable_entry_animation||!1,R=i.disable_exit_animation||!1,u=i.make_new_link||!1,h=i.open_app||!1),(o=o||ua()||null)&&y()&&(d=!0,l={id:o,ua:-1,url:"https://api.branch.io/v1/branchview/"+e+"/"+o+"?_a=audience_rule_id&_t="+t.D}),!l&&n.hasOwnProperty("branch_view_data")&&(l=n.branch_view_data,s=ac(l,r)),!l||s||a?J(r,"willNotShowJourney"):(K=l.id,r.renderQueue(function(){var e=u,n=h,i=r.A||{};i.data||(i.data={}),e=e?null:wa(cc(r)),i.data=x(Fa(),i.data),i.data=x(ta(H(r.b)||{}),i.data),i.data=e?x({link_click_id:e},i.data):i.data,c=i=x({open_app:n},i),$b(r.N,l,c,r.b,t.has_app,d,r)}))}function dc(e){var t;"android"===e&&V.androidDetailsComplete&&(t="android-app://"+W.androidPackageName+"/"+W.androidURL,t=ec(t),fc(t)),"ios"===e&&V.iosDetailsComplete&&(t="ios-app://"+W.iosAppId+"/"+W.iosURL,t=ec(t),fc(t))}function ec(e){var t={"~channel":"Firebase App Indexing","~feature":"Auto App Indexing",$canonical_url:String(window.location)};if("object"==typeof W.data)for(var n in W.data)W.data.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=W.data[n]);return e+(-1<e.indexOf("?")?"&":"?")+"link_click_id=a-"+btoa(u(t))}function fc(e){var t=document.createElement("link");t.setAttribute("rel","alternate"),t.setAttribute("href",e),document.head.appendChild(t)}function gc(e){"android"===e&&"string"==typeof W.androidPackageName&&"string"==typeof W.androidURL&&(V.androidDetailsComplete=!0,dc("android")),"ios"===e&&"string"==typeof W.iosAppId&&"string"==typeof W.iosURL&&(V.iosDetailsComplete=!0,dc("ios"))}function hc(e){for(var t=document.getElementsByTagName("meta"),n=0;n<t.length;n++){var i=t[n];"ios"===e&&"al:ios:app_store_id"===i.getAttribute("property")&&(W.iosAppId=i.getAttribute("content")),"ios"===e&&"al:ios:url"===i.getAttribute("property")&&(W.iosURL=i.getAttribute("content").replace("://","/")),"android"===e&&"al:android:package"===i.getAttribute("property")&&(W.androidPackageName=i.getAttribute("content")),"android"===e&&"al:android:url"===i.getAttribute("property")&&(W.androidURL=i.getAttribute("content").replace("://","/"))}gc(e)}function X(e,t,n){return function(){var i,r,o=this,a=arguments[arguments.length-1];e&&"function"==typeof a?(i=Array.prototype.slice.call(arguments,0,arguments.length-1)||[],r=a):(r=function(){},i=Array.prototype.slice.call(arguments)),o.X(function(a){function s(t,n){try{if(t&&!e)throw t;1===e?r(t):2===e&&r(t,n)}finally{a()}}if(!n){if(1===o.j)return s(Error(v("Branch SDK initialization pending and a Branch method was called outside of the queue order")),null);if(2===o.j)return s(Error(v("Branch SDK initialization failed, so further methods cannot be called",o.h,o.l)),null);if(0===o.j||!o.j)return s(Error(v("Branch SDK not initialized")),null)}i.unshift(s),t.apply(o,i)})}}function Y(){if(!(this instanceof Y))return ic||(ic=new Y),ic;this.X=ra(),this.b=new E(["session","cookie","pojo"]),this.N=new ib,this.g=[],this.P="web2.25.0",this.h=this.j=0,this.l=null}function cc(e){var t=H(e.b);return(t=t&&t.referring_link)?t:(e=e.b.get("click_id"))?"https://bnc.lt/c/"+e:null}function J(e,t,n){for(var i=0;i<e.g.length;i++)e.g[i].event&&e.g[i].event!==t||e.g[i].listener(t,n)}function jc(e,n,i){i=i||{};try{e.A=t(u(i))}finally{e.A=e.A||{}}n()}for(var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},k="undefined"!=typeof window&&window===this?this:void 0!==global&&null!=global?global:this,n=["String","prototype","includes"],ba=0;ba<n.length-1;ba++){var ca=n[ba];ca in k||(k[ca]={}),k=k[ca]}var da=n[n.length-1],ea=k[da],fa=ea||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(e,t||0)};fa!=ea&&null!=fa&&aa(k,da,{configurable:!0,writable:!0,value:fa});var pa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},qa=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ia=["purchase"],z={missingPurchaseEvent:"event name is either missing, of the wrong type or not valid. Please specify 'purchase' as the event name.",missingCommerceData:"commerce_data is either missing, of the wrong type or empty. Please ensure that commerce_data is constructed correctly.",invalidKeysForRoot:"Please remove the following keys from the root of commerce_data: ",invalidKeysForProducts:"Please remove the following keys from commerce_data.products: ",invalidProductListType:"commerce_data.products must be an array of objects",invalidProductType:"Each product in the products list must be an object"},C=/^[0-9]{15,20}$/,La={destination:"https://api.branch.io",endpoint:"/v1/open",method:"POST",a:{browser_fingerprint_id:B(!1,C),alternative_browser_fingerprint_id:B(!1,C),identity_id:B(!1,C),link_identifier:B(!1,1),sdk:B(!1,1),options:B(!1,0),initial_referrer:B(!1,1)}},Ma={destination:"https://app.link",endpoint:"/_r",method:"GET",U:!0,a:{sdk:B(!0,1),_t:B(!1,C),branch_key:B(!0,1)}},Na={destination:"",endpoint:"",method:"GET",f:{link_url:B(!0,1)},a:{click:B(!0,1)}},Oa={destination:"https://bnc.lt",endpoint:"/c",method:"POST",f:{link_url:B(!0,1)},a:{sdk:B(!1,1),phone:B(!0,1)}},Pa={destination:"https://api.branch.io",endpoint:"/v1/referralcode",method:"POST",a:D({amount:B(!0,2),bucket:B(!1,1),calculation_type:B(!0,2),creation_source:B(!0,2),expiration:B(!1,1),location:B(!0,2),prefix:B(!1,1),type:B(!0,1)})},Qa={destination:"https://api.branch.io",endpoint:"/v1/referralcode",method:"POST",f:{code:B(!0,1)},a:D({})},Ra={destination:"https://api.branch.io",endpoint:"/v1/applycode",method:"POST",f:{code:B(!0,1)},a:D({})},Sa={destination:"https://api.branch.io",endpoint:"/v1/logout",method:"POST",a:D({session_id:B(!0,C)})},Ta={destination:"https://api.branch.io",endpoint:"/v1/profile",method:"POST",a:D({identity_id:B(!0,C),identity:B(!0,1)})},Ua={destination:"https://api.branch.io",endpoint:"/v1/referrals",method:"GET",f:{identity_id:B(!0,C)},a:D({})},Va={destination:"https://api.branch.io",endpoint:"/v1/credithistory",method:"GET",a:D({begin_after_id:B(!1,C),bucket:B(!1,1),direction:B(!1,2),length:B(!1,2),link_click_id:B(!1,C)})},Wa={destination:"https://api.branch.io",endpoint:"/v1/credits",method:"GET",a:D({branch_key:B(!0,1),identity:B(!0,1)})},Xa={destination:"https://api.branch.io",endpoint:"/v1/redeem",method:"POST",a:D({amount:B(!0,2),bucket:B(!0,1),identity_id:B(!0,C)})},Ya={destination:"https://api.branch.io",endpoint:"/v1/url",method:"POST",va:"obj",a:D({alias:B(!1,1),campaign:B(!1,1),channel:B(!1,1),data:B(!1,1),feature:B(!1,1),identity_id:B(!0,C),stage:B(!1,1),tags:B(!1,3),type:B(!1,2),source:B(!1,1)})},Za={destination:"https://api.branch.io",endpoint:"/v1/deepview",U:!0,method:"POST",a:D({campaign:B(!1,1),_t:B(!1,C),channel:B(!1,1),data:B(!0,1),feature:B(!1,1),link_click_id:B(!1,1),open_app:B(!1,4),append_deeplink_path:B(!1,4),stage:B(!1,1),tags:B(!1,3),deepview_type:B(!0,1),source:B(!0,1)})},$a={destination:"https://api.branch.io",endpoint:"/v1/has-app",method:"GET",a:{browser_fingerprint_id:B(!0,C)}},ab={destination:"https://api.branch.io",endpoint:"/v1/event",method:"POST",a:D({event:B(!0,1),metadata:B(!0,0),initial_referrer:B(!1,1)})},bb={destination:"https://api.branch.io",endpoint:"/v1/event",method:"POST",a:D({event:B(!0,1),metadata:B(!1,0),initial_referrer:B(!1,1),commerce_data:B(!0,0)})};E.prototype.local=function(){return db(!0)},E.prototype.session=function(){return db(!1)},E.prototype.cookie=function(){return fb(!1)},E.prototype.permcookie=function(){return fb(!0)},E.prototype.pojo={getAll:function(){return this.s},get:function(e){return this.s[e]||null},set:function(e,t){this.s[e]=t},remove:function(e){delete this.s[e]},clear:function(){this.s={}},isEnabled:function(){return!0}},ib.prototype.g=0;var K,L="top",M="absolute",N="76px",O=!1,Cb=!1,P=[],Db=window.innerHeight,Eb=window.innerWidth;window.innerHeight<window.innerWidth&&(Db=window.innerWidth,Eb=window.innerHeight);var Fb=0,Gb=0,Hb=/<script type="application\/json">((.|\s)*?)<\/script>/,Ib=/<script type="text\/javascript">((.|\s)*?)<\/script>/,Jb=/<style type="text\/css" id="branch-css">((.|\s)*?)<\/style>/,Kb=/#branch-banner-spacer {((.|\s)*?)}/,Lb=/margin-bottom: (.*?);/,Q=null,Mb=null,Nb=!1,R=!1,Ob=!1,S=!1,Pb=!1,Qb="",U=[],Yb=1,V={androidAppIndexingTagsPresent:!1,iosAppIndexingTagsPresent:!1,androidDetailsComplete:!1,iosDetailsComplete:!1},W={},ic;Y.prototype.c=function(e,t,n){return this.O&&(t.app_id=this.O),this.i&&(t.branch_key=this.i),(e.a&&e.a.session_id||e.f&&e.f.session_id)&&this.H&&(t.session_id=this.H),(e.a&&e.a.identity_id||e.f&&e.f.identity_id)&&this.v&&(t.identity_id=this.v),(e.a&&e.a.link_click_id||e.f&&e.f.link_click_id)&&this.V&&(t.link_click_id=this.V),(e.a&&e.a.sdk||e.f&&e.f.sdk)&&this.P&&(t.sdk=this.P),(e.a&&e.a.browser_fingerprint_id||e.f&&e.f.browser_fingerprint_id)&&this.D&&(t.browser_fingerprint_id=this.D),pb(this.N,e,t,this.b,function(e,t){n(e,t)})},Y.prototype.init=X(2,function(e,n,i){function r(){var e,t;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&document.addEventListener(t,function(){document[e]||(s(null),"function"==typeof c.C&&c.C())},!1)}function o(r,o){if(o&&(o=l(o),gb(c.b,o,p),c.j=3,o.data_parsed=o.data&&0!==o.data.length?t(o.data):{}),r)return c.j=2,c.h||(c.h=1,c.l=r.message),e(r,o&&sa(o));c.c(ab,{event:"pageview",metadata:{url:u,user_agent:navigator.userAgent,language:navigator.language,page_has_microdata:a(),screen_width:screen.width||-1,screen_height:screen.height||-1,og_data:{$og_title:w("title"),$og_description:w("description"),$og_image_url:w("image"),$og_video:w("video")},hosted_deeplink_data:Fa()},initial_referrer:document.referrer},function(t,r){t||"object"!=typeof r||bc(n,o,r,i,c);try{e(t,o&&sa(o))}catch(e){}finally{c.renderFinalize()}})}function a(){var e=!1;try{e=!!(document.querySelectorAll('*[itemtype^="http://schema.org"]')||[]).length}catch(t){e=!1}return e}function s(e){var t={sdk:"2.25.0",branch_key:c.i},n=H(c.b)||{},i=H(c.b,!0)||{};i.browser_fingerprint_id&&(t._t=i.browser_fingerprint_id),ya()||c.c(Ma,t,function(e,t){e&&(c.h=3,c.l=e.message),t&&(n.browser_fingerprint_id=t)}),c.c($a,{browser_fingerprint_id:n.browser_fingerprint_id},function(t,i){t&&(c.h=4,c.l=t.message),t||!i||n.has_app||(n.has_app=!0,hb(c.b,n),J(c,"didDownloadApp")),e&&e(null,n)})}function l(e){if(e.link_click_id&&(c.V=e.link_click_id.toString()),e.session_id&&(c.H=e.session_id.toString()),e.identity_id&&(c.v=e.identity_id.toString()),e.link&&(c.W=e.link),e.referring_link){var t=e.referring_link;e.referring_link=t?"http"!==t.substring(0,4)?"https://bnc.lt"+t:t:null}return!e.click_id&&e.referring_link&&(e.click_id=wa(e.referring_link)),c.D=e.browser_fingerprint_id,e}var c=this;c.j=1,-1<n.indexOf("key_")?c.i=n:c.O=n,i=i&&"function"==typeof i?{}:i;var d=H(c.b),u=i&&i.url||String(window.location),h=(i&&void 0!==i.branch_match_id&&null!==i.branch_match_id?i.branch_match_id:null)||za()||xa(),p=!d||!d.identity_id;if(c.m=!!c.b.get("branch_view_enabled"),d&&d.session_id&&!h)hb(c.b,{data:""}),r(),s(o);else{var d={sdk:"2.25.0",branch_key:c.i},f=H(c.b,!0)||{};f.browser_fingerprint_id&&(d._t=f.browser_fingerprint_id),ya()?c.c(La,{link_identifier:h,browser_fingerprint_id:h||f.browser_fingerprint_id,alternative_browser_fingerprint_id:f.browser_fingerprint_id,options:i,initial_referrer:document.referrer},function(e,t){e&&(c.h=2,c.l=e.message),e||"object"!=typeof t||(c.m=!!t.branch_view_enabled,c.b.set("branch_view_enabled",c.m),h&&(t.click_id=h)),r(),o(e,t)}):c.c(Ma,d,function(e,t){if(e)return c.h=3,c.l=e.message,o(e,null);c.c(La,{link_identifier:h,browser_fingerprint_id:h||t,alternative_browser_fingerprint_id:f.browser_fingerprint_id,options:i,initial_referrer:document.referrer},function(e,t){e&&(c.h=2,c.l=e.message),e||"object"!=typeof t||(c.m=!!t.branch_view_enabled,c.b.set("branch_view_enabled",c.m),h&&(t.click_id=h)),r(),o(e,t)})})}},!0),Y.prototype.renderQueue=X(0,function(e,t){this.Y?t():(this.o=this.o||[],this.o.push(t)),e(null,null)}),Y.prototype.renderFinalize=X(2,function(e){this.o&&0<this.o.length&&(this.o.forEach(function(e){e.call(this)}),delete this.o),this.Y=!0,e(null,null)}),Y.prototype.data=X(2,function(e){var n=sa(H(this.b));n.referring_link=cc(this),n.data_parsed=n.data&&0!==n.data.length?t(n.data):{},e(null,n)}),Y.prototype.first=X(2,function(e){e(null,sa(H(this.b,!0)))}),Y.prototype.setIdentity=X(2,function(e,n){var i=this;this.c(Ta,{identity:n},function(r,o){r&&e(r),o=o||{},i.v=o.identity_id?o.identity_id.toString():null,i.W=o.link,i.S=n,o.referring_data_parsed=o.referring_data?t(o.referring_data):null,hb(i.b,o),e(null,o)})}),Y.prototype.logout=X(1,function(e){var t=this;this.c(Sa,{},function(n,i){n&&e(n),i=i||{},i={data_parsed:null,data:null,referring_link:null,click_id:null,link_click_id:null,identity:null,session_id:i.session_id,identity_id:i.identity_id,link:i.link,device_fingerprint_id:t.ta||null},t.W=i.link,t.H=i.session_id,t.v=i.identity_id,t.S=i.identity,hb(t.b,i),e(null)})}),Y.prototype.track=X(1,function(e,t,n,i){var r=this;n=n||{},i=i||{},r.c(ab,{event:t,metadata:x({url:document.URL,user_agent:navigator.userAgent,language:navigator.language},n),initial_referrer:document.referrer},function(n,o){n||"object"!=typeof o||"pageview"!==t||bc(r.i,H(r.b),o,i,r),"function"==typeof e&&e.apply(this,arguments)})}),Y.prototype.link=X(2,function(e,t){this.c(Ya,va(t),function(t,n){e(t,n&&n.url)})}),Y.prototype.sendSMS=X(1,function(e,t,n,i){function r(n){o.c(Oa,{link_url:n,phone:t},function(t){e(t||null)})}var o=this;"function"==typeof i?i={}:void 0!==i&&null!==i||(i={}),i.make_new_link=i.make_new_link||!1,n.channel&&"app banner"!==n.channel||(n.channel="sms");var a=cc(o);a&&!i.make_new_link?r(a.substring(a.lastIndexOf("/")+1,a.length)):o.c(Ya,va(n),function(t,n){if(t)return e(t);var i=n.url;/(bnc.lt\/|app\.link\/)/.test(i)||(i="https://bnc.lt/"+Da(i)),o.c(Na,{link_url:i,click:"click"},function(t,n){if(t)return e(t);r(n.click_id)})})}),Y.prototype.deepview=X(1,function(e,t,n){var i=this;n||(n={}),n.deepview_type=void 0===n.deepview_type?"deepview":"banner",t.data=x(Fa(),t.data);var r,o="https://bnc.lt/a/"+i.i,a=!0;for(r in t)t.hasOwnProperty(r)&&"data"!==r&&(a?(o+="?",a=!1):o+="&",o+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));t=va(t),(n.open_app||null===n.open_app||void 0===n.open_app)&&(t.open_app=!0),t.append_deeplink_path=!!n.append_deeplink_path,t.deepview_type=n.deepview_type,(a=cc(i))&&!n.make_new_link&&(t.link_click_id=a.substring(a.lastIndexOf("/")+1,a.length)),t.banner_options=n,i.C=ja(this.c,i,Za,t,function(t,n){if(t)return i.B=function(){window.location=o},e(t);"function"==typeof n&&(i.B=n),e(null)}),i.C()}),Y.prototype.deepviewCta=X(1,function(e){if(void 0===this.B)throw Error("Cannot call Deepview CTA, please call branch.deepview() first.");window.event&&(window.event.preventDefault?window.event.preventDefault():window.event.returnValue=!1),J(this,"didDeepviewCTA"),this.B(),e()}),Y.prototype.referrals=X(2,function(e){this.c(Ua,{},e)}),Y.prototype.getCode=X(2,function(e,t){t.type="credit",t.creation_source=t.creation_source||2,this.c(Pa,t,e)}),Y.prototype.validateCode=X(1,function(e,t){this.c(Qa,{code:t},e)}),Y.prototype.applyCode=X(1,function(e,t){this.c(Ra,{code:t},e)}),Y.prototype.credits=X(2,function(e){this.c(Wa,{branch_key:this.i,identity:this.S},e)}),Y.prototype.creditHistory=X(2,function(e,t){this.c(Va,t||{},e)}),Y.prototype.redeem=X(1,function(e,t,n){this.c(Xa,{amount:t,bucket:n},function(t){e(t||null)})}),Y.prototype.addListener=function(e,t){"function"==typeof e&&void 0===t&&(t=e),t&&this.g.push({listener:t,event:e||null})},Y.prototype.removeListener=function(e){e&&(this.g=this.g.filter(function(t){if(t.listener!==e)return t}))},Y.prototype.setBranchViewData=X(1,function(e,t){jc.call(null,this,e,t)}),Y.prototype.closeJourney=X(1,function(e){var t=this;t.renderQueue(function(){if(!Mb||!Nb)return e("Journey already dismissed.");J(t,"didCallJourneyClose",{banner_id:K}),Xb(Mb)}),e()}),Y.prototype.banner=X(1,function(e,t,n){n=n||{},jc.call(null,this,function(){},n),void 0===t.showAgain&&void 0!==t.forgetHide&&(t.showAgain=t.forgetHide);var i={icon:A(t.icon)||"",title:A(t.title)||"",description:A(t.description)||"",G:"number"==typeof t.reviewCount&&0<t.reviewCount?Math.floor(t.reviewCount):null,u:"number"==typeof t.rating&&5>=t.rating&&0<t.rating?Math.round(2*t.rating)/2:null,fa:A(t.openAppButtonText)||"View in app",ca:A(t.downloadAppButtonText)||"Download App",ja:A(t.sendLinkText)||"Send Link",ha:A(t.phonePreviewText)||"(999) 999-9999",w:void 0===t.iframe||t.iframe,M:void 0===t.showiOS||t.showiOS,la:void 0===t.showiPad||t.showiPad,I:void 0===t.showAndroid||t.showAndroid,J:void 0===t.showBlackberry||t.showBlackberry,L:void 0===t.showWindowsPhone||t.showWindowsPhone,K:void 0===t.showKindle||t.showKindle,ka:void 0===t.showDesktop||t.showDesktop,ba:!!t.disableHide,F:"number"==typeof t.forgetHide?t.forgetHide:!!t.forgetHide,ia:void 0!==t.respectDNT&&t.respectDNT,position:t.position||"top",$:t.customCSS||"",ea:void 0!==t.mobileSticky&&t.mobileSticky,aa:void 0===t.desktopSticky||t.desktopSticky,pa:t.buttonBorderColor||"",na:t.buttonBackgroundColor||"",ra:t.buttonFontColor||"",qa:t.buttonBorderColorHover||"",oa:t.buttonBackgroundColorHover||"",sa:t.buttonFontColorHover||"",da:!!t.make_new_link,ga:!!t.open_app,T:!!t.immediate,Z:!!t.append_deeplink_path};void 0!==t.showMobile&&(i.M=t.showMobile,i.I=t.showMobile,i.J=t.showMobile,i.L=t.showMobile,i.K=t.showMobile),n.data=x(Fa(),n.data);var r=this;r.renderQueue(function(){r.R=Bb(r,i,n,r.b)}),e()}),Y.prototype.closeBanner=X(0,function(e){var t=this;t.renderQueue(function(){t.R&&(J(t,"willCloseBanner"),t.R(function(){J(t,"didCloseBanner")}))}),e()}),Y.prototype.autoAppIndex=X(1,function(e,t){t=t||{};var n=document.getElementsByTagName("link"),i=n.length;if(i)for(var r=0;r<i;r++){var o=n[r],a=o.href;a&&(a.includes("ios-app")&&(V.iosAppIndexingTagsPresent=!0,o.setAttribute("href",ec(a))),a.includes("android-app")&&(V.androidAppIndexingTagsPresent=!0,o.setAttribute("href",ec(a))))}W=t,V.androidAppIndexingTagsPresent||(gc("android"),V.androidDetailsComplete||hc("android")),V.iosAppIndexingTagsPresent||(gc("ios"),V.iosDetailsComplete||hc("ios")),e(V.iosDetailsComplete||V.androidDetailsComplete?null:"Firebase App Indexing tags were not added to your webpage. Please check your configuration.")}),Y.prototype.trackCommerceEvent=X(1,function(e,t,n,i){var r=this;r.renderQueue(function(){var o=Ka(t,n);if(o)return e(Error(o));r.c(bb,{event:t,metadata:x({url:document.URL,user_agent:navigator.userAgent,language:navigator.language},i||{}),initial_referrer:document.referrer,commerce_data:n},function(t){e(t||null)})}),e()});var Z=new Y;if(window.branch&&window.branch._q)for(var kc=window.branch._q,lc=0;lc<kc.length;lc++){var mc=kc[lc];Z[mc[0]].apply(Z,mc[1])}void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Z}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),window&&(window.branch=Z)}(),module.exports=window.branch}).call(exports,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/isarray/index.js":function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},"./node_modules/react-bootstrap/lib/ControlLabel.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=i(r),a=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),s=i(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=i(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=i(d),h=n("./node_modules/babel-runtime/helpers/inherits.js"),p=i(h),f=n("./node_modules/classnames/index.js"),m=i(f),g=n("./node_modules/react/react.js"),b=i(g),v=n("./node_modules/warning/browser.js"),y=(i(v),n("./node_modules/react-bootstrap/lib/utils/bootstrapUtils.js")),w={htmlFor:b.default.PropTypes.string,srOnly:b.default.PropTypes.bool},k={srOnly:!1},x={$bs_formGroup:b.default.PropTypes.object},_=function(e){function t(){return(0,c.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,i=n.htmlFor,r=void 0===i?t:i,a=n.srOnly,l=n.className,c=(0,s.default)(n,["htmlFor","srOnly","className"]),d=(0,y.splitBsProps)(c),u=d[0],h=d[1],p=(0,o.default)({},(0,y.getClassSet)(u),{"sr-only":a});return b.default.createElement("label",(0,o.default)({},h,{htmlFor:r,className:(0,m.default)(l,p)}))},t}(b.default.Component);_.propTypes=w,_.defaultProps=k,_.contextTypes=x,t.default=(0,y.bsClass)("control-label",_),e.exports=t.default},"./node_modules/react-bootstrap/lib/FormGroup.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=i(r),a=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),s=i(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=i(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=i(d),h=n("./node_modules/babel-runtime/helpers/inherits.js"),p=i(h),f=n("./node_modules/classnames/index.js"),m=i(f),g=n("./node_modules/react/react.js"),b=i(g),v=n("./node_modules/react-bootstrap/lib/utils/bootstrapUtils.js"),y=n("./node_modules/react-bootstrap/lib/utils/StyleConfig.js"),w=n("./node_modules/react-bootstrap/lib/utils/ValidComponentChildren.js"),k=i(w),x={controlId:b.default.PropTypes.string,validationState:b.default.PropTypes.oneOf(["success","warning","error",null])},_={$bs_formGroup:b.default.PropTypes.object.isRequired},T=function(e){function t(){return(0,c.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.getChildContext=function(){var e=this.props;return{$bs_formGroup:{controlId:e.controlId,validationState:e.validationState}}},t.prototype.hasFeedback=function(e){var t=this;return k.default.some(e,function(e){return"feedback"===e.props.bsRole||e.props.children&&t.hasFeedback(e.props.children)})},t.prototype.render=function(){var e=this.props,t=e.validationState,n=e.className,i=e.children,r=(0,s.default)(e,["validationState","className","children"]),a=(0,v.splitBsPropsAndOmit)(r,["controlId"]),l=a[0],c=a[1],d=(0,o.default)({},(0,v.getClassSet)(l),{"has-feedback":this.hasFeedback(i)});return t&&(d["has-"+t]=!0),b.default.createElement("div",(0,o.default)({},c,{className:(0,m.default)(n,d)}),i)},t}(b.default.Component);T.propTypes=x,T.childContextTypes=_,t.default=(0,v.bsClass)("form-group",(0,v.bsSizes)([y.Size.LARGE,y.Size.SMALL],T)),e.exports=t.default},"./node_modules/react-bootstrap/lib/HelpBlock.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=i(r),a=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),s=i(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=i(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=i(d),h=n("./node_modules/babel-runtime/helpers/inherits.js"),p=i(h),f=n("./node_modules/classnames/index.js"),m=i(f),g=n("./node_modules/react/react.js"),b=i(g),v=n("./node_modules/react-bootstrap/lib/utils/bootstrapUtils.js"),y=function(e){function t(){return(0,c.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),i=(0,v.splitBsProps)(n),r=i[0],a=i[1],l=(0,v.getClassSet)(r);return b.default.createElement("span",(0,o.default)({},a,{className:(0,m.default)(t,l)}))},t}(b.default.Component);t.default=(0,v.bsClass)("help-block",y),e.exports=t.default},"./node_modules/react-router-dom/es/BrowserRouter.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/react/react.js"),s=n.n(a),l=n("./node_modules/react-router-dom/node_modules/history/createBrowserHistory.js"),c=n.n(l),d=n("./node_modules/react-router/es/index.js"),u=function(e){function t(){var n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),d=0;d<s;d++)l[d]=arguments[d];return n=o=r(this,e.call.apply(e,[this].concat(l))),o.history=c()(o.props),a=n,r(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(d.e,{history:this.history,children:this.props.children})},t}(s.a.Component);u.propTypes={basename:a.PropTypes.string,forceRefresh:a.PropTypes.bool,getUserConfirmation:a.PropTypes.func,keyLength:a.PropTypes.number,children:a.PropTypes.node},t.a=u},"./node_modules/react-router-dom/es/HashRouter.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/react/react.js"),s=n.n(a),l=n("./node_modules/react-router-dom/node_modules/history/createHashHistory.js"),c=n.n(l),d=n("./node_modules/react-router/es/index.js"),u=function(e){function t(){var n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),d=0;d<s;d++)l[d]=arguments[d];return n=o=r(this,e.call.apply(e,[this].concat(l))),o.history=c()(o.props),a=n,r(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(d.e,{history:this.history,children:this.props.children})},t}(s.a.Component);u.propTypes={basename:a.PropTypes.string,getUserConfirmation:a.PropTypes.func,hashType:a.PropTypes.oneOf(["hashbang","noslash","slash"]),children:a.PropTypes.node},t.a=u},"./node_modules/react-router-dom/es/Link.js":function(e,t,n){"use strict";function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),l=n.n(s),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},u=function(e){function t(){var n,i,a;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=i=o(this,e.call.apply(e,[this].concat(l))),i.handleClick=function(e){if(i.props.onClick&&i.props.onClick(e),!e.defaultPrevented&&0===e.button&&!i.props.target&&!d(e)){e.preventDefault();var t=i.context.router.history,n=i.props,r=n.replace,o=n.to;r?t.replace(o):t.push(o)}},a=n,o(i,a)}return a(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=i(e,["replace","to"]),r=this.context.router.history.createHref("string"==typeof t?{pathname:t}:t);return l.a.createElement("a",c({},n,{onClick:this.handleClick,href:r}))},t}(l.a.Component);u.propTypes={onClick:s.PropTypes.func,target:s.PropTypes.string,replace:s.PropTypes.bool,to:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.object]).isRequired},u.defaultProps={replace:!1},u.contextTypes={router:s.PropTypes.shape({history:s.PropTypes.shape({push:s.PropTypes.func.isRequired,replace:s.PropTypes.func.isRequired,createHref:s.PropTypes.func.isRequired}).isRequired}).isRequired},t.a=u},"./node_modules/react-router-dom/es/MemoryRouter.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/es/index.js");n.d(t,"a",function(){return i.a})},"./node_modules/react-router-dom/es/NavLink.js":function(e,t,n){"use strict";function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var r=n("./node_modules/react/react.js"),o=n.n(r),a=n("./node_modules/react-router/es/index.js"),s=n("./node_modules/react-router-dom/es/Link.js"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e){var t=e.to,n=e.exact,r=e.strict,d=e.activeClassName,u=e.className,h=e.activeStyle,p=e.style,f=e.isActive,m=i(e,["to","exact","strict","activeClassName","className","activeStyle","style","isActive"]);return o.a.createElement(a.d,{path:"object"===(void 0===t?"undefined":c(t))?t.pathname:t,exact:n,strict:r,children:function(e){var n=e.location,i=e.match,r=!!(f?f(i,n):i);return o.a.createElement(s.a,l({to:t,className:r?[d,u].join(" "):u,style:r?l({},p,h):p},m))}})};d.propTypes={to:s.a.propTypes.to,exact:r.PropTypes.bool,strict:r.PropTypes.bool,activeClassName:r.PropTypes.string,className:r.PropTypes.string,activeStyle:r.PropTypes.object,style:r.PropTypes.object,isActive:r.PropTypes.func},d.defaultProps={activeClassName:"active"},t.a=d},"./node_modules/react-router-dom/es/Prompt.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/es/index.js");n.d(t,"a",function(){return i.b})},"./node_modules/react-router-dom/es/Redirect.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/es/index.js");n.d(t,"a",function(){return i.c})},"./node_modules/react-router-dom/es/Route.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/es/index.js");n.d(t,"a",function(){return i.d})},"./node_modules/react-router-dom/es/Router.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/es/index.js");n.d(t,"a",function(){return i.e})},"./node_modules/react-router-dom/es/StaticRouter.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/es/index.js");n.d(t,"a",function(){return i.f})},"./node_modules/react-router-dom/es/Switch.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/es/index.js");n.d(t,"a",function(){return i.g})},"./node_modules/react-router-dom/es/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react-router-dom/es/BrowserRouter.js");n.d(t,"BrowserRouter",function(){return i.a});var r=n("./node_modules/react-router-dom/es/HashRouter.js");n.d(t,"HashRouter",function(){return r.a});var o=n("./node_modules/react-router-dom/es/Link.js");n.d(t,"Link",function(){return o.a});var a=n("./node_modules/react-router-dom/es/MemoryRouter.js");n.d(t,"MemoryRouter",function(){return a.a});var s=n("./node_modules/react-router-dom/es/NavLink.js");n.d(t,"NavLink",function(){return s.a});var l=n("./node_modules/react-router-dom/es/Prompt.js");n.d(t,"Prompt",function(){return l.a});var c=n("./node_modules/react-router-dom/es/Redirect.js");n.d(t,"Redirect",function(){return c.a});var d=n("./node_modules/react-router-dom/es/Route.js");n.d(t,"Route",function(){return d.a});var u=n("./node_modules/react-router-dom/es/Router.js");n.d(t,"Router",function(){return u.a});var h=n("./node_modules/react-router-dom/es/StaticRouter.js");n.d(t,"StaticRouter",function(){return h.a});var p=n("./node_modules/react-router-dom/es/Switch.js");n.d(t,"Switch",function(){return p.a});var f=n("./node_modules/react-router-dom/es/matchPath.js");n.d(t,"matchPath",function(){return f.a});var m=n("./node_modules/react-router-dom/es/withRouter.js");n.d(t,"withRouter",function(){return m.a})},"./node_modules/react-router-dom/es/matchPath.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/es/index.js");n.d(t,"a",function(){return i.h})},"./node_modules/react-router-dom/es/withRouter.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/es/index.js");n.d(t,"a",function(){return i.i})},"./node_modules/react-router-dom/node_modules/history/DOMUtils.js":function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},"./node_modules/react-router-dom/node_modules/history/LocationUtils.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n("./node_modules/resolve-pathname/index.js"),a=i(o),s=n("./node_modules/value-equal/index.js"),l=i(s),c=n("./node_modules/react-router-dom/node_modules/history/PathUtils.js");t.createLocation=function(e,t,n,i){var o=void 0;"string"==typeof e?(o=(0,c.parsePath)(e),o.state=t):(o=r({},e),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,a.default)(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,l.default)(e.state,t.state)}},"./node_modules/react-router-dom/node_modules/history/PathUtils.js":function(e,t,n){"use strict";t.__esModule=!0;var i=(t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)});t.stripBasename=function(e,t){return i(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}},t.createPath=function(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}},"./node_modules/react-router-dom/node_modules/history/createBrowserHistory.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n("./node_modules/warning/browser.js"),s=i(a),l=n("./node_modules/invariant/browser.js"),c=i(l),d=n("./node_modules/react-router-dom/node_modules/history/LocationUtils.js"),u=n("./node_modules/react-router-dom/node_modules/history/PathUtils.js"),h=n("./node_modules/react-router-dom/node_modules/history/createTransitionManager.js"),p=i(h),f=n("./node_modules/react-router-dom/node_modules/history/DOMUtils.js"),m="popstate",g="hashchange",b=function(){try{return window.history.state||{}}catch(e){return{}}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(f.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,f.supportsHistory)(),i=!(0,f.supportsPopStateOnHashChange)(),a=e.forceRefresh,l=void 0!==a&&a,h=e.getUserConfirmation,v=void 0===h?f.getConfirmation:h,y=e.keyLength,w=void 0===y?6:y,k=e.basename?(0,u.stripTrailingSlash)((0,u.addLeadingSlash)(e.basename)):"",x=function(e){var t=e||{},n=t.key,i=t.state,r=window.location,o=r.pathname,a=r.search,l=r.hash,c=o+a+l;return(0,s.default)(!k||(0,u.hasBasename)(c,k),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+c+'" to begin with "'+k+'".'),k&&(c=(0,u.stripBasename)(c,k)),(0,d.createLocation)(c,i,n)},_=function(){return Math.random().toString(36).substr(2,w)},T=(0,p.default)(),C=function(e){o(q,e),q.length=t.length,T.notifyListeners(q.location,q.action)},E=function(e){(0,f.isExtraneousPopstateEvent)(e)||O(x(e.state))},S=function(){O(x(b()))},P=!1,O=function(e){if(P)P=!1,C();else{var t="POP";T.confirmTransitionTo(e,t,v,function(n){n?C({action:t,location:e}):A(e)})}},A=function(e){var t=q.location,n=R.indexOf(t.key);-1===n&&(n=0);var i=R.indexOf(e.key);-1===i&&(i=0);var r=n-i;r&&(P=!0,I(r))},j=x(b()),R=[j.key],B=function(e){return k+(0,u.createPath)(e)},$=function(e,i){(0,s.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==i),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o="PUSH",a=(0,d.createLocation)(e,i,_(),q.location);T.confirmTransitionTo(a,o,v,function(e){if(e){var i=B(a),r=a.key,c=a.state;if(n)if(t.pushState({key:r,state:c},null,i),l)window.location.href=i;else{var d=R.indexOf(q.location.key),u=R.slice(0,-1===d?0:d+1);u.push(a.key),R=u,C({action:o,location:a})}else(0,s.default)(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=i}})},L=function(e,i){(0,s.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==i),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o="REPLACE",a=(0,d.createLocation)(e,i,_(),q.location);T.confirmTransitionTo(a,o,v,function(e){if(e){var i=B(a),r=a.key,c=a.state;if(n)if(t.replaceState({key:r,state:c},null,i),l)window.location.replace(i);else{var d=R.indexOf(q.location.key);-1!==d&&(R[d]=a.key),C({action:o,location:a})}else(0,s.default)(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(i)}})},I=function(e){t.go(e)},N=function(){return I(-1)},D=function(){return I(1)},H=0,F=function(e){H+=e,1===H?((0,f.addEventListener)(window,m,E),i&&(0,f.addEventListener)(window,g,S)):0===H&&((0,f.removeEventListener)(window,m,E),i&&(0,f.removeEventListener)(window,g,S))},M=!1,U=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=T.setPrompt(e);return M||(F(1),M=!0),function(){return M&&(M=!1,F(-1)),t()}},z=function(e){var t=T.appendListener(e);return F(1),function(){F(-1),t()}},q={length:t.length,action:"POP",location:j,createHref:B,push:$,replace:L,go:I,goBack:N,goForward:D,block:U,listen:z};return q};t.default=v},"./node_modules/react-router-dom/node_modules/history/createHashHistory.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n("./node_modules/warning/browser.js"),a=i(o),s=n("./node_modules/invariant/browser.js"),l=i(s),c=n("./node_modules/react-router-dom/node_modules/history/LocationUtils.js"),d=n("./node_modules/react-router-dom/node_modules/history/PathUtils.js"),u=n("./node_modules/react-router-dom/node_modules/history/createTransitionManager.js"),h=i(u),p=n("./node_modules/react-router-dom/node_modules/history/DOMUtils.js"),f="hashchange",m={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,d.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d.stripLeadingSlash,decodePath:d.addLeadingSlash},slash:{encodePath:d.addLeadingSlash,decodePath:d.addLeadingSlash}},g=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},b=function(e){return window.location.hash=e},v=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.default)(p.canUseDOM,"Hash history needs a DOM");var t=window.history,n=(0,p.supportsGoWithoutReloadUsingHash)(),i=e.getUserConfirmation,o=void 0===i?p.getConfirmation:i,s=e.hashType,u=void 0===s?"slash":s,y=e.basename?(0,d.stripTrailingSlash)((0,d.addLeadingSlash)(e.basename)):"",w=m[u],k=w.encodePath,x=w.decodePath,_=function(){var e=x(g());return(0,a.default)(!y||(0,d.hasBasename)(e,y),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+y+'".'),y&&(e=(0,d.stripBasename)(e,y)),(0,c.createLocation)(e)},T=(0,h.default)(),C=function(e){r(W,e),W.length=t.length,T.notifyListeners(W.location,W.action)},E=!1,S=null,P=function(){var e=g(),t=k(e);if(e!==t)v(t);else{var n=_(),i=W.location;if(!E&&(0,c.locationsAreEqual)(i,n))return;if(S===(0,d.createPath)(n))return;S=null,O(n)}},O=function(e){if(E)E=!1,C();else{var t="POP";T.confirmTransitionTo(e,t,o,function(n){n?C({action:t,location:e}):A(e)})}},A=function(e){var t=W.location,n=$.lastIndexOf((0,d.createPath)(t));-1===n&&(n=0);var i=$.lastIndexOf((0,d.createPath)(e));-1===i&&(i=0);var r=n-i;r&&(E=!0,D(r))},j=g(),R=k(j);j!==R&&v(R);var B=_(),$=[(0,d.createPath)(B)],L=function(e){return"#"+k(y+(0,d.createPath)(e))},I=function(e,t){(0,a.default)(void 0===t,"Hash history cannot push state; it is ignored");var n="PUSH",i=(0,c.createLocation)(e,void 0,void 0,W.location);T.confirmTransitionTo(i,n,o,function(e){if(e){var t=(0,d.createPath)(i),r=k(y+t);if(g()!==r){S=t,b(r);var o=$.lastIndexOf((0,d.createPath)(W.location)),s=$.slice(0,-1===o?0:o+1);s.push(t),$=s,C({action:n,location:i})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),C()}})},N=function(e,t){(0,a.default)(void 0===t,"Hash history cannot replace state; it is ignored");var n="REPLACE",i=(0,c.createLocation)(e,void 0,void 0,W.location);T.confirmTransitionTo(i,n,o,function(e){if(e){var t=(0,d.createPath)(i),r=k(y+t);g()!==r&&(S=t,v(r));var o=$.indexOf((0,d.createPath)(W.location));-1!==o&&($[o]=t),C({action:n,location:i})}})},D=function(e){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},H=function(){return D(-1)},F=function(){return D(1)},M=0,U=function(e){M+=e,1===M?(0,p.addEventListener)(window,f,P):0===M&&(0,p.removeEventListener)(window,f,P)},z=!1,q=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=T.setPrompt(e);return z||(U(1),z=!0),function(){return z&&(z=!1,U(-1)),t()}},V=function(e){var t=T.appendListener(e);return U(1),function(){U(-1),t()}},W={length:t.length,action:"POP",location:B,createHref:L,push:I,replace:N,go:D,goBack:H,goForward:F,block:q,listen:V};return W};t.default=y},"./node_modules/react-router-dom/node_modules/history/createTransitionManager.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n("./node_modules/warning/browser.js"),o=i(r),a=function(){var e=null,t=function(t){return(0,o.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,i,r){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof i?i(a,r):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==a)}else r(!0)},i=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return i.push(n),function(){t=!1,i=i.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.forEach(function(e){return e.apply(void 0,t)})}}};t.default=a},"./node_modules/react-router/es/MemoryRouter.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/warning/browser.js"),s=n.n(a),l=n("./node_modules/react/react.js"),c=n.n(l),d=n("./node_modules/react-router/node_modules/prop-types/index.js"),u=n.n(d),h=n("./node_modules/react-router/node_modules/history/createMemoryHistory.js"),p=n.n(h),f=n("./node_modules/react-router/es/Router.js"),m=function(e){function t(){var n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,e.call.apply(e,[this].concat(l))),o.history=p()(o.props),a=n,r(o,a)}return o(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(f.a,{history:this.history,children:this.props.children})},t}(c.a.Component);m.propTypes={initialEntries:u.a.array,initialIndex:u.a.number,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node},t.a=m},"./node_modules/react-router/es/Prompt.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/react/react.js"),s=n.n(a),l=n("./node_modules/react-router/node_modules/prop-types/index.js"),c=n.n(l),d=n("./node_modules/invariant/browser.js"),u=n.n(d),h=function(e){function t(){return i(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){u()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(s.a.Component);h.propTypes={when:c.a.bool,message:c.a.oneOfType([c.a.func,c.a.string]).isRequired},h.defaultProps={when:!0},h.contextTypes={router:c.a.shape({history:c.a.shape({block:c.a.func.isRequired}).isRequired}).isRequired},t.a=h},"./node_modules/react-router/es/Redirect.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/react/react.js"),s=n.n(a),l=n("./node_modules/react-router/node_modules/prop-types/index.js"),c=n.n(l),d=n("./node_modules/warning/browser.js"),u=n.n(d),h=n("./node_modules/invariant/browser.js"),p=n.n(h),f=n("./node_modules/react-router/node_modules/history/es/index.js"),m=function(e){function t(){return i(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(f.a)(e.to),n=Object(f.a)(this.props.to);if(Object(f.b)(t,n))return void u()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"');this.perform()},t.prototype.perform=function(){var e=this.context.router.history,t=this.props,n=t.push,i=t.to;n?e.push(i):e.replace(i)},t.prototype.render=function(){return null},t}(s.a.Component);m.propTypes={push:c.a.bool,from:c.a.string,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired},m.defaultProps={push:!1},m.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired}).isRequired,staticContext:c.a.object}).isRequired},t.a=m},"./node_modules/react-router/es/Route.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/warning/browser.js"),s=n.n(a),l=n("./node_modules/invariant/browser.js"),c=n.n(l),d=n("./node_modules/react/react.js"),u=n.n(d),h=n("./node_modules/react-router/node_modules/prop-types/index.js"),p=n.n(h),f=n("./node_modules/react-router/es/matchPath.js"),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},g=function(e){return 0===u.a.Children.count(e)},b=function(e){function t(){var n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,e.call.apply(e,[this].concat(l))),o.state={match:o.computeMatch(o.props,o.context.router)},a=n,r(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:m({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,i=e.location,r=e.path,o=e.strict,a=e.exact,s=e.sensitive;if(n)return n;c()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,d=(i||l.location).pathname;return r?Object(f.a)(d,{path:r,strict:o,exact:a,sensitive:s}):l.match},t.prototype.componentWillMount=function(){s()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s()(!(this.props.component&&this.props.children&&!g(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s()(!(this.props.render&&this.props.children&&!g(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){s()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,i=t.component,r=t.render,o=this.context.router,a=o.history,s=o.route,l=o.staticContext,c=this.props.location||s.location,d={match:e,location:c,history:a,staticContext:l};return i?e?u.a.createElement(i,d):null:r?e?r(d):null:n?"function"==typeof n?n(d):g(n)?null:u.a.Children.only(n):null},t}(u.a.Component);b.propTypes={computedMatch:p.a.object,path:p.a.string,exact:p.a.bool,strict:p.a.bool,sensitive:p.a.bool,component:p.a.func,render:p.a.func,children:p.a.oneOfType([p.a.func,p.a.node]),location:p.a.object},b.contextTypes={router:p.a.shape({history:p.a.object.isRequired,route:p.a.object.isRequired,staticContext:p.a.object})},b.childContextTypes={router:p.a.object.isRequired},t.a=b},"./node_modules/react-router/es/Router.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/warning/browser.js"),s=n.n(a),l=n("./node_modules/invariant/browser.js"),c=n.n(l),d=n("./node_modules/react/react.js"),u=n.n(d),h=n("./node_modules/react-router/node_modules/prop-types/index.js"),p=n.n(h),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m=function(e){function t(){var n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,e.call.apply(e,[this].concat(l))),o.state={match:o.computeMatch(o.props.history.location.pathname)},a=n,r(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:f({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,i=t.history;c()(null==n||1===u.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=i.listen(function(){e.setState({match:e.computeMatch(i.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){s()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?u.a.Children.only(e):null},t}(u.a.Component);m.propTypes={history:p.a.object.isRequired,children:p.a.node},m.contextTypes={router:p.a.object},m.childContextTypes={router:p.a.object.isRequired},t.a=m},"./node_modules/react-router/es/StaticRouter.js":function(e,t,n){"use strict";function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/warning/browser.js"),l=n.n(s),c=n("./node_modules/invariant/browser.js"),d=n.n(c),u=n("./node_modules/react/react.js"),h=n.n(u),p=n("./node_modules/react-router/node_modules/prop-types/index.js"),f=n.n(p),m=n("./node_modules/react-router/node_modules/history/PathUtils.js"),g=(n.n(m),n("./node_modules/react-router/es/Router.js")),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v=function(e){var t=e.pathname,n=void 0===t?"/":t,i=e.search,r=void 0===i?"":i,o=e.hash,a=void 0===o?"":o;return{pathname:n,search:"?"===r?"":r,hash:"#"===a?"":a}},y=function(e,t){return e?b({},t,{pathname:Object(m.addLeadingSlash)(e)+t.pathname}):t},w=function(e,t){if(!e)return t;var n=Object(m.addLeadingSlash)(e);return 0!==t.pathname.indexOf(n)?t:b({},t,{pathname:t.pathname.substr(n.length)})},k=function(e){return"string"==typeof e?Object(m.parsePath)(e):v(e)},x=function(e){return"string"==typeof e?e:Object(m.createPath)(e)},_=function(e){return function(){d()(!1,"You cannot %s with <StaticRouter>",e)}},T=function(){},C=function(e){function t(){var n,i,a;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=i=o(this,e.call.apply(e,[this].concat(l))),i.createHref=function(e){return Object(m.addLeadingSlash)(i.props.basename+x(e))},i.handlePush=function(e){var t=i.props,n=t.basename,r=t.context;r.action="PUSH",r.location=y(n,k(e)),r.url=x(r.location)},i.handleReplace=function(e){var t=i.props,n=t.basename,r=t.context;r.action="REPLACE",r.location=y(n,k(e)),r.url=x(r.location)},i.handleListen=function(){return T},i.handleBlock=function(){return T},a=n,o(i,a)}return a(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){l()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),r=i(e,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:w(t,k(n)),push:this.handlePush,replace:this.handleReplace,go:_("go"),goBack:_("goBack"),goForward:_("goForward"),listen:this.handleListen,block:this.handleBlock};return h.a.createElement(g.a,b({},r,{history:o}))},t}(h.a.Component);C.propTypes={basename:f.a.string,context:f.a.object.isRequired,location:f.a.oneOfType([f.a.string,f.a.object])},C.defaultProps={basename:"",location:"/"},C.childContextTypes={router:f.a.object.isRequired},t.a=C},"./node_modules/react-router/es/Switch.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/react/react.js"),s=n.n(a),l=n("./node_modules/react-router/node_modules/prop-types/index.js"),c=n.n(l),d=n("./node_modules/warning/browser.js"),u=n.n(d),h=n("./node_modules/invariant/browser.js"),p=n.n(h),f=n("./node_modules/react-router/es/matchPath.js"),m=function(e){function t(){return i(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){u()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),u()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,i=void 0,r=void 0;return s.a.Children.forEach(t,function(t){if(s.a.isValidElement(t)){var o=t.props,a=o.path,l=o.exact,c=o.strict,d=o.sensitive,u=o.from,h=a||u;null==i&&(r=t,i=h?Object(f.a)(n.pathname,{path:h,exact:l,strict:c,sensitive:d}):e.match)}}),i?s.a.cloneElement(r,{location:n,computedMatch:i}):null},t}(s.a.Component);m.contextTypes={router:c.a.shape({route:c.a.object.isRequired}).isRequired},m.propTypes={children:c.a.node,location:c.a.object},t.a=m},"./node_modules/react-router/es/index.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/es/MemoryRouter.js");n.d(t,"a",function(){return i.a});var r=n("./node_modules/react-router/es/Prompt.js");n.d(t,"b",function(){return r.a});var o=n("./node_modules/react-router/es/Redirect.js");n.d(t,"c",function(){return o.a});var a=n("./node_modules/react-router/es/Route.js");n.d(t,"d",function(){return a.a});var s=n("./node_modules/react-router/es/Router.js");n.d(t,"e",function(){return s.a});var l=n("./node_modules/react-router/es/StaticRouter.js");n.d(t,"f",function(){return l.a});var c=n("./node_modules/react-router/es/Switch.js");n.d(t,"g",function(){return c.a});var d=n("./node_modules/react-router/es/matchPath.js");n.d(t,"h",function(){return d.a});var u=n("./node_modules/react-router/es/withRouter.js");n.d(t,"i",function(){return u.a})},"./node_modules/react-router/es/matchPath.js":function(e,t,n){"use strict";var i=n("./node_modules/react-router/node_modules/path-to-regexp/index.js"),r=n.n(i),o={},a=1e4,s=0,l=function(e,t){var n=""+t.end+t.strict+t.sensitive,i=o[n]||(o[n]={});if(i[e])return i[e];var l=[],c=r()(e,l,t),d={re:c,keys:l};return s<a&&(i[e]=d,s++),d},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t={path:t});var n=t,i=n.path,r=void 0===i?"/":i,o=n.exact,a=void 0!==o&&o,s=n.strict,c=void 0!==s&&s,d=n.sensitive,u=void 0!==d&&d,h=l(r,{end:a,strict:c,sensitive:u}),p=h.re,f=h.keys,m=p.exec(e);if(!m)return null;var g=m[0],b=m.slice(1),v=e===g;return a&&!v?null:{path:r,url:"/"===r&&""===g?"/":g,isExact:v,params:f.reduce(function(e,t,n){return e[t.name]=b[n],e},{})}};t.a=c},"./node_modules/react-router/es/withRouter.js":function(e,t,n){"use strict";function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var r=n("./node_modules/react/react.js"),o=n.n(r),a=n("./node_modules/react-router/node_modules/prop-types/index.js"),s=n.n(a),l=n("./node_modules/react-router/node_modules/hoist-non-react-statics/index.js"),c=n.n(l),d=n("./node_modules/react-router/es/Route.js"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h=function(e){var t=function(t){var n=t.wrappedComponentRef,r=i(t,["wrappedComponentRef"]);return o.a.createElement(d.a,{render:function(t){return o.a.createElement(e,u({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:s.a.func},c()(t,e)};t.a=h},"./node_modules/react-router/node_modules/history/LocationUtils.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n("./node_modules/resolve-pathname/index.js"),a=i(o),s=n("./node_modules/value-equal/index.js"),l=i(s),c=n("./node_modules/react-router/node_modules/history/PathUtils.js");t.createLocation=function(e,t,n,i){var o=void 0;"string"==typeof e?(o=(0,c.parsePath)(e),o.state=t):(o=r({},e),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,a.default)(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,l.default)(e.state,t.state)}},"./node_modules/react-router/node_modules/history/PathUtils.js":function(e,t,n){"use strict";t.__esModule=!0;var i=(t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)});t.stripBasename=function(e,t){return i(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}},t.createPath=function(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}},"./node_modules/react-router/node_modules/history/createMemoryHistory.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n("./node_modules/warning/browser.js"),s=i(a),l=n("./node_modules/react-router/node_modules/history/PathUtils.js"),c=n("./node_modules/react-router/node_modules/history/LocationUtils.js"),d=n("./node_modules/react-router/node_modules/history/createTransitionManager.js"),u=i(d),h=function(e,t,n){return Math.min(Math.max(e,t),n)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,i=void 0===n?["/"]:n,a=e.initialIndex,d=void 0===a?0:a,p=e.keyLength,f=void 0===p?6:p,m=(0,u.default)(),g=function(e){o(O,e),O.length=O.entries.length,m.notifyListeners(O.location,O.action)},b=function(){return Math.random().toString(36).substr(2,f)},v=h(d,0,i.length-1),y=i.map(function(e){return"string"==typeof e?(0,c.createLocation)(e,void 0,b()):(0,c.createLocation)(e,void 0,e.key||b())}),w=l.createPath,k=function(e,n){(0,s.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i="PUSH",o=(0,c.createLocation)(e,n,b(),O.location);m.confirmTransitionTo(o,i,t,function(e){if(e){var t=O.index,n=t+1,r=O.entries.slice(0);r.length>n?r.splice(n,r.length-n,o):r.push(o),g({action:i,location:o,index:n,entries:r})}})},x=function(e,n){(0,s.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i="REPLACE",o=(0,c.createLocation)(e,n,b(),O.location);m.confirmTransitionTo(o,i,t,function(e){e&&(O.entries[O.index]=o,g({action:i,location:o}))})},_=function(e){var n=h(O.index+e,0,O.entries.length-1),i="POP",r=O.entries[n];m.confirmTransitionTo(r,i,t,function(e){e?g({action:i,location:r,index:n}):g()})},T=function(){return _(-1)},C=function(){return _(1)},E=function(e){var t=O.index+e;return t>=0&&t<O.entries.length},S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.setPrompt(e)},P=function(e){return m.appendListener(e)},O={length:y.length,action:"POP",location:y[v],index:v,entries:y,createHref:w,push:k,replace:x,go:_,goBack:T,goForward:C,canGo:E,block:S,listen:P};return O};t.default=p},"./node_modules/react-router/node_modules/history/createTransitionManager.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n("./node_modules/warning/browser.js"),o=i(r),a=function(){var e=null,t=function(t){return(0,o.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,i,r){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof i?i(a,r):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==a)}else r(!0)},i=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return i.push(n),function(){t=!1,i=i.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.forEach(function(e){return e.apply(void 0,t)})}}};t.default=a},"./node_modules/react-router/node_modules/history/es/DOMUtils.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return d});var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},o=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},a=function(e,t){return t(window.confirm(e))},s=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},l=function(){return-1===window.navigator.userAgent.indexOf("Trident")},c=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},d=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},"./node_modules/react-router/node_modules/history/es/LocationUtils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l});var i=n("./node_modules/resolve-pathname/index.js"),r=n("./node_modules/value-equal/index.js"),o=n("./node_modules/react-router/node_modules/history/es/PathUtils.js"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(e,t,n,r){var s=void 0;"string"==typeof e?(s=Object(o.d)(e),s.state=t):(s=a({},e),void 0===s.pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),r?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=Object(i.default)(s.pathname,r.pathname)):s.pathname=r.pathname:s.pathname||(s.pathname="/"),s},l=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(r.default)(e.state,t.state)}},"./node_modules/react-router/node_modules/history/es/PathUtils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"f",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return c});var i=function(e){return"/"===e.charAt(0)?e:"/"+e},r=function(e){return"/"===e.charAt(0)?e.substr(1):e},o=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},a=function(e,t){return o(e,t)?e.substr(t.length):e},s=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},l=function(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}},c=function(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}},"./node_modules/react-router/node_modules/history/es/createBrowserHistory.js":function(e,t,n){"use strict";var i=n("./node_modules/warning/browser.js"),r=(n.n(i),n("./node_modules/invariant/browser.js"));n.n(r),n("./node_modules/react-router/node_modules/history/es/LocationUtils.js"),n("./node_modules/react-router/node_modules/history/es/PathUtils.js"),n("./node_modules/react-router/node_modules/history/es/createTransitionManager.js"),n("./node_modules/react-router/node_modules/history/es/DOMUtils.js"),"function"==typeof Symbol&&Symbol.iterator,Object.assign},"./node_modules/react-router/node_modules/history/es/createHashHistory.js":function(e,t,n){"use strict";var i=n("./node_modules/warning/browser.js"),r=(n.n(i),n("./node_modules/invariant/browser.js")),o=(n.n(r),n("./node_modules/react-router/node_modules/history/es/LocationUtils.js"),n("./node_modules/react-router/node_modules/history/es/PathUtils.js"));n("./node_modules/react-router/node_modules/history/es/createTransitionManager.js"),n("./node_modules/react-router/node_modules/history/es/DOMUtils.js"),Object.assign,o.f,o.a,o.a,o.a},"./node_modules/react-router/node_modules/history/es/createMemoryHistory.js":function(e,t,n){"use strict";var i=n("./node_modules/warning/browser.js");n.n(i),n("./node_modules/react-router/node_modules/history/es/PathUtils.js"),n("./node_modules/react-router/node_modules/history/es/LocationUtils.js"),n("./node_modules/react-router/node_modules/history/es/createTransitionManager.js"),"function"==typeof Symbol&&Symbol.iterator,Object.assign},"./node_modules/react-router/node_modules/history/es/createTransitionManager.js":function(e,t,n){"use strict";var i=n("./node_modules/warning/browser.js"),r=n.n(i),o=function(){var e=null,t=function(t){return r()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,i,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof i?i(a,o):(r()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},i=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return i.push(n),function(){t=!1,i=i.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.forEach(function(e){return e.apply(void 0,t)})}}};t.a=o},"./node_modules/react-router/node_modules/history/es/index.js":function(e,t,n){"use strict";var i=(n("./node_modules/react-router/node_modules/history/es/createBrowserHistory.js"),n("./node_modules/react-router/node_modules/history/es/createHashHistory.js"),n("./node_modules/react-router/node_modules/history/es/createMemoryHistory.js"),n("./node_modules/react-router/node_modules/history/es/LocationUtils.js"));n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b});n("./node_modules/react-router/node_modules/history/es/PathUtils.js")},"./node_modules/react-router/node_modules/hoist-non-react-statics/index.js":function(e,t,n){"use strict";var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,d=c&&c(Object);e.exports=function e(t,n,u){if("string"!=typeof n){if(d){var h=c(n);h&&h!==d&&e(t,h,u)}var p=a(n);s&&(p=p.concat(s(n)));for(var f=0;f<p.length;++f){var m=p[f];if(!(i[m]||r[m]||u&&u[m])){var g=l(n,m);try{o(t,m,g)}catch(e){}}}return t}return t}},"./node_modules/react-router/node_modules/path-to-regexp/index.js":function(e,t,n){function i(e,t){for(var n,i=[],r=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=v.exec(e));){var d=n[0],u=n[1],h=n.index;if(a+=e.slice(o,h),o=h+d.length,u)a+=u[1];else{var p=e[o],f=n[2],m=n[3],g=n[4],b=n[5],y=n[6],w=n[7];a&&(i.push(a),a="");var k=null!=f&&null!=p&&p!==f,x="+"===y||"*"===y,_="?"===y||"*"===y,T=n[2]||s,C=g||b;i.push({name:m||r++,prefix:f||"",delimiter:T,optional:_,repeat:x,partial:k,asterisk:!!w,pattern:C?c(C):w?".*":"[^"+l(T)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&i.push(a),i}function r(e,t){return s(i(e,t))}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var r="",s=n||{},l=i||{},c=l.pretty?o:encodeURIComponent,d=0;d<e.length;d++){var u=e[d];if("string"!=typeof u){var h,p=s[u.name];if(null==p){if(u.optional){u.partial&&(r+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(b(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(h=c(p[f]),!t[d].test(h))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(h)+"`");r+=(0===f?u.prefix:u.delimiter)+h}}else{if(h=u.asterisk?a(p):c(p),!t[d].test(h))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+h+'"');r+=u.prefix+h}}else r+=u}return r}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function u(e){return e.sensitive?"":"i"}function h(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}function p(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(g(e[r],t,n).source);return d(new RegExp("(?:"+i.join("|")+")",u(n)),t)}function f(e,t,n){return m(i(e,n),t,n)}function m(e,t,n){b(t)||(n=t||n,t=[]),n=n||{};for(var i=n.strict,r=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=l(s);else{var c=l(s.prefix),h="(?:"+s.pattern+")";t.push(s),s.repeat&&(h+="(?:"+c+h+")*"),h=s.optional?s.partial?c+"("+h+")?":"(?:"+c+"("+h+"))?":c+"("+h+")",o+=h}}var p=l(n.delimiter||"/"),f=o.slice(-p.length)===p;return i||(o=(f?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=r?"$":i&&f?"":"(?="+p+"|$)",d(new RegExp("^"+o,u(n)),t)}function g(e,t,n){return b(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?h(e,t):b(e)?p(e,t,n):f(e,t,n)}var b=n("./node_modules/isarray/index.js");e.exports=g,e.exports.parse=i,e.exports.compile=r,e.exports.tokensToFunction=s,e.exports.tokensToRegExp=m;var v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},"./node_modules/react-router/node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,n){"use strict";var i=n("./node_modules/fbjs/lib/emptyFunction.js"),r=n("./node_modules/fbjs/lib/invariant.js"),o=n("./node_modules/react-router/node_modules/prop-types/lib/ReactPropTypesSecret.js");e.exports=function(){function e(e,t,n,i,a,s){s!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},"./node_modules/react-router/node_modules/prop-types/index.js":function(e,t,n){e.exports=n("./node_modules/react-router/node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/react-router/node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/resolve-pathname/index.js":function(e,t,n){"use strict";function i(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&i(e),s=t&&i(t),l=a||s;if(e&&i(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var c=void 0;if(o.length){var d=o[o.length-1];c="."===d||".."===d||""===d}else c=!1;for(var u=0,h=o.length;h>=0;h--){var p=o[h];"."===p?r(o,h):".."===p?(r(o,h),u++):u&&(r(o,h),u--)}if(!l)for(;u--;u)o.unshift("..");!l||""===o[0]||o[0]&&i(o[0])||o.unshift("");var f=o.join("/");return c&&"/"!==f.substr(-1)&&(f+="/"),f}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},"./node_modules/value-equal/index.js":function(e,t,n){"use strict";function i(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return i(e,t[n])});var n=void 0===e?"undefined":r(e);if(n!==(void 0===t?"undefined":r(t)))return!1;if("object"===n){var o=e.valueOf(),a=t.valueOf();if(o!==e||a!==t)return i(o,a);var s=Object.keys(e),l=Object.keys(t);return s.length===l.length&&s.every(function(n){return i(e[n],t[n])})}return!1}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i},"./node_modules/velocity-animate/velocity.js":function(e,t,n){(function(i,r){var o,a;/*! VelocityJS.org (1.5.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(e){"use strict";function t(e){var t=e.length,i=n.type(e);return"function"!==i&&!n.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}if(!i){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return e&&e===e.window},n.type=function(e){return e?"object"==typeof e||"function"==typeof e?o[s.call(e)]||"object":typeof e:e+""},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||a.call(e,t)},n.each=function(e,n,i){var r=0,o=e.length,a=t(e);if(i){if(a)for(;r<o&&!1!==n.apply(e[r],i);r++);else for(r in e)if(e.hasOwnProperty(r)&&!1===n.apply(e[r],i))break}else if(a)for(;r<o&&!1!==n.call(e[r],r,e[r]);r++);else for(r in e)if(e.hasOwnProperty(r)&&!1===n.call(e[r],r,e[r]))break;return e},n.data=function(e,t,i){if(void 0===i){var o=e[n.expando],a=o&&r[o];if(void 0===t)return a;if(a&&t in a)return a[t]}else if(void 0!==t){var s=e[n.expando]||(e[n.expando]=++n.uuid);return r[s]=r[s]||{},r[s][t]=i,i}},n.removeData=function(e,t){var i=e[n.expando],o=i&&r[i];o&&(t?n.each(t,function(e,t){delete o[t]}):delete r[i])},n.extend=function(){var e,t,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[l]||{},l++),"object"!=typeof s&&"function"!==n.type(s)&&(s={}),l===c&&(s=this,l--);l<c;l++)if(o=arguments[l])for(r in o)o.hasOwnProperty(r)&&(e=s[r],i=o[r],s!==i&&(d&&i&&(n.isPlainObject(i)||(t=n.isArray(i)))?(t?(t=!1,a=e&&n.isArray(e)?e:[]):a=e&&n.isPlainObject(e)?e:{},s[r]=n.extend(d,a,i)):void 0!==i&&(s[r]=i)));return s},n.queue=function(e,i,r){function o(e,n){var i=n||[];return e&&(t(Object(e))?function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];e.length=r}(i,"string"==typeof e?[e]:e):[].push.call(i,e)),i}if(e){i=(i||"fx")+"queue";var a=n.data(e,i);return r?(!a||n.isArray(r)?a=n.data(e,i,o(r)):a.push(r),a):a||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,i){t=t||"fx";var r=n.queue(i,t),o=r.shift();"inprogress"===o&&(o=r.shift()),o&&("fx"===t&&r.unshift("inprogress"),o.call(i,function(){n.dequeue(i,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position;)t=t.offsetParent;return t||document}var t=this[0],i=e(t),r=this.offset(),o=/^(?:body|html)$/i.test(i.nodeName)?{top:0,left:0}:n(i).offset();return r.top-=parseFloat(t.style.marginTop)||0,r.left-=parseFloat(t.style.marginLeft)||0,i.style&&(o.top+=parseFloat(i.style.borderTopWidth)||0,o.left+=parseFloat(i.style.borderLeftWidth)||0),{top:r.top-o.top,left:r.left-o.left}}};var r={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var o={},a=o.hasOwnProperty,s=o.toString,l="Boolean Number String Function Array Date RegExp Object Error".split(" "),c=0;c<l.length;c++)o["[object "+l[c]+"]"]=l[c].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=i():(o=i,void 0!==(a="function"==typeof o?o.call(t,n,t,e):o)&&(e.exports=a))}(function(){"use strict";return function(e,t,n,i){function o(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}function a(e){return k.isWrapped(e)?e=y.call(e):k.isNode(e)&&(e=[e]),e}function s(e){var t=m.data(e,"velocity");return null===t?i:t}function l(e,t){var n=s(e);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-t+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function c(e,t){var n=s(e);n&&n.delayTimer&&n.delayPaused&&(n.delayPaused=!1,n.delayTimer.setTimeout=setTimeout(n.delayTimer.next,n.delayRemaining))}function d(e){return function(t){return Math.round(t*e)*(1/e)}}function u(e,n,i,r){function o(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function s(e){return 3*e}function l(e,t,n){return((o(t,n)*e+a(t,n))*e+s(t))*e}function c(e,t,n){return 3*o(t,n)*e*e+2*a(t,n)*e+s(t)}function d(t,n){for(var r=0;r<m;++r){var o=c(n,e,i);if(0===o)return n;n-=(l(n,e,i)-t)/o}return n}function u(){for(var t=0;t<y;++t)_[t]=l(t*w,e,i)}function h(t,n,r){var o,a,s=0;do{a=n+(r-n)/2,o=l(a,e,i)-t,o>0?r=a:n=a}while(Math.abs(o)>b&&++s<v);return a}function p(t){for(var n=0,r=1,o=y-1;r!==o&&_[r]<=t;++r)n+=w;--r;var a=(t-_[r])/(_[r+1]-_[r]),s=n+a*w,l=c(s,e,i);return l>=g?d(t,s):0===l?s:h(t,n,n+w)}function f(){T=!0,e===n&&i===r||u()}var m=4,g=.001,b=1e-7,v=10,y=11,w=1/(y-1),k="Float32Array"in t;if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;e=Math.min(e,1),i=Math.min(i,1),e=Math.max(e,0),i=Math.max(i,0);var _=k?new Float32Array(y):new Array(y),T=!1,C=function(t){return T||f(),e===n&&i===r?t:0===t?0:1===t?1:l(p(t),n,r)};C.getControlPoints=function(){return[{x:e,y:n},{x:i,y:r}]};var E="generateBezier("+[e,n,i,r]+")";return C.toString=function(){return E},C}function h(e,t){var n=e;return k.isString(e)?C.Easings[e]||(n=!1):n=k.isArray(e)&&1===e.length?d.apply(null,e):k.isArray(e)&&2===e.length?E.apply(null,e.concat([t])):!(!k.isArray(e)||4!==e.length)&&u.apply(null,e),!1===n&&(n=C.Easings[C.defaults.easing]?C.defaults.easing:T),n}function p(e){if(e){var t=C.timestamp&&!0!==e?e:v.now(),n=C.State.calls.length;n>1e4&&(C.State.calls=o(C.State.calls),n=C.State.calls.length);for(var r=0;r<n;r++)if(C.State.calls[r]){var a=C.State.calls[r],l=a[0],c=a[2],d=a[3],u=!!d,h=null,b=a[5],y=a[6];if(d||(d=C.State.calls[r][3]=t-16),b){if(!0!==b.resume)continue;d=a[3]=Math.round(t-y-16),a[5]=null}y=a[6]=t-d;for(var w=Math.min(y/c.duration,1),x=0,_=l.length;x<_;x++){var T=l[x],E=T.element;if(s(E)){var P=!1;if(c.display!==i&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var A=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];m.each(A,function(e,t){S.setPropertyValue(E,"display",t)})}S.setPropertyValue(E,"display",c.display)}c.visibility!==i&&"hidden"!==c.visibility&&S.setPropertyValue(E,"visibility",c.visibility);for(var j in T)if(T.hasOwnProperty(j)&&"element"!==j){var R,B=T[j],$=k.isString(B.easing)?C.Easings[B.easing]:B.easing;if(k.isString(B.pattern)){var L=1===w?function(e,t,n){var i=B.endValue[t];return n?Math.round(i):i}:function(e,t,n){var i=B.startValue[t],r=B.endValue[t]-i,o=i+r*$(w,c,r);return n?Math.round(o):o};R=B.pattern.replace(/{(\d+)(!)?}/g,L)}else if(1===w)R=B.endValue;else{var I=B.endValue-B.startValue;R=B.startValue+I*$(w,c,I)}if(!u&&R===B.currentValue)continue;if(B.currentValue=R,"tween"===j)h=R;else{var N;if(S.Hooks.registered[j]){N=S.Hooks.getRoot(j);var D=s(E).rootPropertyValueCache[N];D&&(B.rootPropertyValue=D)}var H=S.setPropertyValue(E,j,B.currentValue+(g<9&&0===parseFloat(R)?"":B.unitType),B.rootPropertyValue,B.scrollData);S.Hooks.registered[j]&&(S.Normalizations.registered[N]?s(E).rootPropertyValueCache[N]=S.Normalizations.registered[N]("extract",null,H[1]):s(E).rootPropertyValueCache[N]=H[1]),"transform"===H[0]&&(P=!0)}}c.mobileHA&&s(E).transformCache.translate3d===i&&(s(E).transformCache.translate3d="(0px, 0px, 0px)",P=!0),P&&S.flushTransformCache(E)}}c.display!==i&&"none"!==c.display&&(C.State.calls[r][2].display=!1),c.visibility!==i&&"hidden"!==c.visibility&&(C.State.calls[r][2].visibility=!1),c.progress&&c.progress.call(a[1],a[1],w,Math.max(0,d+c.duration-t),d,h),1===w&&f(r)}}C.State.isTicking&&O(p)}function f(e,t){if(!C.State.calls[e])return!1;for(var n=C.State.calls[e][0],r=C.State.calls[e][1],o=C.State.calls[e][2],a=C.State.calls[e][4],l=!1,c=0,d=n.length;c<d;c++){var u=n[c].element;t||o.loop||("none"===o.display&&S.setPropertyValue(u,"display",o.display),"hidden"===o.visibility&&S.setPropertyValue(u,"visibility",o.visibility));var h=s(u);if(!0!==o.loop&&(m.queue(u)[1]===i||!/\.velocityQueueEntryFlag/i.test(m.queue(u)[1]))&&h){h.isAnimating=!1,h.rootPropertyValueCache={};var p=!1;m.each(S.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,r=h.transformCache[t];h.transformCache[t]!==i&&new RegExp("^\\("+n+"[^.]").test(r)&&(p=!0,delete h.transformCache[t])}),o.mobileHA&&(p=!0,delete h.transformCache.translate3d),p&&S.flushTransformCache(u),S.Values.removeClass(u,"velocity-animating")}if(!t&&o.complete&&!o.loop&&c===d-1)try{o.complete.call(r,r)}catch(e){setTimeout(function(){throw e},1)}a&&!0!==o.loop&&a(r),h&&!0===o.loop&&!t&&(m.each(h.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var n=t.startValue;t.startValue=t.endValue,t.endValue=n}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),C(u,"reverse",{loop:!0,delay:o.delay})),!1!==o.queue&&m.dequeue(u,o.queue)}C.State.calls[e]=!1;for(var f=0,g=C.State.calls.length;f<g;f++)if(!1!==C.State.calls[f]){l=!0;break}!1===l&&(C.State.isTicking=!1,delete C.State.calls,C.State.calls=[])}var m,g=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return i}(),b=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,i=(new Date).getTime();return n=Math.max(0,16-(i-e)),e=i+n,setTimeout(function(){t(i+n)},n)}}(),v=function(){var e=t.performance||{};if("function"!=typeof e.now){var n=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-n}}return e}(),y=function(){var e=Array.prototype.slice;try{return e.call(n.documentElement),e}catch(t){return function(t,n){var i=this.length;if("number"!=typeof t&&(t=0),"number"!=typeof n&&(n=i),this.slice)return e.call(this,t,n);var r,o=[],a=t>=0?t:Math.max(0,i+t),s=n<0?i+n:Math.min(n,i),l=s-a;if(l>0)if(o=new Array(l),this.charAt)for(r=0;r<l;r++)o[r]=this.charAt(a+r);else for(r=0;r<l;r++)o[r]=this[a+r];return o}}}(),w=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return e.indexOf(t)>=0}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}},k={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==t&&k.isNumber(e.length)&&!k.isString(e)&&!k.isFunction(e)&&!k.isNode(e)&&(0===e.length||k.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},x=!1;if(e.fn&&e.fn.jquery?(m=e,x=!0):m=t.Velocity.Utilities,g<=8&&!x)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(g<=7)return void(r.fn.velocity=r.fn.animate);var _=400,T="swing",C={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:m,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:_,easing:T,begin:i,complete:i,progress:i,display:i,visibility:i,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){m.data(e,"velocity",{isSVG:k.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:0},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();m.each(C.State.calls,function(t,n){if(n){if(e!==i&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]={resume:!1}}}),m.each(C.State.delayedElements,function(e,n){n&&l(n,t)})},resumeAll:function(e){var t=(new Date).getTime();m.each(C.State.calls,function(t,n){if(n){if(e!==i&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]&&(n[5].resume=!0)}}),m.each(C.State.delayedElements,function(e,n){n&&c(n,t)})}};t.pageYOffset!==i?(C.State.scrollAnchor=t,C.State.scrollPropertyLeft="pageXOffset",C.State.scrollPropertyTop="pageYOffset"):(C.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,C.State.scrollPropertyLeft="scrollLeft",C.State.scrollPropertyTop="scrollTop");var E=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,i){var r={x:t.x+i.dx*n,v:t.v+i.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,i){var r={dx:n.v,dv:e(n)},o=t(n,.5*i,r),a=t(n,.5*i,o),s=t(n,i,a),l=1/6*(r.dx+2*(o.dx+a.dx)+s.dx),c=1/6*(r.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function e(t,i,r){var o,a,s,l={x:-1,v:0,tension:null,friction:null},c=[0],d=0,u=1e-4,h=.016;for(t=parseFloat(t)||500,i=parseFloat(i)||20,r=r||null,l.tension=t,l.friction=i,o=null!==r,o?(d=e(t,i),a=d/r*h):a=h;;)if(s=n(s||l,a),c.push(1+s.x),d+=16,!(Math.abs(s.x)>u&&Math.abs(s.v)>u))break;return o?function(e){return c[e*(c.length-1)|0]}:d}}();C.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},m.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){C.Easings[t[0]]=u.apply(null,t[1])});var S=C.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<S.Lists.colors.length;e++){var t="color"===S.Lists.colors[e]?"0 0 0 1":"255 255 255 1";S.Hooks.templates[S.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,i,r;if(g)for(n in S.Hooks.templates)if(S.Hooks.templates.hasOwnProperty(n)){i=S.Hooks.templates[n],r=i[0].split(" ");var o=i[1].match(S.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),o.push(o.shift()),S.Hooks.templates[n]=[r.join(" "),o.join(" ")])}for(n in S.Hooks.templates)if(S.Hooks.templates.hasOwnProperty(n)){i=S.Hooks.templates[n],r=i[0].split(" ");for(var a in r)if(r.hasOwnProperty(a)){var s=n+r[a],l=a;S.Hooks.registered[s]=[n,l]}}},getRoot:function(e){var t=S.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var n=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&w(S.Lists.units,n)?n:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(e,t,n){return S.Lists.colorNames.hasOwnProperty(n)?(t||"rgba(")+S.Lists.colorNames[n]+(t?"":",1)"):t+n})},cleanRootPropertyValue:function(e,t){return S.RegEx.valueUnwrap.test(t)&&(t=t.match(S.RegEx.valueUnwrap)[1]),S.Values.isCSSNullValue(t)&&(t=S.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=S.Hooks.registered[e];if(n){var i=n[0],r=n[1];return t=S.Hooks.cleanRootPropertyValue(i,t),t.toString().match(S.RegEx.valueSplit)[r]}return t},injectValue:function(e,t,n){var i=S.Hooks.registered[e];if(i){var r,o=i[0],a=i[1];return n=S.Hooks.cleanRootPropertyValue(o,n),r=n.toString().match(S.RegEx.valueSplit),r[a]=t,r.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var i;return S.RegEx.wrappedValueAlreadyExtracted.test(n)?i=n:(i=n.toString().match(S.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):n),i;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return C.State.isFirefox?"filter":"-webkit-filter";case"extract":var i=parseFloat(n);if(!i&&0!==i){var r=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);i=r?r[1]:0}return i;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(g<=8)switch(e){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=i?i[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){function e(e,t,n){if("border-box"===S.getPropertyValue(t,"boxSizing").toString().toLowerCase()===(n||!1)){var i,r,o=0,a="width"===e?["Left","Right"]:["Top","Bottom"],s=["padding"+a[0],"padding"+a[1],"border"+a[0]+"Width","border"+a[1]+"Width"];for(i=0;i<s.length;i++)r=parseFloat(S.getPropertyValue(t,s[i])),isNaN(r)||(o+=r);return n?-o:o}return 0}function t(t,n){return function(i,r,o){switch(i){case"name":return t;case"extract":return parseFloat(o)+e(t,r,n);case"inject":return parseFloat(o)-e(t,r,n)+"px"}}}g&&!(g>9)||C.State.isGingerbread||(S.Lists.transformsBase=S.Lists.transformsBase.concat(S.Lists.transforms3D));for(var n=0;n<S.Lists.transformsBase.length;n++)!function(){var e=S.Lists.transformsBase[n];S.Normalizations.registered[e]=function(t,n,r){switch(t){case"name":return"transform";case"extract":return s(n)===i||s(n).transformCache[e]===i?/^scale/i.test(e)?1:0:s(n).transformCache[e].replace(/[()]/g,"");case"inject":var o=!1;switch(e.substr(0,e.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":C.State.isAndroid&&s(n).transformCache[e]===i&&r<1&&(r=1),o=!/(\d)$/i.test(r);break;case"skew":case"rotate":o=!/(deg|\d)$/i.test(r)}return o||(s(n).transformCache[e]="("+r+")"),s(n).transformCache[e]}}}();for(var r=0;r<S.Lists.colors.length;r++)!function(){var e=S.Lists.colors[r];S.Normalizations.registered[e]=function(t,n,r){switch(t){case"name":return e;case"extract":var o;if(S.RegEx.wrappedValueAlreadyExtracted.test(r))o=r;else{var a,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?a=s[r]!==i?s[r]:s.black:S.RegEx.isHex.test(r)?a="rgb("+S.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(a=s.black),o=(a||r).toString().match(S.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!g||g>8)&&3===o.split(" ").length&&(o+=" 1"),o;case"inject":return/^rgb/.test(r)?r:(g<=8?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(g<=8?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();S.Normalizations.registered.innerWidth=t("width",!0),S.Normalizations.registered.innerHeight=t("height",!0),S.Normalizations.registered.outerWidth=t("width"),S.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(g||C.State.isAndroid&&!C.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(C.State.prefixMatches[e])return[C.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,i=t.length;n<i;n++){var r;if(r=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),k.isString(C.State.prefixElement.style[r]))return C.State.prefixMatches[e]=r,[r,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,i){return t+t+n+n+i+i}),t=i.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(k.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var n=e.getAttribute(g<=7?"className":"class")||"";e.setAttribute("class",n+(n?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(k.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=e.getAttribute(g<=7?"className":"class")||"";e.setAttribute("class",n.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,n,r,o){function a(e,n){var r=0;if(g<=8)r=m.css(e,n);else{var l=!1;/^(width|height)$/.test(n)&&0===S.getPropertyValue(e,"display")&&(l=!0,S.setPropertyValue(e,"display",S.Values.getDisplayType(e)));var c=function(){l&&S.setPropertyValue(e,"display","none")};if(!o){if("height"===n&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var d=e.offsetHeight-(parseFloat(S.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(S.getPropertyValue(e,"paddingBottom"))||0);return c(),d}if("width"===n&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetWidth-(parseFloat(S.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(S.getPropertyValue(e,"paddingRight"))||0);return c(),u}}var h;h=s(e)===i?t.getComputedStyle(e,null):s(e).computedStyle?s(e).computedStyle:s(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),r=9===g&&"filter"===n?h.getPropertyValue(n):h[n],""!==r&&null!==r||(r=e.style[n]),c()}if("auto"===r&&/^(top|right|bottom|left)$/i.test(n)){var p=a(e,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(n))&&(r=m(e).position()[n]+"px")}return r}var l;if(S.Hooks.registered[n]){var c=n,d=S.Hooks.getRoot(c);r===i&&(r=S.getPropertyValue(e,S.Names.prefixCheck(d)[0])),S.Normalizations.registered[d]&&(r=S.Normalizations.registered[d]("extract",e,r)),l=S.Hooks.extractValue(c,r)}else if(S.Normalizations.registered[n]){var u,h;u=S.Normalizations.registered[n]("name",e),"transform"!==u&&(h=a(e,S.Names.prefixCheck(u)[0]),S.Values.isCSSNullValue(h)&&S.Hooks.templates[n]&&(h=S.Hooks.templates[n][1])),l=S.Normalizations.registered[n]("extract",e,h)}if(!/^[\d-]/.test(l)){var p=s(e);if(p&&p.isSVG&&S.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{l=e.getBBox()[n]}catch(e){l=0}else l=e.getAttribute(n);else l=a(e,S.Names.prefixCheck(n)[0])}return S.Values.isCSSNullValue(l)&&(l=0),C.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(e,n,i,r,o){var a=n;if("scroll"===n)o.container?o.container["scroll"+o.direction]=i:"Left"===o.direction?t.scrollTo(i,o.alternateValue):t.scrollTo(o.alternateValue,i);else if(S.Normalizations.registered[n]&&"transform"===S.Normalizations.registered[n]("name",e))S.Normalizations.registered[n]("inject",e,i),a="transform",i=s(e).transformCache[n];else{if(S.Hooks.registered[n]){var l=n,c=S.Hooks.getRoot(n);r=r||S.getPropertyValue(e,c),i=S.Hooks.injectValue(l,i,r),n=c}if(S.Normalizations.registered[n]&&(i=S.Normalizations.registered[n]("inject",e,i),n=S.Normalizations.registered[n]("name",e)),a=S.Names.prefixCheck(n)[0],g<=8)try{e.style[a]=i}catch(e){C.debug&&console.log("Browser does not support ["+i+"] for ["+a+"]")}else{var d=s(e);d&&d.isSVG&&S.Names.SVGAttribute(n)?e.setAttribute(n,i):e.style[a]=i}C.debug>=2&&console.log("Set "+n+" ("+a+"): "+i)}return[a,i]},flushTransformCache:function(e){var t="",n=s(e);if((g||C.State.isAndroid&&!C.State.isChrome)&&n&&n.isSVG){var i=function(t){return parseFloat(S.getPropertyValue(e,t))},r={translate:[i("translateX"),i("translateY")],skewX:[i("skewX")],skewY:[i("skewY")],scale:1!==i("scale")?[i("scale"),i("scale")]:[i("scaleX"),i("scaleY")],rotate:[i("rotateZ"),0,0]};m.each(s(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),r[e]&&(t+=e+"("+r[e].join(" ")+") ",delete r[e])})}else{var o,a;m.each(s(e).transformCache,function(n){if(o=s(e).transformCache[n],"transformPerspective"===n)return a=o,!0;9===g&&"rotateZ"===n&&(n="rotate"),t+=n+o+" "}),a&&(t="perspective"+a+" "+t)}S.setPropertyValue(e,"transform",t)}};S.Hooks.register(),S.Normalizations.register(),C.hook=function(e,t,n){var r;return e=a(e),m.each(e,function(e,o){if(s(o)===i&&C.init(o),n===i)r===i&&(r=S.getPropertyValue(o,t));else{var a=S.setPropertyValue(o,t,n);"transform"===a[0]&&C.CSS.flushTransformCache(o),r=a}}),r};var P=function(){function e(){return d?T.promise||null:u}function r(e,r){function o(o){var d,u;if(l.begin&&0===O)try{l.begin.call(b,b)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===R){var f,g,x,_=/^x$/i.test(l.axis)?"Left":"Top",P=parseFloat(l.offset)||0;l.container?k.isWrapped(l.container)||k.isNode(l.container)?(l.container=l.container[0]||l.container,f=l.container["scroll"+_],x=f+m(e).position()[_.toLowerCase()]+P):l.container=null:(f=C.State.scrollAnchor[C.State["scrollProperty"+_]],g=C.State.scrollAnchor[C.State["scrollProperty"+("Left"===_?"Top":"Left")]],x=m(e).offset()[_.toLowerCase()]+P),c={scroll:{rootPropertyValue:!1,startValue:f,currentValue:f,endValue:x,unitType:"",easing:l.easing,scrollData:{container:l.container,direction:_,alternateValue:g}},element:e},C.debug&&console.log("tweensContainer (scroll): ",c.scroll,e)}else if("reverse"===R){if(!(d=s(e)))return;if(!d.tweensContainer)return void m.dequeue(e,l.queue);"none"===d.opts.display&&(d.opts.display="auto"),"hidden"===d.opts.visibility&&(d.opts.visibility="visible"),d.opts.loop=!1,d.opts.begin=null,d.opts.complete=null,y.easing||delete l.easing,y.duration||delete l.duration,l=m.extend({},d.opts,l),u=m.extend(!0,{},d?d.tweensContainer:null);for(var A in u)if(u.hasOwnProperty(A)&&"element"!==A){var j=u[A].startValue;u[A].startValue=u[A].currentValue=u[A].endValue,u[A].endValue=j,k.isEmptyObject(y)||(u[A].easing=l.easing),C.debug&&console.log("reverse tweensContainer ("+A+"): "+JSON.stringify(u[A]),e)}c=u}else if("start"===R){d=s(e),d&&d.tweensContainer&&!0===d.isAnimating&&(u=d.tweensContainer);var B=function(t,n){var i,o,a;return k.isFunction(t)&&(t=t.call(e,r,E)),k.isArray(t)?(i=t[0],!k.isArray(t[1])&&/^[\d-]/.test(t[1])||k.isFunction(t[1])||S.RegEx.isHex.test(t[1])?a=t[1]:k.isString(t[1])&&!S.RegEx.isHex.test(t[1])&&C.Easings[t[1]]||k.isArray(t[1])?(o=n?t[1]:h(t[1],l.duration),a=t[2]):a=t[1]||t[2]):i=t,n||(o=o||l.easing),k.isFunction(i)&&(i=i.call(e,r,E)),k.isFunction(a)&&(a=a.call(e,r,E)),[i||0,o,a]},$=function(r,o){var s,h=S.Hooks.getRoot(r),p=!1,f=o[0],g=o[1],b=o[2];if(!(d&&d.isSVG||"tween"===h||!1!==S.Names.prefixCheck(h)[1]||S.Normalizations.registered[h]!==i))return void(C.debug&&console.log("Skipping ["+h+"] due to a lack of browser support."));(l.display!==i&&null!==l.display&&"none"!==l.display||l.visibility!==i&&"hidden"!==l.visibility)&&/opacity|filter/.test(r)&&!b&&0!==f&&(b=0),l._cacheValues&&u&&u[r]?(b===i&&(b=u[r].endValue+u[r].unitType),p=d.rootPropertyValueCache[h]):S.Hooks.registered[r]?b===i?(p=S.getPropertyValue(e,h),b=S.getPropertyValue(e,r,p)):p=S.Hooks.templates[h][1]:b===i&&(b=S.getPropertyValue(e,r));var v,y,w,x=!1,_=function(e,t){var n,i;return i=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=S.Values.getUnitType(e)),[i,n]};if(b!==f&&k.isString(b)&&k.isString(f)){s="";var T=0,E=0,P=[],O=[],A=0,j=0,R=0;for(b=S.Hooks.fixColors(b),f=S.Hooks.fixColors(f);T<b.length&&E<f.length;){var B=b[T],$=f[E];if(/[\d\.-]/.test(B)&&/[\d\.-]/.test($)){for(var L=B,I=$,N=".",H=".";++T<b.length;){if((B=b[T])===N)N="..";else if(!/\d/.test(B))break;L+=B}for(;++E<f.length;){if(($=f[E])===H)H="..";else if(!/\d/.test($))break;I+=$}var F=S.Hooks.getUnit(b,T),M=S.Hooks.getUnit(f,E);if(T+=F.length,E+=M.length,F===M)L===I?s+=L+F:(s+="{"+P.length+(j?"!":"")+"}"+F,P.push(parseFloat(L)),O.push(parseFloat(I)));else{var U=parseFloat(L),z=parseFloat(I);s+=(A<5?"calc":"")+"("+(U?"{"+P.length+(j?"!":"")+"}":"0")+F+" + "+(z?"{"+(P.length+(U?1:0))+(j?"!":"")+"}":"0")+M+")",U&&(P.push(U),O.push(0)),z&&(P.push(0),O.push(z))}}else{if(B!==$){A=0;break}s+=B,T++,E++,0===A&&"c"===B||1===A&&"a"===B||2===A&&"l"===B||3===A&&"c"===B||A>=4&&"("===B?A++:(A&&A<5||A>=4&&")"===B&&--A<5)&&(A=0),0===j&&"r"===B||1===j&&"g"===B||2===j&&"b"===B||3===j&&"a"===B||j>=3&&"("===B?(3===j&&"a"===B&&(R=1),j++):R&&","===B?++R>3&&(j=R=0):(R&&j<(R?5:4)||j>=(R?4:3)&&")"===B&&--j<(R?5:4))&&(j=R=0)}}T===b.length&&E===f.length||(C.debug&&console.error('Trying to pattern match mis-matched strings ["'+f+'", "'+b+'"]'),s=i),s&&(P.length?(C.debug&&console.log('Pattern found "'+s+'" -> ',P,O,"["+b+","+f+"]"),b=P,f=O,y=w=""):s=i)}s||(v=_(r,b),b=v[0],w=v[1],v=_(r,f),f=v[0].replace(/^([+-\/*])=/,function(e,t){return x=t,""}),y=v[1],b=parseFloat(b)||0,f=parseFloat(f)||0,"%"===y&&(/^(fontSize|lineHeight)$/.test(r)?(f/=100,y="em"):/^scale/.test(r)?(f/=100,y=""):/(Red|Green|Blue)$/i.test(r)&&(f=f/100*255,y="")));var q=function(){var i={myParent:e.parentNode||n.body,position:S.getPropertyValue(e,"position"),fontSize:S.getPropertyValue(e,"fontSize")},r=i.position===D.lastPosition&&i.myParent===D.lastParent,o=i.fontSize===D.lastFontSize;D.lastParent=i.myParent,D.lastPosition=i.position,D.lastFontSize=i.fontSize;var a=100,s={};if(o&&r)s.emToPx=D.lastEmToPx,s.percentToPxWidth=D.lastPercentToPxWidth,s.percentToPxHeight=D.lastPercentToPxHeight;else{var l=d&&d.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");C.init(l),i.myParent.appendChild(l),m.each(["overflow","overflowX","overflowY"],function(e,t){C.CSS.setPropertyValue(l,t,"hidden")}),C.CSS.setPropertyValue(l,"position",i.position),C.CSS.setPropertyValue(l,"fontSize",i.fontSize),C.CSS.setPropertyValue(l,"boxSizing","content-box"),m.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){C.CSS.setPropertyValue(l,t,a+"%")}),C.CSS.setPropertyValue(l,"paddingLeft",a+"em"),s.percentToPxWidth=D.lastPercentToPxWidth=(parseFloat(S.getPropertyValue(l,"width",null,!0))||1)/a,s.percentToPxHeight=D.lastPercentToPxHeight=(parseFloat(S.getPropertyValue(l,"height",null,!0))||1)/a,s.emToPx=D.lastEmToPx=(parseFloat(S.getPropertyValue(l,"paddingLeft"))||1)/a,i.myParent.removeChild(l)}return null===D.remToPx&&(D.remToPx=parseFloat(S.getPropertyValue(n.body,"fontSize"))||16),null===D.vwToPx&&(D.vwToPx=parseFloat(t.innerWidth)/100,D.vhToPx=parseFloat(t.innerHeight)/100),s.remToPx=D.remToPx,s.vwToPx=D.vwToPx,s.vhToPx=D.vhToPx,C.debug>=1&&console.log("Unit ratios: "+JSON.stringify(s),e),s};if(/[\/*]/.test(x))y=w;else if(w!==y&&0!==b)if(0===f)y=w;else{a=a||q();var V=/margin|padding|left|right|width|text|word|letter/i.test(r)||/X$/.test(r)||"x"===r?"x":"y";switch(w){case"%":b*="x"===V?a.percentToPxWidth:a.percentToPxHeight;break;case"px":break;default:b*=a[w+"ToPx"]}switch(y){case"%":b*=1/("x"===V?a.percentToPxWidth:a.percentToPxHeight);break;case"px":break;default:b*=1/a[y+"ToPx"]}}switch(x){case"+":f=b+f;break;case"-":f=b-f;break;case"*":f*=b;break;case"/":f=b/f}c[r]={rootPropertyValue:p,startValue:b,currentValue:b,endValue:f,unitType:y,easing:g},s&&(c[r].pattern=s),C.debug&&console.log("tweensContainer ("+r+"): "+JSON.stringify(c[r]),e)};for(var L in v)if(v.hasOwnProperty(L)){var I=S.Names.camelCase(L),N=B(v[L]);if(w(S.Lists.colors,I)){var F=N[0],M=N[1],U=N[2];if(S.RegEx.isHex.test(F)){for(var z=["Red","Green","Blue"],q=S.Values.hexToRgb(F),V=U?S.Values.hexToRgb(U):i,W=0;W<z.length;W++){var Y=[q[W]];M&&Y.push(M),V!==i&&Y.push(V[W]),$(I+z[W],Y)}continue}}$(I,N)}c.element=e}c.element&&(S.Values.addClass(e,"velocity-animating"),H.push(c),d=s(e),d&&(""===l.queue&&(d.tweensContainer=c,d.opts=l),d.isAnimating=!0),O===E-1?(C.State.calls.push([H,b,l,null,T.resolver,null,0]),!1===C.State.isTicking&&(C.State.isTicking=!0,p())):O++)}var a,l=m.extend({},C.defaults,y),c={};switch(s(e)===i&&C.init(e),parseFloat(l.delay)&&!1!==l.queue&&m.queue(e,l.queue,function(t){C.velocityQueueEntryFlag=!0;var n=C.State.delayedElements.count++;C.State.delayedElements[n]=e;var i=function(e){return function(){C.State.delayedElements[e]=!1,t()}}(n);s(e).delayBegin=(new Date).getTime(),s(e).delay=parseFloat(l.delay),s(e).delayTimer={setTimeout:setTimeout(t,parseFloat(l.delay)),next:i}}),l.duration.toString().toLowerCase()){case"fast":l.duration=200;break;case"normal":l.duration=_;break;case"slow":l.duration=600;break;default:l.duration=parseFloat(l.duration)||1}if(!1!==C.mock&&(!0===C.mock?l.duration=l.delay=1:(l.duration*=parseFloat(C.mock)||1,l.delay*=parseFloat(C.mock)||1)),l.easing=h(l.easing,l.duration),l.begin&&!k.isFunction(l.begin)&&(l.begin=null),l.progress&&!k.isFunction(l.progress)&&(l.progress=null),l.complete&&!k.isFunction(l.complete)&&(l.complete=null),l.display!==i&&null!==l.display&&(l.display=l.display.toString().toLowerCase(),"auto"===l.display&&(l.display=C.CSS.Values.getDisplayType(e))),l.visibility!==i&&null!==l.visibility&&(l.visibility=l.visibility.toString().toLowerCase()),l.mobileHA=l.mobileHA&&C.State.isMobile&&!C.State.isGingerbread,!1===l.queue)if(l.delay){var d=C.State.delayedElements.count++;C.State.delayedElements[d]=e;var u=function(e){return function(){C.State.delayedElements[e]=!1,o()}}(d);s(e).delayBegin=(new Date).getTime(),s(e).delay=parseFloat(l.delay),s(e).delayTimer={setTimeout:setTimeout(o,parseFloat(l.delay)),next:u}}else o();else m.queue(e,l.queue,function(e,t){if(!0===t)return T.promise&&T.resolver(b),!0;C.velocityQueueEntryFlag=!0,o(e)});""!==l.queue&&"fx"!==l.queue||"inprogress"===m.queue(e)[0]||m.dequeue(e)}var o,d,u,g,b,v,y,x=arguments[0]&&(arguments[0].p||m.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||k.isString(arguments[0].properties));k.isWrapped(this)?(d=!1,g=0,b=this,u=this):(d=!0,g=1,b=x?arguments[0].elements||arguments[0].e:arguments[0]);var T={promise:null,resolver:null,rejecter:null};if(d&&C.Promise&&(T.promise=new C.Promise(function(e,t){T.resolver=e,T.rejecter=t})),x?(v=arguments[0].properties||arguments[0].p,y=arguments[0].options||arguments[0].o):(v=arguments[g],y=arguments[g+1]),!(b=a(b)))return void(T.promise&&(v&&y&&!1===y.promiseRejectEmpty?T.resolver():T.rejecter()));var E=b.length,O=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(v)&&!m.isPlainObject(y)){var A=g+1;y={};for(var j=A;j<arguments.length;j++)k.isArray(arguments[j])||!/^(fast|normal|slow)$/i.test(arguments[j])&&!/^\d/.test(arguments[j])?k.isString(arguments[j])||k.isArray(arguments[j])?y.easing=arguments[j]:k.isFunction(arguments[j])&&(y.complete=arguments[j]):y.duration=arguments[j]}var R;switch(v){case"scroll":R="scroll";break;case"reverse":R="reverse";break;case"pause":var B=(new Date).getTime();return m.each(b,function(e,t){l(t,B)}),m.each(C.State.calls,function(e,t){var n=!1;t&&m.each(t[1],function(e,r){var o=y===i?"":y;return!0!==o&&t[2].queue!==o&&(y!==i||!1!==t[2].queue)||(m.each(b,function(e,i){if(i===r)return t[5]={resume:!1},n=!0,!1}),!n&&void 0)})}),e();case"resume":return m.each(b,function(e,t){c(t,B)}),m.each(C.State.calls,function(e,t){var n=!1;t&&m.each(t[1],function(e,r){var o=y===i?"":y;return!0!==o&&t[2].queue!==o&&(y!==i||!1!==t[2].queue)||(!t[5]||(m.each(b,function(e,i){if(i===r)return t[5].resume=!0,n=!0,!1}),!n&&void 0))})}),e();case"finish":case"finishAll":case"stop":m.each(b,function(e,t){s(t)&&s(t).delayTimer&&(clearTimeout(s(t).delayTimer.setTimeout),s(t).delayTimer.next&&s(t).delayTimer.next(),delete s(t).delayTimer),"finishAll"!==v||!0!==y&&!k.isString(y)||(m.each(m.queue(t,k.isString(y)?y:""),function(e,t){k.isFunction(t)&&t()}),m.queue(t,k.isString(y)?y:"",[]))});var $=[];return m.each(C.State.calls,function(e,t){t&&m.each(t[1],function(n,r){var o=y===i?"":y;if(!0!==o&&t[2].queue!==o&&(y!==i||!1!==t[2].queue))return!0;m.each(b,function(n,i){if(i===r)if((!0===y||k.isString(y))&&(m.each(m.queue(i,k.isString(y)?y:""),function(e,t){k.isFunction(t)&&t(null,!0)}),m.queue(i,k.isString(y)?y:"",[])),"stop"===v){var a=s(i);a&&a.tweensContainer&&!1!==o&&m.each(a.tweensContainer,function(e,t){t.endValue=t.currentValue}),$.push(e)}else"finish"!==v&&"finishAll"!==v||(t[2].duration=1)})})}),"stop"===v&&(m.each($,function(e,t){f(t,!0)}),T.promise&&T.resolver(b)),e();default:if(!m.isPlainObject(v)||k.isEmptyObject(v)){if(k.isString(v)&&C.Redirects[v]){o=m.extend({},y);var L=o.duration,I=o.delay||0;return!0===o.backwards&&(b=m.extend(!0,[],b).reverse()),m.each(b,function(e,t){parseFloat(o.stagger)?o.delay=I+parseFloat(o.stagger)*e:k.isFunction(o.stagger)&&(o.delay=I+o.stagger.call(t,e,E)),o.drag&&(o.duration=parseFloat(L)||(/^(callout|transition)/.test(v)?1e3:_),o.duration=Math.max(o.duration*(o.backwards?1-e/E:(e+1)/E),.75*o.duration,200)),C.Redirects[v].call(t,t,o||{},e,E,b,T.promise?T:i)}),e()}var N="Velocity: First argument ("+v+") was not a property map, a known action, or a registered redirect. Aborting.";return T.promise?T.rejecter(new Error(N)):t.console&&console.log(N),e()}R="start"}var D={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},H=[];m.each(b,function(e,t){k.isNode(t)&&r(t,e)}),o=m.extend({},C.defaults,y),o.loop=parseInt(o.loop,10);var F=2*o.loop-1;if(o.loop)for(var M=0;M<F;M++){var U={delay:o.delay,progress:o.progress};M===F-1&&(U.display=o.display,U.visibility=o.visibility,U.complete=o.complete),P(b,"reverse",U)}return e()};C=m.extend(P,C),C.animate=P;var O=t.requestAnimationFrame||b;if(!C.State.isMobile&&n.hidden!==i){var A=function(){n.hidden?(O=function(e){return setTimeout(function(){e(!0)},16)},p()):O=t.requestAnimationFrame||b};A(),n.addEventListener("visibilitychange",A)}return e.Velocity=C,e!==t&&(e.fn.velocity=P,e.fn.velocity.defaults=C.defaults),m.each(["Down","Up"],function(e,t){C.Redirects["slide"+t]=function(e,n,r,o,a,s){var l=m.extend({},n),c=l.begin,d=l.complete,u={},h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};l.display===i&&(l.display="Down"===t?"inline"===C.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){0===r&&c&&c.call(a,a);for(var n in h)if(h.hasOwnProperty(n)){u[n]=e.style[n];var i=S.getPropertyValue(e,n);h[n]="Down"===t?[i,0]:[0,i]}u.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in u)u.hasOwnProperty(t)&&(e.style[t]=u[t]);r===o-1&&(d&&d.call(a,a),s&&s.resolver(a))},C(e,h,l)}}),m.each(["In","Out"],function(e,t){C.Redirects["fade"+t]=function(e,n,r,o,a,s){var l=m.extend({},n),c=l.complete,d={opacity:"In"===t?1:0};0!==r&&(l.begin=null),l.complete=r!==o-1?null:function(){c&&c.call(a,a),s&&s.resolver(a)},l.display===i&&(l.display="In"===t?"auto":"none"),C(this,d,l)}}),C}(i||window.Zepto||window,window,window?window.document:void 0)}),e.exports=window.Velocity}).call(t,n("./node_modules/jquery/dist/jquery.js-exposed"),n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/velocity-animate/velocity.ui.js":function(e,t,n){(function(t){n("./node_modules/velocity-animate/velocity.js");/* VelocityJS.org UI Pack (5.2.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License. Portions copyright Daniel Eden, Christian Pucci. */
!function(t){"use strict";e.exports=t()}(function(){"use strict";return function(e,t,n,i){function r(e,t){var n=[];return!(!e||!t)&&(a.each([e,t],function(e,t){var i=[];a.each(t,function(e,t){for(;t.toString().length<5;)t="0"+t;i.push(t)}),n.push(i.join(""))}),parseFloat(n[0])>parseFloat(n[1]))}var o=e.Velocity;if(!o||!o.Utilities)return void(t.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var a=o.Utilities;if(r({major:1,minor:1,patch:0},o.version)){var s="Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(s),new Error(s)}o.RegisterEffect=o.RegisterUI=function(e,t){function n(e,t,n,i){var r,s=0;a.each(e.nodeType?[e]:e,function(e,t){i&&(n+=e*i),r=t.parentNode;var l=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===o.CSS.getPropertyValue(t,"boxSizing").toString().toLowerCase()&&(l=["height"]),a.each(l,function(e,n){s+=parseFloat(o.CSS.getPropertyValue(t,n))})}),o.animate(r,{height:("In"===t?"+":"-")+"="+s},{queue:!1,easing:"ease-in-out",duration:n*("In"===t?.6:1)})}return o.Redirects[e]=function(r,s,l,c,d,u,h){var p=l===c-1,f=0;h=h||t.loop,"function"==typeof t.defaultDuration?t.defaultDuration=t.defaultDuration.call(d,d):t.defaultDuration=parseFloat(t.defaultDuration);for(var m=0;m<t.calls.length;m++)"number"==typeof(w=t.calls[m][1])&&(f+=w);var g=f>=1?0:t.calls.length?(1-f)/t.calls.length:1;for(m=0;m<t.calls.length;m++){var b=t.calls[m],v=b[0],y=1e3,w=b[1],k=b[2]||{},x={};if(s.duration!==i?y=s.duration:t.defaultDuration!==i&&(y=t.defaultDuration),x.duration=y*("number"==typeof w?w:g),x.queue=s.queue||"",x.easing=k.easing||"ease",x.delay=parseFloat(k.delay)||0,x.loop=!t.loop&&k.loop,x._cacheValues=k._cacheValues||!0,0===m){if(x.delay+=parseFloat(s.delay)||0,0===l&&(x.begin=function(){s.begin&&s.begin.call(d,d);var t=e.match(/(In|Out)$/);t&&"In"===t[0]&&v.opacity!==i&&a.each(d.nodeType?[d]:d,function(e,t){o.CSS.setPropertyValue(t,"opacity",0)}),s.animateParentHeight&&t&&n(d,t[0],y+x.delay,s.stagger)}),null!==s.display)if(s.display!==i&&"none"!==s.display)x.display=s.display;else if(/In$/.test(e)){var _=o.CSS.Values.getDisplayType(r);x.display="inline"===_?"inline-block":_}s.visibility&&"hidden"!==s.visibility&&(x.visibility=s.visibility)}if(m===t.calls.length-1){var T=function(){s.display!==i&&"none"!==s.display||!/Out$/.test(e)||a.each(d.nodeType?[d]:d,function(e,t){o.CSS.setPropertyValue(t,"display","none")}),s.complete&&s.complete.call(d,d),u&&u.resolver(d||r)};x.complete=function(){if(h&&o.Redirects[e](r,s,l,c,d,u,!0===h||Math.max(0,h-1)),t.reset){for(var n in t.reset)if(t.reset.hasOwnProperty(n)){var a=t.reset[n];o.CSS.Hooks.registered[n]!==i||"string"!=typeof a&&"number"!=typeof a||(t.reset[n]=[t.reset[n],t.reset[n]])}var f={duration:0,queue:!1};p&&(f.complete=T),o.animate(r,t.reset,f)}else p&&T()},"hidden"===s.visibility&&(x.visibility=s.visibility)}o.animate(r,v,x)}},o},o.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:0}]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]}],[{opacity:[1,"easeInOutQuad"]}],[{opacity:[0,"easeInOutQuad"]}],[{opacity:[1,"easeInOutQuad"]}]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15}],[{rotateZ:-10}],[{rotateZ:5}],[{rotateZ:-5}],[{rotateZ:0}]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10}],[{opacity:0,rotateY:90}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15}],[{opacity:0,rotateX:90}]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.35],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.45]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var l in o.RegisterEffect.packagedEffects)o.RegisterEffect.packagedEffects.hasOwnProperty(l)&&o.RegisterEffect(l,o.RegisterEffect.packagedEffects[l]);o.RunSequence=function(e){var t=a.extend(!0,[],e);t.length>1&&(a.each(t.reverse(),function(e,n){var i=t[e+1];if(i){var r=n.o||n.options,s=i.o||i.options,l=r&&!1===r.sequenceQueue?"begin":"complete",c=s&&s[l],d={};d[l]=function(){var e=i.e||i.elements,t=e.nodeType?[e]:e;c&&c.call(t,t),o(n)},i.o?i.o=a.extend({},s,d):i.options=a.extend({},s,d)}}),t.reverse()),o(t[0])}}(t||window.Zepto||window,window,window&&window.document)}),e.exports=window.Velocity}).call(t,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./other-libs/redactor/redactor.js":function(e,t,n){(function(e){!function(e){"use strict";function t(e,n){return new t.prototype.init(e,n)}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e)}});var n=0;e.fn.redactor=function(n){var i=[],r=Array.prototype.slice.call(arguments,1);return"string"==typeof n?this.each(function(){var t,o=e.data(this,"redactor");if("-1"!==n.search(/\./)?(t=n.split("."),void 0!==o[t[0]]&&(t=o[t[0]][t[1]])):t=o[n],void 0!==o&&e.isFunction(t)){var a=t.apply(o,r);void 0!==a&&a!==o&&i.push(a)}else e.error('No such method "'+n+'" for Redactor')}):this.each(function(){e.data(this,"redactor",{}),e.data(this,"redactor",t(this,n))}),0===i.length?this:1===i.length?i[0]:i},e.Redactor=t,e.Redactor.VERSION="1.3",e.Redactor.modules=["air","autosave","block","buffer","build","button","caret","clean","code","core","detect","dropdown","events","file","focus","image","indent","inline","insert","keydown","keyup","lang","line","link","linkify","list","marker","modal","observe","offset","paragraphize","paste","placeholder","progress","selection","shortcuts","storage","toolbar","upload","uploads3","utils","browser"],e.Redactor.settings={},e.Redactor.opts={animation:!1,lang:"en",direction:"ltr",focus:!1,focusEnd:!1,clickToEdit:!1,structure:!1,tabindex:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:!1,callbacks:{},placeholder:!1,linkify:!0,enterKey:!0,pastePlainText:!1,pasteImages:!0,pasteLinks:!0,pasteBlockTags:["pre","h1","h2","h3","h4","h5","h6","table","tbody","thead","tfoot","th","tr","td","ul","ol","li","blockquote","p","figure","figcaption"],pasteInlineTags:["br","strong","ins","code","del","span","samp","kbd","sup","sub","mark","var","cite","small","b","u","em","i"],preClass:!1,preSpaces:4,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveFields:!1,imageUpload:null,imageUploadParam:"file",imageUploadFields:!1,imageUploadForms:!1,imageTag:"figure",imageEditable:!0,imageCaption:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",dragImageUpload:!0,multipleImageUpload:!0,clipboardImageUpload:!0,fileUpload:null,fileUploadParam:"file",fileUploadFields:!1,fileUploadForms:!1,dragFileUpload:!0,s3:!1,linkNewTab:!1,linkTooltip:!0,linkNofollow:!1,linkSize:30,pasteLinkTarget:!1,videoContainerClass:"video-container",toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,air:!1,airWidth:!1,formatting:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],formattingAdd:!1,buttons:["format","bold","italic","deleted","lists","image","file","link"],buttonsHide:[],buttonsHideOnMobile:[],script:!0,removeComments:!0,replaceTags:{b:"strong",i:"em",strike:"del"},shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},shortcutsAdd:!1,activeButtons:["deleted","italic","bold"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted"},langs:{en:{format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U",lists:"Lists","link-insert":"Insert link","link-edit":"Edit link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",cancel:"Cancel",close:"Close",insert:"Insert",save:"Save",delete:"Delete",text:"Text",edit:"Edit",title:"Title",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line","upload-label":"Drop file here or ",caption:"Caption",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center","accessibility-help-label":"Rich text editor"}},type:"textarea",inline:!1,buffer:[],rebuffer:[],inlineTags:["a","span","strong","strike","b","u","em","i","code","del","ins","samp","kbd","sup","sub","mark","var","cite","small"],blockTags:["pre","ul","ol","li","p","h1","h2","h3","h4","h5","h6","dl","dt","dd","div","td","blockquote","output","figcaption","figure","address","section","header","footer","aside","article","iframe"],paragraphize:!0,paragraphizeBlocks:["table","div","pre","form","ul","ol","h1","h2","h3","h4","h5","h6","dl","blockquote","figcaption","address","section","header","footer","aside","article","object","style","script","iframe","select","input","textarea","button","option","map","area","math","hr","fieldset","legend","hgroup","nav","figure","details","menu","summary","p"],emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",imageTypes:["image/png","image/jpeg","image/gif"],userAgent:navigator.userAgent.toLowerCase(),observe:{dropdowns:[]},regexps:{linkyoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,linkvimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,linkimage:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi}},t.fn=e.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(t,i){if(this.$element=e(t),this.uuid=n++,this.loadOptions(i),this.loadModules(),this.opts.clickToEdit&&!this.$element.hasClass("redactor-click-to-edit"))return this.loadToEdit(i);this.$element.hasClass("redactor-click-to-edit")&&this.$element.removeClass("redactor-click-to-edit"),this.reIsBlock=new RegExp("^("+this.opts.blockTags.join("|").toUpperCase()+")$","i"),this.reIsInline=new RegExp("^("+this.opts.inlineTags.join("|").toUpperCase()+")$","i"),this.opts.dragImageUpload=null!==this.opts.imageUpload&&this.opts.dragImageUpload,this.opts.dragFileUpload=null!==this.opts.fileUpload&&this.opts.dragFileUpload,this.formatting={},this.lang.load(),e.extend(this.opts.shortcuts,this.opts.shortcutsAdd),this.$editor=this.$element,this.detectType(),this.core.callback("start"),this.core.callback("startToEdit"),this.start=!0,this.build.start()},detectType:function(){this.build.isInline()||this.opts.inline?this.opts.type="inline":this.build.isTag("DIV")?this.opts.type="div":this.build.isTag("PRE")&&(this.opts.type="pre")},loadToEdit:function(t){this.$element.on("click.redactor-click-to-edit",e.proxy(function(){this.initToEdit(t)},this)),this.$element.addClass("redactor-click-to-edit")},initToEdit:function(t){e.extend(t.callbacks,{startToEdit:function(){this.insert.node(this.marker.get(),!1)},initToEdit:function(){this.selection.restore(),this.clickToCancelStorage=this.code.get(),e(this.opts.clickToCancel).off(".redactor-click-to-edit"),e(this.opts.clickToCancel).show().on("click.redactor-click-to-edit",e.proxy(function(n){n.preventDefault(),this.core.destroy(),this.events.syncFire=!1,this.$element.html(this.clickToCancelStorage),this.core.callback("cancel",this.clickToCancelStorage),this.events.syncFire=!0,this.clickToCancelStorage="",e(this.opts.clickToCancel).hide(),e(this.opts.clickToSave).hide(),this.$element.on("click.redactor-click-to-edit",e.proxy(function(){this.initToEdit(t)},this)),this.$element.addClass("redactor-click-to-edit")},this)),e(this.opts.clickToSave).off(".redactor-click-to-edit"),e(this.opts.clickToSave).show().on("click.redactor-click-to-edit",e.proxy(function(n){n.preventDefault(),this.core.destroy(),this.core.callback("save",this.code.get()),e(this.opts.clickToCancel).hide(),e(this.opts.clickToSave).hide(),this.$element.on("click.redactor-click-to-edit",e.proxy(function(){this.initToEdit(t)},this)),this.$element.addClass("redactor-click-to-edit")},this))}}),this.$element.redactor(t),this.$element.off(".redactor-click-to-edit")},loadOptions:function(t){var n={};void 0!==e.Redactor.settings.namespace?this.$element.hasClass(e.Redactor.settings.namespace)&&(n=e.Redactor.settings):n=e.Redactor.settings,this.opts=e.extend({},e.extend(!0,{},e.Redactor.opts),e.extend(!0,{},n),this.$element.data(),t)},getModuleMethods:function(e){return Object.getOwnPropertyNames(e).filter(function(t){return"function"==typeof e[t]})},loadModules:function(){for(var t=e.Redactor.modules.length,n=0;n<t;n++)this.bindModuleMethods(e.Redactor.modules[n])},bindModuleMethods:function(e){if(void 0!==this[e]){this[e]=this[e]();for(var t=this.getModuleMethods(this[e]),n=t.length,i=0;i<n;i++)this[e][t[i]]=this[e][t[i]].bind(this)}},air:function(){return{enabled:!1,collapsed:function(){this.opts.air&&this.selection.get().collapseToStart()},collapsedEnd:function(){this.opts.air&&this.selection.get().collapseToEnd()},build:function(){this.detect.isMobile()||(this.button.hideButtons(),this.button.hideButtonsOnMobile(),0!==this.opts.buttons.length&&(this.$air=this.air.createContainer(),!1!==this.opts.airWidth&&this.$air.css("width",this.opts.airWidth),this.air.append(),this.button.$toolbar=this.$air,this.button.setFormatting(),this.button.load(this.$air),this.core.editor().on("mouseup.redactor",this,e.proxy(function(e){""!==this.selection.text()&&this.air.show(e)},this))))},append:function(){this.$air.appendTo("body")},createContainer:function(){return e("<ul>").addClass("redactor-air").attr({id:"redactor-air-"+this.uuid,role:"toolbar"}).hide()},show:function(t){this.marker.remove(),this.selection.save(),this.selection.restore(!1),e(".redactor-air").hide();var n=0,i=this.$air.innerWidth();e(window).width()<t.clientX+i&&(n=200),this.$air.css({left:t.clientX-n+"px",top:t.clientY+10+e(document).scrollTop()+"px"}).show(),this.air.enabled=!0,this.air.bindHide()},bindHide:function(){e(document).on("mousedown.redactor-air."+this.uuid,e.proxy(function(t){var n=e(t.target).closest(".redactor-dropdown").length;if(0===e(t.target).closest(this.$air).length&&0===n){!1!==this.air.hide(t)&&this.marker.remove()}},this)).on("keydown.redactor-air."+this.uuid,e.proxy(function(t){var n=t.which;if((this.utils.isRedactorParent(t.target)||e(t.target).hasClass("redactor-in"))&&0===e(t.target).closest("#redactor-modal").length){if(n===this.keyCode.ESC)this.selection.get().collapseToStart(),this.marker.remove();else if(n===this.keyCode.BACKSPACE||n===this.keyCode.DELETE){var i=this.selection.get(),r=this.selection.range(i);r.deleteContents(),this.marker.remove()}else n===this.keyCode.ENTER&&(this.selection.get().collapseToEnd(),this.marker.remove());this.air.enabled?this.air.hide(t):(this.selection.get().collapseToStart(),this.marker.remove())}},this))},hide:function(t){if(t.ctrlKey||t.metaKey||t.shiftKey&&t.altKey)return!1;this.button.setInactiveAll(),this.$air.fadeOut(100),this.air.enabled=!1,e(document).off("mousedown.redactor-air."+this.uuid)}}},autosave:function(){return{enabled:!1,html:!1,init:function(){this.opts.autosave&&(this.autosave.enabled=!0,this.autosave.name=this.opts.autosaveName?this.opts.autosaveName:this.$textarea.attr("name"))},is:function(){return this.autosave.enabled},send:function(){if(this.opts.autosave&&(this.autosave.source=this.code.get(),this.autosave.html!==this.autosave.source)){var t={};t.name=this.autosave.name,t[this.autosave.name]=this.autosave.source,t=this.autosave.getHiddenFields(t);e.ajax({url:this.opts.autosave,type:"post",data:t}).done(this.autosave.success)}},getHiddenFields:function(t){return!1===this.opts.autosaveFields||"object"!=typeof this.opts.autosaveFields?t:(e.each(this.opts.autosaveFields,e.proxy(function(n,i){null!==i&&0===i.toString().indexOf("#")&&(i=e(i).val()),t[n]=i},this)),t)},success:function(t){var n;try{n=e.parseJSON(t)}catch(e){n=t}var i=void 0===n.error?"autosave":"autosaveError";this.core.callback(i,this.autosave.name,n),this.autosave.html=this.autosave.source},disable:function(){this.autosave.enabled=!1,clearInterval(this.autosaveTimeout)}}},block:function(){return{format:function(t,n,i,r){if(t="quote"===t?"blockquote":t,this.block.tags=["p","blockquote","pre","h1","h2","h3","h4","h5","h6","div","figure"],-1!==e.inArray(t,this.block.tags))return"p"===t&&void 0===n&&(n="class"),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.block.formatCollapsed(t,n,i,r):this.block.formatUncollapsed(t,n,i,r)},formatCollapsed:function(t,n,i,r){this.selection.save();var o=this.selection.block(),a=o.tagName.toLowerCase();if(-1===e.inArray(a,this.block.tags))return void this.selection.restore();a===t&&(t="p");var s=this.utils.replaceToTag(o,t);if("object"==typeof n){r=i;for(var l in n)s=this.block.setAttr(s,l,n[l],r)}else s=this.block.setAttr(s,n,i,r);return"pre"===t&&1===s.length&&e(s).html(e.trim(e(s).html())),this.selection.restore(),this.block.removeInlineTags(s),s},formatUncollapsed:function(t,n,i,r){this.selection.save();var o=[],a=this.selection.blocks();a[0]&&e(a[0]).hasClass("redactor-in")&&(a=e(a[0]).find(this.opts.blockTags.join(", ")));for(var s=a.length,l=0;l<s;l++){var c=a[l].tagName.toLowerCase();if(-1!==e.inArray(c,this.block.tags)&&"figure"!==c){var d=this.utils.replaceToTag(a[l],t);if("object"==typeof n){r=i;for(var u in n)d=this.block.setAttr(d,u,n[u],r)}else d=this.block.setAttr(d,n,i,r);o.push(d),this.block.removeInlineTags(d)}}if(this.selection.restore(),"pre"===t&&0!==o.length){var h=o[0];e.each(o,function(t,n){0!==t&&(e(h).append("\n"+e.trim(n.html())),e(n).remove())}),o=[],o.push(h)}return o},removeInlineTags:function(t){t=t[0]||t;var n=this.opts.inlineTags,i=["PRE","H1","H2","H3","H4","H5","H6"];if(-1!==e.inArray(t.tagName,i)){if("PRE"!==t.tagName){var r=n.indexOf("a");n.splice(r,1)}e(t).find(n.join(",")).not(".redactor-selection-marker").contents().unwrap()}},setAttr:function(e,t,n,i){if(void 0===t)return e;var r=void 0===i?"replace":i;return e="class"===t?this.block[r+"Class"](n,e):"remove"===r?this.block[r+"Attr"](t,e):"removeAll"===r?this.block[r+"Attr"](t,e):this.block[r+"Attr"](t,n,e)},getBlocks:function(e){return void 0===e?this.selection.blocks():e},replaceClass:function(t,n){return e(this.block.getBlocks(n)).removeAttr("class").addClass(t)[0]},toggleClass:function(t,n){return e(this.block.getBlocks(n)).toggleClass(t)[0]},addClass:function(t,n){return e(this.block.getBlocks(n)).addClass(t)[0]},removeClass:function(t,n){return e(this.block.getBlocks(n)).removeClass(t)[0]},removeAllClass:function(t){return e(this.block.getBlocks(t)).removeAttr("class")[0]},replaceAttr:function(t,n,i){return i=this.block.removeAttr(t,i),e(i).attr(t,n)[0]},toggleAttr:function(t,n,i){i=this.block.getBlocks(i);var r=this,o=[];return e.each(i,function(i,a){e(a).attr(t)?o.push(r.block.removeAttr(t,a)):o.push(r.block.addAttr(t,n,a))}),o},addAttr:function(t,n,i){return e(this.block.getBlocks(i)).attr(t,n)[0]},removeAttr:function(t,n){return e(this.block.getBlocks(n)).removeAttr(t)[0]},removeAllAttr:function(t){t=this.block.getBlocks(t);var n=[];return e.each(t,function(t,i){void 0===i.attributes&&n.push(i);for(var r=e(i),o=i.attributes.length,a=0;a<o;a++)r.removeAttr(i.attributes[a].name);n.push(r[0])}),n}}},buffer:function(){return{set:function(e){void 0===e&&this.buffer.clear(),void 0===e||"undo"===e?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){this.selection.save();var e=this.opts.buffer[this.opts.buffer.length-1],t=this.core.editor().html();e!==t&&this.opts.buffer.push(t),this.selection.restore()},setRedo:function(){this.selection.save(),this.opts.rebuffer.push(this.core.editor().html()),this.selection.restore()},getUndo:function(){this.core.editor().html(this.opts.buffer.pop())},getRedo:function(){this.core.editor().html(this.opts.rebuffer.pop())},add:function(){this.opts.buffer.push(this.core.editor().html())},undo:function(){0!==this.opts.buffer.length&&(this.buffer.set("redo"),this.buffer.getUndo(),this.selection.restore())},redo:function(){0!==this.opts.rebuffer.length&&(this.buffer.set("undo"),this.buffer.getRedo(),this.selection.restore())},clear:function(){this.opts.rebuffer=[]}}},build:function(){return{start:function(){if("inline"===this.opts.type)this.opts.type="inline";else if("div"===this.opts.type){var t=e.trim(this.$editor.html());""===t&&this.$editor.html(this.opts.emptyHtml)}else"textarea"===this.opts.type&&this.build.startTextarea();this.build.setIn(),this.build.setId(),this.build.enableEditor(),this.build.setOptions(),this.build.callEditor()},createContainerBox:function(){this.$box=e('<div class="redactor-box" role="application" />')},setIn:function(){this.core.editor().addClass("redactor-in")},setId:function(){var e="textarea"===this.opts.type?"redactor-uuid-"+this.uuid:this.$element.attr("id");this.core.editor().attr("id",void 0===e?"redactor-uuid-"+this.uuid:e)},getName:function(){var e=this.$element.attr("name");return void 0===e?"content-"+this.uuid:e},loadFromTextarea:function(){this.$editor=e("<div />"),this.$textarea=this.$element,this.$element.attr("name",this.build.getName()),this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element),this.$editor.addClass("redactor-editor"),this.$element.hide(),this.$box.prepend('<span class="redactor-voice-label" id="redactor-voice-'+this.uuid+'" aria-hidden="false">'+this.lang.get("accessibility-help-label")+"</span>"),this.$editor.attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},startTextarea:function(){this.build.createContainerBox(),this.build.loadFromTextarea(),this.code.start(this.core.textarea().val()),this.core.textarea().val(this.clean.onSync(this.$editor.html()))},isTag:function(e){return this.$element[0].tagName===e},isInline:function(){return!this.build.isTag("TEXTAREA")&&!this.build.isTag("DIV")&&!this.build.isTag("PRE")},enableEditor:function(){this.core.editor().attr({contenteditable:!0})},setOptions:function(){"inline"===this.opts.type&&(this.opts.enterKey=!1),"inline"!==this.opts.type&&"pre"!==this.opts.type||(this.opts.toolbarMobile=!1,this.opts.toolbar=!1,this.opts.air=!1,this.opts.linkify=!1),this.opts.structure&&this.core.editor().addClass("redactor-structure"),"textarea"===this.opts.type&&(this.core.box().attr("dir",this.opts.direction),this.core.editor().attr("dir",this.opts.direction),this.opts.tabindex&&this.core.editor().attr("tabindex",this.opts.tabindex),this.opts.minHeight?this.core.editor().css("min-height",this.opts.minHeight):this.core.editor().css("min-height","40px"),this.opts.maxHeight&&this.core.editor().css("max-height",this.opts.maxHeight),this.opts.maxWidth&&this.core.editor().css({"max-width":this.opts.maxWidth,margin:"auto"}))},callEditor:function(){this.build.disableBrowsersEditing(),this.events.init(),this.build.setHelpers(),(this.opts.toolbar||this.opts.air)&&(this.toolbarsButtons=this.button.init()),this.opts.air?this.air.build():this.opts.toolbar&&this.toolbar.build(),this.detect.isMobile()&&this.opts.toolbarMobile&&this.opts.air&&(this.opts.toolbar=!0,this.toolbar.build()),(this.opts.air||this.opts.toolbar)&&(this.core.editor().on("mouseup.redactor-observe."+this.uuid+" keyup.redactor-observe."+this.uuid+" focus.redactor-observe."+this.uuid+" touchstart.redactor-observe."+this.uuid,e.proxy(this.observe.toolbar,this)),this.core.element().on("blur.callback.redactor",e.proxy(function(){this.button.setInactiveAll()},this))),this.modal.templates(),this.build.plugins(),this.autosave.init(),this.code.html=this.code.cleaned(this.core.editor().html()),this.core.callback("init"),this.core.callback("initToEdit"),this.storage.observe(),this.start=!1},setHelpers:function(){this.opts.linkify&&this.linkify.format(),this.placeholder.init(),this.opts.focus?setTimeout(this.focus.start,100):this.opts.focusEnd&&setTimeout(this.focus.end,100)},disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",!1,!1)}catch(e){}},plugins:function(){this.opts.plugins&&e.each(this.opts.plugins,e.proxy(function(n,i){var r="undefined"!=typeof RedactorPlugins&&void 0!==RedactorPlugins[i]?RedactorPlugins:t.fn;if(e.isFunction(r[i])){this[i]=r[i]();for(var o=this.getModuleMethods(this[i]),a=o.length,s=0;s<a;s++)this[i][o[s]]=this[i][o[s]].bind(this);if(void 0!==this[i].langs){var l={};void 0!==this[i].langs[this.opts.lang]?l=this[i].langs[this.opts.lang]:void 0===this[i].langs[this.opts.lang]&&void 0!==this[i].langs.en&&(l=this[i].langs.en);var c=this;e.each(l,function(e,t){void 0===c.opts.curLang[e]&&(c.opts.curLang[e]=t)})}e.isFunction(this[i].init)&&this[i].init()}},this))}}},button:function(){return{toolbar:function(){return void 0!==this.button.$toolbar&&this.button.$toolbar?this.button.$toolbar:this.$toolbar},init:function(){return{format:{title:this.lang.get("format"),dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{title:this.lang.get("code"),func:"block.format"},h1:{title:this.lang.get("heading1"),func:"block.format"},h2:{title:this.lang.get("heading2"),func:"block.format"},h3:{title:this.lang.get("heading3"),func:"block.format"},h4:{title:this.lang.get("heading4"),func:"block.format"},h5:{title:this.lang.get("heading5"),func:"block.format"},h6:{title:this.lang.get("heading6"),func:"block.format"}}},bold:{title:this.lang.get("bold-abbr"),label:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic-abbr"),label:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted-abbr"),label:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline-abbr"),label:this.lang.get("underline"),func:"inline.format"},lists:{title:this.lang.get("lists"),dropdown:{unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+this.lang.get("outdent"),func:"indent.decrease",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},ul:{title:"&bull; "+this.lang.get("bulletslist"),func:"list.toggle"},ol:{title:"1. "+this.lang.get("numberslist"),func:"list.toggle"},outdent:{title:this.lang.get("outdent"),func:"indent.decrease"},indent:{title:this.lang.get("indent"),func:"indent.increase"},image:{title:this.lang.get("image"),func:"image.show"},file:{title:this.lang.get("file"),func:"file.show"},link:{title:this.lang.get("link"),dropdown:{link:{title:this.lang.get("link-insert"),func:"link.show",observe:{element:"a",in:{title:this.lang.get("link-edit")},out:{title:this.lang.get("link-insert")}}},unlink:{title:this.lang.get("unlink"),func:"link.unlink",observe:{element:"a",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},horizontalrule:{title:this.lang.get("horizontalrule"),func:"line.insert"}}},setFormatting:function(){e.each(this.toolbarsButtons.format.dropdown,e.proxy(function(t,n){-1===e.inArray(t,this.opts.formatting)&&delete this.toolbarsButtons.format.dropdown[t]},this))},hideButtons:function(){0!==this.opts.buttonsHide.length&&this.button.hideButtonsSlicer(this.opts.buttonsHide)},hideButtonsOnMobile:function(){this.detect.isMobile()&&0!==this.opts.buttonsHideOnMobile.length&&this.button.hideButtonsSlicer(this.opts.buttonsHideOnMobile)},hideButtonsSlicer:function(t){e.each(t,e.proxy(function(e,t){var n=this.opts.buttons.indexOf(t);-1!==n&&this.opts.buttons.splice(n,1)},this))},load:function(t){this.button.buttons=[],e.each(this.opts.buttons,e.proxy(function(n,i){!this.toolbarsButtons[i]||"file"===i&&!this.file.is()||"image"===i&&!this.image.is()||t.append(e("<li>").append(this.button.build(i,this.toolbarsButtons[i])))},this))},build:function(t,n){if(!1!==this.opts.toolbar){var i=e('<a href="javascript:void(null);" class="re-button re-'+t+'" title="'+n.title+'" rel="'+t+'" />').html(n.title);if(i.attr({role:"button","aria-label":n.title,tabindex:"-1"}),void 0!==n.label&&(i.attr("aria-label",n.label),i.attr("title",n.label)),(n.func||n.command||n.dropdown)&&this.button.setEvent(i,t,n),n.dropdown){i.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var r=e('<ul class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+t+'" style="display: none;">');i.data("dropdown",r),this.dropdown.build(t,r,n.dropdown)}return this.button.buttons.push(i),i}},getButtons:function(){return this.button.toolbar().find("a.re-button")},getButtonsKeys:function(){return this.button.buttons},setEvent:function(t,n,i){t.on("mousedown",e.proxy(function(e){if(e.preventDefault(),t.hasClass("redactor-button-disabled"))return!1;var r="func",o=i.func;return i.command?(r="command",o=i.command):i.dropdown&&(r="dropdown",o=!1),this.button.toggle(e,n,r,o),!1},this))},toggle:function(e,t,n,i,r){!this.detect.isIe()&&this.detect.isDesktop()||(this.utils.freezeScroll(),e.returnValue=!1),"command"===n?this.inline.format(i):"dropdown"===n?this.dropdown.show(e,t):this.button.clickCallback(e,i,t,r),"dropdown"!==n&&this.dropdown.hideAll(!1),this.opts.air&&"dropdown"!==n&&this.air.hide(e),!this.detect.isIe()&&this.detect.isDesktop()||this.utils.unfreezeScroll()},clickCallback:function(t,n,i,r){var o;if(r=void 0===r?i:r,e.isFunction(n))n.call(this,i);else if("-1"!==n.search(/\./)){if(o=n.split("."),void 0===this[o[0]])return;"object"==typeof r?this[o[0]][o[1]].apply(this,r):this[o[0]][o[1]].call(this,r)}else"object"==typeof r?this[n].apply(this,r):this[n].call(this,r);this.observe.buttons(t,i)},all:function(){return this.button.buttons},get:function(e){if(!1!==this.opts.toolbar)return this.button.toolbar().find("a.re-"+e)},set:function(e,t){if(!1!==this.opts.toolbar){var n=this.button.toolbar().find("a.re-"+e);return n.html(t).attr("aria-label",t),n}},add:function(t,n){if(!0!==this.button.isAdded(t))return e();var i=this.button.build(t,{title:n});return this.button.toolbar().append(e("<li>").append(i)),i},addFirst:function(t,n){if(!0!==this.button.isAdded(t))return e();var i=this.button.build(t,{title:n});return this.button.toolbar().prepend(e("<li>").append(i)),i},addAfter:function(t,n,i){if(!0!==this.button.isAdded(n))return e();var r=this.button.build(n,{title:i}),o=this.button.get(t);return 0!==o.length?o.parent().after(e("<li>").append(r)):this.button.toolbar().append(e("<li>").append(r)),r},addBefore:function(t,n,i){if(!0!==this.button.isAdded(n))return e();var r=this.button.build(n,{title:i}),o=this.button.get(t);return 0!==o.length?o.parent().before(e("<li>").append(r)):this.button.toolbar().append(e("<li>").append(r)),r},isAdded:function(e){var t=this.opts.buttonsHideOnMobile.indexOf(e);return!(!1===this.opts.toolbar||-1!==t&&this.detect.isMobile())},setIcon:function(e,t){e.html(t)},addCallback:function(t,n){if(void 0!==t&&!1!==this.opts.toolbar){var i="dropdown"===n?"dropdown":"func",r=t.attr("rel");t.on("mousedown",e.proxy(function(e){if(t.hasClass("redactor-button-disabled"))return!1;this.button.toggle(e,r,i,n)},this))}},addDropdown:function(t,n){if(!1!==this.opts.toolbar){t.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var i=t.attr("rel");this.button.addCallback(t,"dropdown");var r=e('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+i+'" style="display: none;">');return t.data("dropdown",r),n&&this.dropdown.build(i,r,n),r}},setActive:function(e){this.button.get(e).addClass("redactor-act")},setInactive:function(e){this.button.get(e).removeClass("redactor-act")},setInactiveAll:function(e){var t=this.button.toolbar().find("a.re-button");void 0!==e&&(t=t.not(".re-"+e)),t.removeClass("redactor-act")},disable:function(e){this.button.get(e).addClass("redactor-button-disabled")},enable:function(e){this.button.get(e).removeClass("redactor-button-disabled")},disableAll:function(e){var t=this.button.toolbar().find("a.re-button");void 0!==e&&(t=t.not(".re-"+e)),t.addClass("redactor-button-disabled")},enableAll:function(){this.button.toolbar().find("a.re-button").removeClass("redactor-button-disabled")},remove:function(e){this.button.get(e).remove()}}},caret:function(){return{set:function(e,t,n){this.core.editor().focus(),n=void 0===n?0:1,e=e[0]||e,t=t[0]||t;var i=this.selection.get(),r=this.selection.range(i);try{r.setStart(e,0),r.setEnd(t,n)}catch(e){}this.selection.update(i,r)},prepare:function(e){return this.detect.isFirefox()&&void 0!==this.start&&this.core.editor().focus(),e[0]||e},start:function(t){var n,i;if(t=this.caret.prepare(t)){if("BR"===t.tagName)return this.caret.before(t);var r=this.utils.isInlineTag(t.tagName);if(""===t.innerHTML||r){n=window.getSelection(),i=document.createRange();var o=document.createTextNode("​");i.setStart(t,0),i.insertNode(o),i.setStartAfter(o),i.collapse(!0),n.removeAllRanges(),n.addRange(i),r||this.core.editor().on("keydown.redactor-remove-textnode",function(){e(o).remove(),e(this).off("keydown.redactor-remove-textnode")})}else n=window.getSelection(),n.removeAllRanges(),i=document.createRange(),i.selectNodeContents(t),i.collapse(!0),n.addRange(i)}},end:function(t){var n,i;if(t=this.caret.prepare(t)){if("BR"!==t.tagName&&""===t.innerHTML)return this.caret.start(t);if("BR"===t.tagName){var r=document.createElement("span");return r.className="redactor-invisible-space",r.innerHTML="&#x200b;",e(t).after(r),n=window.getSelection(),n.removeAllRanges(),i=document.createRange(),i.setStartBefore(r),i.setEndBefore(r),n.addRange(i),void e(r).replaceWith(function(){return e(this).contents()})}if(t.lastChild&&1===t.lastChild.nodeType)return this.caret.after(t.lastChild);n=window.getSelection(),n.removeAllRanges(),i=document.createRange(),i.selectNodeContents(t),i.collapse(!1),n.addRange(i)}},after:function(t){var n,i;if(t=this.caret.prepare(t)){if("BR"===t.tagName)return this.caret.end(t);if(this.utils.isBlockTag(t.tagName)){var r=this.caret.next(t);return void(void 0===r?this.caret.end(t):("TABLE"===r.tagName?r=e(r).find("th, td").first()[0]:"UL"!==r.tagName&&"OL"!==r.tagName||(r=e(r).find("li").first()[0]),this.caret.start(r)))}var o=document.createTextNode("​");n=window.getSelection(),n.removeAllRanges(),i=document.createRange(),i.setStartAfter(t),i.insertNode(o),i.setStartAfter(o),i.collapse(!0),n.addRange(i)}},before:function(t){var n,i;if(t=this.caret.prepare(t)){if(this.utils.isBlockTag(t.tagName)){var r=this.caret.prev(t);return void(void 0===r?this.caret.start(t):("TABLE"===r.tagName?r=e(r).find("th, td").last()[0]:"UL"!==r.tagName&&"OL"!==r.tagName||(r=e(r).find("li").last()[0]),this.caret.end(r)))}n=window.getSelection(),n.removeAllRanges(),i=document.createRange(),i.setStartBefore(t),i.collapse(!0),n.addRange(i)}},next:function(t){var n=e(t).next();return n.hasClass("redactor-script-tag, redactor-selection-marker")?n.next()[0]:n[0]},prev:function(t){var n=e(t).prev();return n.hasClass("redactor-script-tag, redactor-selection-marker")?n.prev()[0]:n[0]},offset:function(e){return this.offset.get(e)}}},clean:function(){return{onSet:function(t){t=this.clean.savePreCode(t),t=this.clean.saveFormTags(t),this.opts.script&&(t=t.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,'<pre class="redactor-script-tag" $1>$2</pre>')),t=t.replace(/\$/g,"&#36;"),t=t.replace(/&amp;/g,"&"),t=t.replace(/<a href="(.*?[^>]?)®(.*?[^>]?)">/gi,'<a href="$1&reg$2">'),t=t.replace(/<span(.*?[^>]?)id="selection-marker-1"(.*?[^>]?)>​<\/span>/gi,"[[[marker1]]]"),t=t.replace(/<span(.*?[^>]?)id="selection-marker-2"(.*?[^>]?)>​<\/span>/gi,"[[[marker2]]]");var n=this,i=e("<div/>").html(e.parseHTML(t,document,!0)),r=this.opts.replaceTags;if(r){var o=Object.keys(this.opts.replaceTags);i.find(o.join(",")).each(function(e,t){n.utils.replaceToTag(t,r[t.tagName.toLowerCase()])})}t=i.html();var a=["font","html","head","link","body","meta","applet"];return this.opts.script||a.push("script"),t=this.clean.stripTags(t,a),this.opts.removeComments&&(t=t.replace(/<!--[\s\S]*?-->/gi,"")),t=this.paragraphize.load(t),t=t.replace("[[[marker1]]]",'<span id="selection-marker-1" class="redactor-selection-marker">​</span>'),t=t.replace("[[[marker2]]]",'<span id="selection-marker-2" class="redactor-selection-marker">​</span>'),-1!==t.search(/^(||\s||<br\s?\/?>||&nbsp;)$/i)?this.opts.emptyHtml:t},onGet:function(e){return this.clean.onSync(e)},onSync:function(t){if(t=t.replace(/\u200B/g,""),t=t.replace(/&#x200b;/gi,""),-1!==t.search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";t=t.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>"),t=t.replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,""),t=t.replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,""),t=t.replace(/<img(.*?)style="(.*?)opacity: 0\.5;(.*?)"(.*?)>/gi,'<img$1style="$2$3"$4>');var n=e("<div/>").html(e.parseHTML(t,document,!0));n.find('*[style=""]').removeAttr("style"),n.find('*[class=""]').removeAttr("class"),n.find('*[rel=""]').removeAttr("rel"),n.find(".redactor-invisible-space").each(function(){e(this).contents().unwrap()}),n.find("span").each(function(){0===this.attributes.length&&e(this).contents().unwrap()}),n.find("img").removeAttr("rel"),n.find(".redactor-selection-marker, #redactor-insert-marker").remove(),t=n.html(),this.opts.script&&(t=t.replace(/<pre class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2<\/script>")),t=this.clean.restoreFormTags(t),t=t.replace(new RegExp("<br\\s?/?></h","gi"),"</h"),t=t.replace(new RegExp("<br\\s?/?></li>","gi"),"</li>"),t=t.replace(new RegExp("</li><br\\s?/?>","gi"),"</li>"),t=t.replace(/<pre>/gi,"<pre>\n"),this.opts.preClass&&(t=t.replace(/<pre>/gi,'<pre class="'+this.opts.preClass+'">')),this.opts.linkNofollow&&(t=t.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,"<a$1$2>"),t=t.replace(/<a(.*?[^>])>/gi,'<a$1 rel="nofollow">'));var i={"™":"&trade;","©":"&copy;","…":"&hellip;","—":"&mdash;","‐":"&dash;"};return e.each(i,function(e,n){t=t.replace(new RegExp(e,"g"),n)}),t=t.replace(/&amp;/g,"&"),t=t.replace(/<p><\/p>/gi,"")},onPaste:function(t,n,i){if(!0!==i){t=t.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),t=t.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3"),t=t.replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>"),t=t.replace(/<span[^>]*(font-style: italic; font-weight: 700|font-weight: 700; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>"),t=t.replace(/<span[^>]*font-style: italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>"),t=t.replace(/<span[^>]*font-weight: bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>"),t=t.replace(/<span[^>]*font-weight: 700[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>");this.clean.isHtmlMsWord(t)&&(t=this.clean.cleanMsWord(t))}return t=e.trim(t),n.pre?this.opts.preSpaces&&(t=t.replace(/\t/g,new Array(this.opts.preSpaces+1).join(" "))):(t=this.clean.replaceBrToNl(t),t=this.clean.removeTagsInsidePre(t)),!0!==i&&(t=this.clean.removeSpans(t),t=this.clean.removeEmptyInlineTags(t),!1===n.encode&&(t=t.replace(/&/g,"&amp;"),t=this.clean.convertTags(t,n),t=this.clean.getPlainText(t),t=this.clean.reconvertTags(t,n))),n.text&&(t=this.clean.replaceNbspToSpaces(t),t=this.clean.getPlainText(t)),n.lists&&(t=t.replace("\n","<br>")),n.encode&&(t=this.clean.encodeHtml(t)),n.paragraphize&&(t=this.paragraphize.load(t)),t},getCurrentType:function(e,t){var n=this.selection.blocks(),i={text:!1,encode:!1,paragraphize:!0,line:this.clean.isHtmlLine(e),blocks:this.clean.isHtmlBlocked(e),pre:!1,lists:!1,block:!0,inline:!0,links:!0,images:!0};return 1===n.length&&this.utils.isCurrentOrParent(["h1","h2","h3","h4","h5","h6","a","figcaption"])?(i.text=!0,i.paragraphize=!1,i.inline=!1,i.images=!1,i.links=!1,i.line=!0):"inline"===this.opts.type||!1===this.opts.enterKey?(i.paragraphize=!1,i.block=!1,i.line=!0):1===n.length&&this.utils.isCurrentOrParent(["li"])?(i.lists=!0,i.block=!1,i.paragraphize=!1,i.images=!1):1===n.length&&this.utils.isCurrentOrParent(["th","td","blockquote"])?(i.block=!1,i.paragraphize=!1):("pre"===this.opts.type||1===n.length&&this.utils.isCurrentOrParent("pre"))&&(i.inline=!1,i.block=!1,i.encode=!0,i.pre=!0,i.paragraphize=!1,i.images=!1,i.links=!1),!0===i.line&&(i.paragraphize=!1),!0===t&&(i.text=!1),i},isHtmlBlocked:function(e){var t=e.match(new RegExp("</("+this.opts.blockTags.join("|").toUpperCase()+")>","gi")),n=e.match(new RegExp("<hr(.*?[^>])>","gi"));return null!==t||null!==n},isHtmlLine:function(e){if(this.clean.isHtmlBlocked(e))return!1;var t=e.match(/<br\s?\/?>/gi),n=e.match(/\n/gi);return!t&&!n},isHtmlMsWord:function(e){return e.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},removeEmptyInlineTags:function(e){for(var t=this.opts.inlineTags,n=t.length,i=0;i<n;i++)e=e.replace(new RegExp("<"+t[i]+"[^>]*>(s\n|\t)?</"+t[i]+">","gi"),"");return e},removeSpans:function(e){return e=e.replace(/<\/span>/gi,""),e=e.replace(/<span[^>]*>/gi,"")},cleanMsWord:function(t){t=t.replace(/<!--[\s\S]*?-->/g,""),t=t.replace(/<o:p>[\s\S]*?<\/o:p>/gi,""),t=t.replace(/\n/g," "),t=t.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n\n");var n=e("<div/>").html(t),i=!1,r=1,o=[];return n.find("p[style]").each(function(){var t=e(this).attr("style").match(/mso\-list\:l([0-9]+)\slevel([0-9]+)/);if(t){var a=parseInt(t[1]),s=parseInt(t[2]),l=e(this).html().match(/^[\w]+\./)?"ol":"ul",c=e("<li/>").html(e(this).html());if(c.html(c.html().replace(/^([\w\.]+)</,"<")),c.find("span:first").remove(),1==s&&-1==e.inArray(a,o)){var d=e("<"+l+"/>").attr({"data-level":s,"data-list":a}).html(c);e(this).replaceWith(d),i=a,o.push(a)}else{if(s>r){for(var u=n.find('[data-level="'+r+'"][data-list="'+i+'"]'),h=u,p=r;p<s;p++)d=e("<"+l+"/>"),d.appendTo(h.find("li").last()),h=d;h.attr({"data-level":s,"data-list":a}).html(c)}else{var u=n.find('[data-level="'+s+'"][data-list="'+a+'"]').last();u.append(c)}r=s,i=a,e(this).remove()}}}),n.find("[data-level][data-list]").removeAttr("data-level data-list"),t=n.html()},replaceNbspToSpaces:function(e){return e.replace("&nbsp;"," ")},replaceBrToNl:function(e){return e.replace(/<br\s?\/?>/gi,"\n")},replaceNlToBr:function(e){return e.replace(/\n/g,"<br />")},convertTags:function(t,n){var i=e("<div>").html(t);i.find("iframe").remove();var r=i.find("a");if(r.removeAttr("style"),!1!==this.opts.pasteLinkTarget&&r.attr("target",this.opts.pasteLinkTarget),t=i.html(),n.links&&this.opts.pasteLinks&&(t=t.replace(/<a(.*?)href="(.*?)"(.*?)>(.*?)<\/a>/gi,'###a$1href="$2"$3###$4###/a###')),n.images&&this.opts.pasteImages&&(t=t.replace(/<img(.*?)src="(.*?)"(.*?[^>])>/gi,'###img$1src="$2"$3###')),this.opts.pastePlainText)return t;var o,a=n.lists?["ul","ol","li"]:this.opts.pasteBlockTags;o=n.block||n.lists?n.inline?a.concat(this.opts.pasteInlineTags):a:n.inline?this.opts.pasteInlineTags:[];for(var s=o.length,l=0;l<s;l++)t=t.replace(new RegExp("</"+o[l]+">","gi"),"###/"+o[l]+"###"),t="td"===o[l]||"th"===o[l]?t.replace(new RegExp("<"+o[l]+'(.*?[^>])((colspan|rowspan)="(.*?[^>])")?(.*?[^>])>',"gi"),"###"+o[l]+" $2###"):t.replace(new RegExp("<"+o[l]+"[^>]*>","gi"),"###"+o[l]+"###");return t},reconvertTags:function(e,t){if(t.links&&this.opts.pasteLinks&&(e=e.replace(/###a(.*?)href="(.*?)"(.*?)###(.*?)###\/a###/gi,'<a$1href="$2"$3>$4</a>')),t.images&&this.opts.pasteImages&&(e=e.replace(/###img(.*?)src="(.*?)"###/gi,'<img src="$2">')),this.opts.pastePlainText)return e;var n,i=t.lists?["ul","ol","li"]:this.opts.pasteBlockTags;n=t.block||t.lists?t.inline?i.concat(this.opts.pasteInlineTags):i:t.inline?this.opts.pasteInlineTags:[];for(var r=n.length,o=0;o<r;o++)e=e.replace(new RegExp("###/"+n[o]+"###","gi"),"</"+n[o]+">"),e=e.replace(new RegExp("###"+n[o]+"###","gi"),"<"+n[o]+">");for(var o=0;o<r;o++)"td"!==n[o]&&"th"!==n[o]||(e=e.replace(new RegExp("###"+n[o]+"s?(.*?[^#])###","gi"),"<"+n[o]+"$1>"));return e},cleanPre:function(t){t=void 0===t?e(this.selection.block()).closest("pre",this.core.editor()[0]):t,e(t).find("br").replaceWith(function(){return document.createTextNode("\n")}),e(t).find("p").replaceWith(function(){return e(this).contents()})},removeTagsInsidePre:function(t){var n=e("<div />").append(t);return n.find("pre").replaceWith(function(){var t=e(this).html();return t=t.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n"),t=t.replace(/(<([^>]+)>)/gi,""),e("<pre />").append(t)}),t=n.html(),n.remove(),t},getPlainText:function(t){t=t.replace(/<!--[\s\S]*?-->/gi,""),t=t.replace(/<style[\s\S]*?style>/gi,""),t=t.replace(/<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n"),t=t.replace(/<\/H[1-6]>/gi,"\n\n");var n=document.createElement("div");return n.innerHTML=t,t=n.textContent||n.innerText,e.trim(t)},savePreCode:function(e){return e=this.clean.savePreFormatting(e),e=this.clean.saveCodeFormatting(e),e=this.clean.restoreSelectionMarkers(e)},savePreFormatting:function(t){var n=t.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return null===n?t:(e.each(n,e.proxy(function(e,n){var i=n.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i);i[2]=i[2].replace(/<br\s?\/?>/g,"\n"),i[2]=i[2].replace(/&nbsp;/g," "),this.opts.preSpaces&&(i[2]=i[2].replace(/\t/g,new Array(this.opts.preSpaces+1).join(" "))),i[2]=this.clean.encodeEntities(i[2]),i[2]=i[2].replace(/\$/g,"&#36;"),t=t.replace(n,"<pre"+i[1]+">"+i[2]+"</pre>")},this)),t)},saveCodeFormatting:function(t){var n=t.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);return null===n?t:(e.each(n,e.proxy(function(e,n){var i=n.match(/<code(.*?)>([\w\W]*?)<\/code>/i);i[2]=i[2].replace(/&nbsp;/g," "),i[2]=this.clean.encodeEntities(i[2]),i[2]=i[2].replace(/\$/g,"&#36;"),t=t.replace(n,"<code"+i[1]+">"+i[2]+"</code>")},this)),t)},restoreSelectionMarkers:function(e){return e=e.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot;&gt;​&lt;\/span&gt;/g,'<span id="selection-marker-$1" class="redactor-selection-marker">​</span>')},saveFormTags:function(e){return e.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(e){return e.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")},encodeHtml:function(e){return e=e.replace(/”/g,'"'),e=e.replace(/“/g,'"'),e=e.replace(/‘/g,"'"),e=e.replace(/’/g,"'"),e=this.clean.encodeEntities(e)},encodeEntities:function(e){return e=String(e).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},stripTags:function(e,t){if(void 0===t)return e.replace(/(<([^>]+)>)/gi,"");var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return e.replace(n,function(e,n){return-1===t.indexOf(n.toLowerCase())?e:""})},removeMarkers:function(e){return e.replace(/<span(.*?[^>]?)class="redactor-selection-marker"(.*?[^>]?)>([\w\W]*?)<\/span>/gi,"")},removeSpaces:function(t){return t=e.trim(t),t=t.replace(/\n/g,""),t=t.replace(/[\t]*/g,""),t=t.replace(/\n\s*\n/g,"\n"),t=t.replace(/^[\s\n]*/g," "),t=t.replace(/[\s\n]*$/g," "),t=t.replace(/>\s{2,}</g,"> <"),t=t.replace(/\n\n/g,"\n"),t=t.replace(/\u200B/g,"")},removeSpacesHard:function(t){return t=e.trim(t),t=t.replace(/\n/g,""),t=t.replace(/[\t]*/g,""),t=t.replace(/\n\s*\n/g,"\n"),t=t.replace(/^[\s\n]*/g,""),t=t.replace(/[\s\n]*$/g,""),t=t.replace(/>\s{2,}</g,"><"),t=t.replace(/\n\n/g,"\n"),t=t.replace(/\u200B/g,"")},normalizeCurrentHeading:function(){var e=this.selection.block();this.utils.isCurrentOrParentHeader()&&e&&e.normalize()}}},code:function(){return{syncFire:!0,html:!1,start:function(t){t=e.trim(t),t=t.replace(/^(<span id="selection-marker-1" class="redactor-selection-marker">​<\/span>)/,""),"textarea"===this.opts.type?t=this.clean.onSet(t):"div"===this.opts.type&&""===t&&(t=this.opts.emptyHtml),this.events.stopDetectChanges(),this.core.editor().html(t),this.observe.load(),this.events.startDetectChanges()},set:function(t,n){t=e.trim(t),n=n||{},n.start&&(this.start=n.start),"textarea"===this.opts.type?t=this.clean.onSet(t):"div"===this.opts.type&&""===t&&(t=this.opts.emptyHtml),this.core.editor().html(t),"textarea"===this.opts.type&&this.code.sync(),this.placeholder.enable()},get:function(){if("textarea"===this.opts.type)return this.core.textarea().val();var e=this.core.editor().html();return e=this.clean.onGet(e)},sync:function(){if(this.code.syncFire){var t=this.core.editor().html(),n=this.code.cleaned(t);if(!this.code.isSync(n)){if(this.code.html=n,"textarea"!==this.opts.type)return this.core.callback("sync",t),void this.core.callback("change",t);"textarea"===this.opts.type&&setTimeout(e.proxy(function(){this.code.startSync(t)},this),10)}}},startSync:function(e){e=this.core.callback("syncBefore",e),e=this.clean.onSync(e),this.core.textarea().val(e),this.core.callback("sync",e),!1===this.start&&this.core.callback("change",e),this.start=!1},isSync:function(e){var t=!1!==this.code.html&&this.code.html;return!1!==t&&t===e},cleaned:function(e){return e=e.replace(/\u200B/g,""),this.clean.removeMarkers(e)}}},core:function(){return{id:function(){return this.$editor.attr("id")},element:function(){return this.$element},editor:function(){return void 0===this.$editor?e():this.$editor},textarea:function(){return this.$textarea},box:function(){return"textarea"===this.opts.type?this.$box:this.$element},toolbar:function(){return!!this.$toolbar&&this.$toolbar},air:function(){return!!this.$air&&this.$air},object:function(){return e.extend({},this)},structure:function(){this.core.editor().toggleClass("redactor-structure")},addEvent:function(e){this.core.event=e},getEvent:function(){return this.core.event},callback:function(t,n,i){var r=!1,o=e._data(this.core.element()[0],"events");if(void 0!==o&&void 0!==o[t])for(var a=o[t].length,s=0;s<a;s++){var l=o[t][s].namespace;if("callback.redactor"===l){var c=o[t][s].handler,d=void 0===i?[n]:[n,i];r=void 0===d?c.call(this,n):c.call(this,n,d)}}if(r)return r;if(void 0===this.opts.callbacks[t])return void 0===i?n:i;var u=this.opts.callbacks[t];return e.isFunction(u)?void 0===i?u.call(this,n):u.call(this,n,i):void 0===i?n:i},destroy:function(){this.opts.destroyed=!0,this.core.callback("destroy"),this.placeholder.destroy(),this.progress.destroy(),e("#redactor-voice-"+this.uuid).remove(),this.core.editor().removeClass("redactor-in redactor-structure redactor-editor-img-edit"),this.core.editor().off("keydown.redactor-remove-textnode"),this.core.editor().off(".redactor-observe."+this.uuid),this.$element.off(".redactor").removeData("redactor"),this.core.editor().off(".redactor"),e(document).off(".redactor-dropdown"),e(document).off(".redactor-air."+this.uuid),e(document).off("mousedown.redactor-blur."+this.uuid),e(document).off("mousedown.redactor."+this.uuid),e(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid),e(window).off(".redactor-toolbar."+this.uuid),e(window).off("touchmove.redactor."+this.uuid),e("body").off("scroll.redactor."+this.uuid),e(this.opts.toolbarFixedTarget).off("scroll.redactor."+this.uuid);var t=this;!1!==this.opts.plugins&&e.each(this.opts.plugins,function(n,i){e(window).off(".redactor-plugin-"+i),e(document).off(".redactor-plugin-"+i),e("body").off(".redactor-plugin-"+i),t.core.editor().off(".redactor-plugin-"+i)}),this.$element.off("click.redactor-click-to-edit"),this.$element.removeClass("redactor-click-to-edit"),this.core.editor().removeClass("redactor-editor"),this.core.editor().removeAttr("contenteditable");var n=this.code.get();this.opts.toolbar&&this.$toolbar&&this.$toolbar.find("a").each(function(){var t=e(this);t.data("dropdown")&&(t.data("dropdown").remove(),t.data("dropdown",{}))}),"textarea"===this.opts.type&&(this.$box.after(this.$element),this.$box.remove(),this.$element.val(n).show()),this.opts.air&&this.$air.remove(),this.opts.toolbar&&this.$toolbar&&this.$toolbar.remove(),this.$modalBox&&this.$modalBox.remove(),this.$modalOverlay&&this.$modalOverlay.remove(),e(".redactor-link-tooltip").remove(),clearInterval(this.autosaveTimeout)}}},detect:function(){return{isWebkit:function(){return/webkit/.test(this.opts.userAgent)},isFirefox:function(){return this.opts.userAgent.indexOf("firefox")>-1},isIe:function(e){if(document.documentMode||/Edge/.test(navigator.userAgent))return"edge";var t;return t=RegExp("msie"+(isNaN(e)?"":"\\s"+e),"i").test(navigator.userAgent),t||(t=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),t},isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isIpad:function(){return/iPad/.test(navigator.userAgent)}}},dropdown:function(){return{active:!1,button:!1,key:!1,position:[],getDropdown:function(){return this.dropdown.active},build:function(t,n,i){i=this.dropdown.buildFormatting(t,i),e.each(i,e.proxy(function(e,i){var r=this.dropdown.buildItem(e,i);this.observe.addDropdown(r,e,i),n.attr("rel",t).append(r)},this))},buildFormatting:function(t,n){return"format"!==t||!1===this.opts.formattingAdd?n:(e.each(this.opts.formattingAdd,e.proxy(function(e,t){var i=this.utils.isBlockTag(t.args[0])?"block":"inline";n[e]={func:"block"===i?"block.format":"inline.format",args:t.args,title:t.title}},this)),n)},buildItem:function(t,n){var i=e("<li />");if(void 0!==n.classname&&i.addClass(n.classname),-1!==t.search(/^divider/i))return i.addClass("redactor-dropdown-divider"),i;var r=e('<a href="#" class="redactor-dropdown-'+t+'" role="button" />'),o=e("<span />").html(n.title);return r.append(o),r.on("mousedown",e.proxy(function(e){e.preventDefault(),this.dropdown.buildClick(e,t,n)},this)),i.append(r),i},buildClick:function(t,n,i){if(!e(t.target).hasClass("redactor-dropdown-link-inactive")){var r=this.dropdown.buildCommand(i);" undefined"!=typeof i.args?this.button.toggle(t,n,r.type,r.callback,i.args):this.button.toggle(t,n,r.type,r.callback)}},buildCommand:function(e){var t={};return t.type="func",t.callback=e.func,e.command?(t.type="command",t.callback=e.command):e.dropdown&&(t.type="dropdown",t.callback=e.dropdown),t},show:function(t,n){if(this.detect.isDesktop()&&this.core.editor().focus(),this.dropdown.hideAll(!1,n),this.dropdown.key=n,this.dropdown.button=this.button.get(this.dropdown.key),this.dropdown.button.hasClass("dropact"))return void this.dropdown.hide();this.dropdown.active=this.dropdown.button.data("dropdown").appendTo(document.body),this.core.callback("dropdownShow",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button}),this.button.setActive(this.dropdown.key),this.dropdown.button.addClass("dropact"),this.dropdown.getButtonPosition(),this.button.toolbar().hasClass("toolbar-fixed-box")&&this.detect.isDesktop()?this.dropdown.showIsFixedToolbar():this.dropdown.showIsUnFixedToolbar(),this.detect.isDesktop()&&!this.detect.isFirefox()&&(this.dropdown.active.on("mouseover.redactor-dropdown",e.proxy(this.utils.disableBodyScroll,this)),this.dropdown.active.on("mousedown.redactor-dropdown",e.proxy(this.utils.enableBodyScroll,this))),t.stopPropagation()},showIsFixedToolbar:function(){var t=this.dropdown.button.position().top+this.dropdown.button.innerHeight()+this.opts.toolbarFixedTopOffset,n="fixed";this.opts.toolbarFixedTarget!==document&&(t=this.dropdown.button.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,n="absolute"),this.dropdown.active.css({position:n,left:this.dropdown.position.left+"px",top:t+"px"}).show(),this.dropdown.active.redactorAnimation("slideDown",{duration:.2},e.proxy(function(){this.dropdown.enableCallback(),this.dropdown.enableEvents()},this))},showIsUnFixedToolbar:function(){this.dropdown.active.css({position:"absolute",left:this.dropdown.position.left+"px",top:this.dropdown.button.innerHeight()+this.dropdown.position.top+"px"}).show(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideDown":"show",{duration:.2},e.proxy(function(){this.dropdown.enableCallback(),this.dropdown.enableEvents()},this))},enableEvents:function(){e(document).on("mousedown.redactor-dropdown",e.proxy(this.dropdown.hideAll,this)),this.core.editor().on("touchstart.redactor-dropdown",e.proxy(this.dropdown.hideAll,this)),e(document).on("keyup.redactor-dropdown",e.proxy(this.dropdown.closeHandler,this))},enableCallback:function(){this.core.callback("dropdownShown",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button})},getButtonPosition:function(){this.dropdown.position=this.dropdown.button.offset();var t=this.dropdown.active.width();this.dropdown.position.left+t>e(document).width()&&(this.dropdown.position.left=Math.max(0,this.dropdown.position.left-t+parseInt(this.dropdown.button.innerWidth())))},closeHandler:function(e){e.which===this.keyCode.ESC&&(this.dropdown.hideAll(e),this.core.editor().focus())},hideAll:function(t,n){if(this.detect.isDesktop()&&this.utils.enableBodyScroll(),!1===t||0===e(t.target).closest(".redactor-dropdown").length){var i=void 0===n?this.button.toolbar().find("a.dropact"):this.button.toolbar().find("a.dropact").not(".re-"+n),r=void 0===n?e(".redactor-dropdown-"+this.uuid):e(".redactor-dropdown-"+this.uuid).not(".redactor-dropdown-box-"+n);0!==r.length&&(e(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),e.each(r,e.proxy(function(t,n){var i=e(n);this.core.callback("dropdownHide",i),i.hide(),i.off("mouseover mouseout").off(".redactor-dropdown")},this)),i.removeClass("redactor-act dropact"))}},hide:function(){!1!==this.dropdown.active&&(this.detect.isDesktop()&&this.utils.enableBodyScroll(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideUp":"hide",{duration:.2},e.proxy(function(){e(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),this.dropdown.hideOut()},this)))},hideOut:function(){this.core.callback("dropdownHide",this.dropdown.active),this.dropdown.button.removeClass("redactor-act dropact"),this.dropdown.active.off("mouseover mouseout").off(".redactor-dropdown"),this.dropdown.button=!1,this.dropdown.key=!1,this.dropdown.active=!1}}},events:function(){return{focused:!1,blured:!0,dropImage:!1,stopChanges:!1,stopDetectChanges:function(){this.events.stopChanges=!0},startDetectChanges:function(){var e=this;setTimeout(function(){e.events.stopChanges=!1},1)},dragover:function(t){t.preventDefault(),t.stopPropagation(),"IMG"===t.target.tagName&&e(t.target).addClass("redactor-image-dragover")},dragleave:function(e){this.core.editor().find("img").removeClass("redactor-image-dragover")},drop:function(e){return e=e.originalEvent||e,this.core.editor().find("img").removeClass("redactor-image-dragover"),"inline"===this.opts.type||"pre"===this.opts.type?(e.preventDefault(),!1):void 0===window.FormData||!e.dataTransfer||(0===e.dataTransfer.files.length?this.events.onDrop(e):(this.events.onDropUpload(e),void this.core.callback("drop",e)))},click:function(e){var t=this.core.getEvent(),n="click"!==t&&"arrow"!==t&&"click";this.core.addEvent(n),this.utils.disableSelectAll(),this.core.callback("click",e)},focus:function(e){if(!this.rtePaste&&(this.events.isCallback("focus")&&this.core.callback("focus",e),this.events.focused=!0,this.events.blured=!1,!1===this.selection.current())){var t=this.selection.get(),n=this.selection.range(t);n.setStart(this.core.editor()[0],0),n.setEnd(this.core.editor()[0],0),this.selection.update(t,n)}},blur:function(t){this.start||this.rtePaste||0===e(t.target).closest("#"+this.core.id()+", .redactor-toolbar, .redactor-dropdown, #redactor-modal-box").length&&(!this.events.blured&&this.events.isCallback("blur")&&this.core.callback("blur",t),this.events.focused=!1,this.events.blured=!0)},touchImageEditing:function(){var t=-1;this.events.imageEditing=!1,e(window).on("touchmove.redactor."+this.uuid,e.proxy(function(){this.events.imageEditing=!0,-1!==t&&clearTimeout(t),t=setTimeout(e.proxy(function(){this.events.imageEditing=!1},this),500)},this))},init:function(){this.core.editor().on("dragover.redactor dragenter.redactor",e.proxy(this.events.dragover,this)),this.core.editor().on("dragleave.redactor",e.proxy(this.events.dragleave,this)),this.core.editor().on("drop.redactor",e.proxy(this.events.drop,this)),this.core.editor().on("click.redactor",e.proxy(this.events.click,this)),this.core.editor().on("paste.redactor",e.proxy(this.paste.init,this)),this.core.editor().on("keydown.redactor",e.proxy(this.keydown.init,this)),this.core.editor().on("keyup.redactor",e.proxy(this.keyup.init,this)),this.core.editor().on("focus.redactor",e.proxy(this.events.focus,this)),e(document).on("mousedown.redactor-blur."+this.uuid,e.proxy(this.events.blur,this)),this.events.touchImageEditing(),this.events.createObserver(),this.events.setupObserver()},createObserver:function(){var t=this;this.events.observer=new MutationObserver(function(n){n.forEach(e.proxy(t.events.iterateObserver,t))})},iterateObserver:function(e){var t=!1;(("textarea"===this.opts.type||"div"===this.opts.type)&&!this.detect.isFirefox()&&e.target===this.core.editor()[0]||"class"===e.attributeName&&e.target===this.core.editor()[0])&&(t=!0),t||(this.observe.load(),this.events.changeHandler())},setupObserver:function(){this.events.observer.observe(this.core.editor()[0],{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})},changeHandler:function(){this.events.stopChanges||(this.code.sync(),this.autosave.is()&&(clearTimeout(this.autosaveTimeout),this.autosaveTimeout=setTimeout(e.proxy(this.autosave.send,this),300)))},onDropUpload:function(e){if(e.preventDefault(),e.stopPropagation(),(this.opts.dragImageUpload||this.opts.dragFileUpload)&&(null!==this.opts.imageUpload||null!==this.opts.fileUpload)){"IMG"===e.target.tagName&&(this.events.dropImage=e.target);var t=e.dataTransfer.files;this.upload.directUpload(t[0],e)}},onDrop:function(e){this.core.callback("drop",e)},isCallback:function(t){return void 0!==this.opts.callbacks[t]&&e.isFunction(this.opts.callbacks[t])},stopDetect:function(){this.events.stopDetectChanges()},startDetect:function(){this.events.startDetectChanges()}}},file:function(){return{is:function(){return!(!this.opts.fileUpload||!this.opts.fileUpload&&!this.opts.s3)},show:function(){this.modal.load("file",this.lang.get("file"),700),this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert),e("#redactor-filename").val(this.selection.get().toString()),this.modal.show()},insert:function(t,n,i){if(void 0!==t.error)return this.modal.close(),void this.core.callback("fileUploadError",t);this.file.release(i,n),this.buffer.set(),this.air.collapsed();var r=this.file.text(t),o=e("<a />").attr("href",t.url).text(r),a=void 0===t.id?"":t.id,s=void 0===t.s3?"file":"s3";o.attr("data-"+s,a),o=e(this.insert.node(o)),this.caret.after(o),this.storage.add({type:s,node:o[0],url:o[0].href,id:a}),null!==n&&this.core.callback("fileUpload",o,t)},release:function(e,t){t?(this.marker.remove(),this.insert.nodeToPoint(e,this.marker.get()),this.selection.restore()):this.modal.close()},text:function(t){var n=e("#redactor-filename").val();return void 0===n||""===n?t.name:n}}},focus:function(){return{start:function(){if(this.core.editor().focus(),"inline"!==this.opts.type){var e=this.focus.first();!1!==e&&this.caret.start(e)}},end:function(){this.core.editor().focus();var e=this.opts.inline?this.core.editor():this.focus.last();if(0!==e.length){var t=this.focus.lastChild(e);if(this.detect.isWebkit()||!1===t){var n=this.selection.get(),i=this.selection.range(n);null!==i?(i.selectNodeContents(e[0]),i.collapse(!1),this.selection.update(n,i)):this.caret.end(e)}else this.caret.end(t)}},first:function(){var e=this.core.editor().children().first();return(0!==e.length||0!==e[0].length&&"BR"!==e[0].tagName&&"HR"!==e[0].tagName&&3!==e[0].nodeType)&&("UL"===e[0].tagName||"OL"===e[0].tagName?e.find("li").first():e)},last:function(){return this.core.editor().children().last()},lastChild:function(e){var t=e[0].lastChild;return!(null===t||!this.utils.isInlineTag(t.tagName))&&t},is:function(){return this.core.editor()[0]===document.activeElement}}},image:function(){return{is:function(){return!(!this.opts.imageUpload||!this.opts.imageUpload&&!this.opts.s3)},show:function(){this.modal.load("image",this.lang.get("image"),700),this.upload.init("#redactor-modal-image-droparea",this.opts.imageUpload,this.image.insert),this.modal.show()},insert:function(t,n,i){var r;if(void 0!==t.error)return this.modal.close(),this.events.dropImage=!1,void this.core.callback("imageUploadError",t,i);if(!1!==this.events.dropImage)return r=e(this.events.dropImage),this.core.callback("imageDelete",r[0].src,r),r.attr("src",t.url),this.events.dropImage=!1,void this.core.callback("imageUpload",r,t);this.placeholder.hide();var o=e("<"+this.opts.imageTag+">");r=e("<img>"),r.attr("src",t.url);var a=void 0===t.id?"":t.id,s=void 0===t.s3?"image":"s3";r.attr("data-"+s,a),o.append(r);var l=this.utils.isTag(this.selection.current(),"pre");if(n){this.air.collapsed(),this.marker.remove();var c=this.insert.nodeToPoint(i,this.marker.get()),d=e(c).next();this.selection.restore(),this.buffer.set(),void 0!==d&&0!==d.length&&"IMG"===d[0].tagName?(this.core.callback("imageDelete",d[0].src,d),d.closest("figure, p",this.core.editor()[0]).replaceWith(o),this.caret.after(o)):(l?e(l).after(o):this.insert.node(o),this.caret.after(o))}else this.modal.close(),this.buffer.set(),this.air.collapsed(),l?e(l).after(o):this.insert.node(o),this.caret.after(o);this.events.dropImage=!1,this.storage.add({type:s,node:r[0],url:r[0].src,id:a}),null!==n&&this.core.callback("imageUpload",r,t)},setEditable:function(t){if(t.on("dragstart",function(e){e.preventDefault()}),this.opts.imageResizable){var n=e.proxy(function(n){this.observe.image=t,this.image.resizer=this.image.loadEditableControls(t),e(document).on("mousedown.redactor-image-resize-hide."+this.uuid,e.proxy(this.image.hideResize,this)),this.image.resizer.on("mousedown.redactor touchstart.redactor",e.proxy(function(e){this.image.setResizable(e,t)},this))},this);t.off("mousedown.redactor").on("mousedown.redactor",e.proxy(this.image.hideResize,this)),t.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",n)}else t.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",e.proxy(function(n){setTimeout(e.proxy(function(){this.image.showEdit(t)},this),200)},this))},setResizable:function(e,t){e.preventDefault(),this.image.resizeHandle={x:e.pageX,y:e.pageY,el:t,ratio:t.width()/t.height(),h:t.height()},e=e.originalEvent||e,e.targetTouches&&(this.image.resizeHandle.x=e.targetTouches[0].pageX,this.image.resizeHandle.y=e.targetTouches[0].pageY),this.image.startResize()},startResize:function(){e(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",e.proxy(this.image.moveResize,this)),e(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",e.proxy(this.image.stopResize,this))},moveResize:function(e){e.preventDefault(),e=e.originalEvent||e;var t=this.image.resizeHandle.h;e.targetTouches?t+=e.targetTouches[0].pageY-this.image.resizeHandle.y:t+=e.pageY-this.image.resizeHandle.y;var n=Math.round(t*this.image.resizeHandle.ratio);if(!(t<50||n<100)){var t=Math.round(this.image.resizeHandle.el.width()/this.image.resizeHandle.ratio);this.image.resizeHandle.el.attr({width:n,height:t}),this.image.resizeHandle.el.width(n),this.image.resizeHandle.el.height(t),this.code.sync()}},stopResize:function(){this.handle=!1,e(document).off(".redactor-image-resize"),this.image.hideResize()},hideResize:function(t){if(!t||0===e(t.target).closest("#redactor-image-box",this.$editor[0]).length){if(t&&"IMG"==t.target.tagName){e(t.target)}var n=this.$editor.find("#redactor-image-box");0!==n.length&&(e("#redactor-image-editter").remove(),e("#redactor-image-resizer").remove(),n.find("img").css({marginTop:n[0].style.marginTop,marginBottom:n[0].style.marginBottom,marginLeft:n[0].style.marginLeft,marginRight:n[0].style.marginRight}),n.css("margin",""),n.find("img").css("opacity",""),n.replaceWith(function(){return e(this).contents()}),e(document).off("mousedown.redactor-image-resize-hide."+this.uuid),void 0!==this.image.resizeHandle&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style")))}},loadResizableControls:function(t,n){if(this.opts.imageResizable&&!this.detect.isMobile()){var i=e('<span id="redactor-image-resizer" data-redactor="verified"></span>');return this.detect.isDesktop()||i.css({width:"15px",height:"15px"}),i.attr("contenteditable",!1),n.append(i),n.append(t),i}return n.append(t),!1},loadEditableControls:function(t){var n=e('<span id="redactor-image-box" data-redactor="verified">');if(n.css("float",t.css("float")).attr("contenteditable",!1),"auto"!=t[0].style.margin?(n.css({marginTop:t[0].style.marginTop,marginBottom:t[0].style.marginBottom,marginLeft:t[0].style.marginLeft,marginRight:t[0].style.marginRight}),t.css("margin","")):n.css({display:"block",margin:"auto"}),t.css("opacity",".5").after(n),this.opts.imageEditable){this.image.editter=e('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>"),this.image.editter.attr("contenteditable",!1),this.image.editter.on("click",e.proxy(function(){this.image.showEdit(t)},this)),n.append(this.image.editter);var i=this.image.editter.innerWidth();this.image.editter.css("margin-left","-"+i/2+"px")}return this.image.loadResizableControls(t,n)},showEdit:function(t){if(!this.events.imageEditing){this.observe.image=t;var n=t.closest("a",this.$editor[0]);if(this.modal.load("image-edit",this.lang.get("edit"),705),this.image.buttonDelete=this.modal.getDeleteButton().text(this.lang.get("delete")),this.image.buttonSave=this.modal.getActionButton().text(this.lang.get("save")),this.image.buttonDelete.on("click",e.proxy(this.image.remove,this)),this.image.buttonSave.on("click",e.proxy(this.image.update,this)),!1===this.opts.imageCaption)e("#redactor-image-caption").val("").hide().prev().hide();else{var i=t.closest(this.opts.imageTag,this.$editor[0]),r=i.find("figcaption");0!==r&&e("#redactor-image-caption").val(r.text()).show()}if(this.opts.imagePosition){var o="block"==t.css("display")&&"none"==t.css("float")?"center":t.css("float");e("#redactor-image-align").val(o)}else e(".redactor-image-position-option").hide();e("#redactor-image-preview").html(e('<img src="'+t.attr("src")+'" style="max-width: 100%;">')),e("#redactor-image-title").val(t.attr("alt"));var a=e("#redactor-image-link");a.attr("href",t.attr("src")),0!==n.length&&(a.val(n.attr("href")),"_blank"===n.attr("target")&&e("#redactor-image-link-blank").prop("checked",!0)),e(".redactor-link-tooltip").remove(),this.modal.show(),this.detect.isDesktop()&&e("#redactor-image-title").focus()}},update:function(){var t=this.observe.image,n=t.closest("a",this.core.editor()[0]),i=e("#redactor-image-title").val().replace(/(<([^>]+)>)/gi,"");t.attr("alt",i).attr("title",i),this.image.setFloating(t);var r=e.trim(e("#redactor-image-link").val()).replace(/(<([^>]+)>)/gi,"");if(""!==r){var o="((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}",a=new RegExp("^(http|ftp|https)://"+o,"i"),s=new RegExp("^"+o,"i");-1===r.search(a)&&0===r.search(s)&&this.opts.linkProtocol&&(r=this.opts.linkProtocol+"://"+r);var l=!!e("#redactor-image-link-blank").prop("checked");if(0===n.length){var c=e('<a href="'+r+'" id="redactor-img-tmp">'+this.utils.getOuterHtml(t)+"</a>");l&&c.attr("target","_blank"),t=t.replaceWith(c),n=this.core.editor().find("#redactor-img-tmp"),n.removeAttr("id")}else n.attr("href",r),l?n.attr("target","_blank"):n.removeAttr("target")}else 0!==n.length&&n.replaceWith(this.utils.getOuterHtml(t));this.image.addCaption(t,n),this.modal.close(),this.buffer.set()},setFloating:function(t){var n=e("#redactor-image-align").val(),i="",r="",o="";switch(n){case"left":i="left",o="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case"right":i="right",o="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;break;case"center":r="block",o="auto"}t.css({float:i,display:r,margin:o}),t.attr("rel",t.attr("style"))},addCaption:function(t,n){var i=e("#redactor-image-caption").val(),r=0!==n.length?n:t,o=r.next();0!==o.length&&"FIGCAPTION"===o[0].tagName||(o=!1),""!==i?!1===o?(o=e("<figcaption />").text(i),r.after(o)):o.text(i):!1!==o&&o.remove()},remove:function(t,n,i){n=void 0===n?e(this.observe.image):n,"boolean"!=typeof t&&this.buffer.set(),this.events.stopDetectChanges();var r=n.closest("a",this.core.editor()[0]),o=n.closest(this.opts.imageTag,this.core.editor()[0]),a=n.parent();0!==e("#redactor-image-box").length&&(a=e("#redactor-image-box").parent());var s;0!==o.length?(s=o.next(),o.remove()):0!==r.length?(a=r.parent(),r.remove()):n.remove(),e("#redactor-image-box").remove(),!1!==t&&(0!==o.length&&0!==s.length?this.caret.start(s):0!==a.length&&this.caret.start(a)),"boolean"!=typeof t&&this.modal.close(),this.utils.restoreScroll(),this.observe.image=!1,this.events.startDetectChanges(),this.placeholder.enable(),this.code.sync()}}},indent:function(){return{increase:function(){if(this.list.get()){var t=e(this.selection.current()).closest("li"),n=t.closest("ul, ol"),i=t.closest("li"),r=i.prev();if(0!==r.length&&"LI"===r[0].tagName)if(this.buffer.set(),this.utils.isCollapsed()){var o=n[0].tagName,a=e("<"+o+" />");this.selection.save(),a.append(t),r.append(a),this.selection.restore()}else document.execCommand("indent"),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize(),this.selection.restore()}},decrease:function(){if(this.list.get()){var t=e(this.selection.current()).closest("li");t.closest("ul, ol");this.buffer.set(),document.execCommand("outdent");var n=e(this.selection.current()).closest("li",this.core.editor()[0]);if(this.utils.isCollapsed()&&this.indent.repositionItem(n),0===n.length){document.execCommand("formatblock",!1,"p"),n=e(this.selection.current());var i=n.next();0!==i.length&&"BR"===i[0].tagName&&i.remove()}this.selection.save(),this.indent.removeEmpty(),this.indent.normalize(),this.selection.restore()}},repositionItem:function(e){var t=e.prev();if(0!==t.length&&"LI"!==t[0].tagName){this.selection.save();e.parents("li",this.core.editor()[0]).after(e),this.selection.restore()}},normalize:function(){this.core.editor().find("li").each(e.proxy(function(t,n){var i=e(n);i.find(this.opts.inlineTags.join(",")).each(function(){e(this).removeAttr("style")});var r=i.parent();if(0!==r.length&&"LI"===r[0].tagName)return void r.after(i);var o=i.next();0===o.length||"UL"!==o[0].tagName&&"OL"!==o[0].tagName||i.append(o)},this))},removeEmpty:function(t){var n=this.core.editor().find("ul, ol"),i=this.core.editor().find("li");i.each(e.proxy(function(e,t){this.indent.removeItemEmpty(t)},this)),n.each(e.proxy(function(e,t){this.indent.removeItemEmpty(t)},this)),i.each(e.proxy(function(e,t){this.indent.removeItemEmpty(t)},this))},removeItemEmpty:function(t){var n=t.innerHTML.replace(/[\t\s\n]/g,"");""===(n=n.replace(/<span><\/span>/g,""))&&e(t).remove()}}},inline:function(){return{format:function(e,t,n,i){if(e=e.toLowerCase(),!this.utils.isCurrentOrParent(["PRE"])){for(var r=["b","bold","i","italic","underline","strikethrough","deleted","superscript","subscript"],o=["strong","strong","em","em","u","del","del","sup","sub"],a=0;a<r.length;a++)e===r[a]&&(e=o[a]);this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.inline.formatCollapsed(e,t,n,i):this.inline.formatUncollapsed(e,t,n,i)}},formatUncollapsed:function(t,n,i,r){var o=this,a=this.inline.inlines(),s=this.selection.current();s&&a.push(s),this.selection.save(),"del"!==t&&this.core.editor().find("del").each(function(e,t){o.utils.replaceToTag(t,"deline")}),"u"!==t&&this.core.editor().find("u").each(function(e,t){o.utils.replaceToTag(t,"inline")}),e.each(a,function(){if(1===this.nodeType){if(this.tagName.toLowerCase()===t){o.utils.replaceToTag(this,"strike").addClass("redactor-converted")}}}),this.selection.restore(),document.execCommand("strikethrough");var l=!0,c=this.selection.parent();!1!==c&&"STRIKE"===c.tagName||(l=!1),this.selection.save(),"u"!==t&&this.core.editor().find("u").replaceWith(function(){return e(this).contents()}),this.core.editor().find("strike").each(function(){var e=o.utils.replaceToTag(this,t);l&&o.inline.setAttr(e,n,i,r)}),this.core.editor().find(".redactor-converted").each(function(){this.tagName.toLowerCase()===t&&!1!==l||e(this).replaceWith(function(){return e(this).contents()}),e(this).removeClass("redactor-converted")}),"del"!==t&&this.core.editor().find("deline").each(function(e,t){o.utils.replaceToTag(t,"del")}),"u"!==t&&this.core.editor().find("inline").each(function(e,t){o.utils.replaceToTag(t,"u")}),this.selection.restore()},inlines:function(){var t=[],n=this.inline.nodes();e.each(n,e.proxy(function(e,n){this.utils.isInline(n)&&t.push(n)},this));var i=this.selection.inline();return!1===i&&0===t.length?[]:!1!==i&&0===t.length?[i]:t},nodes:function(){var e=document.getSelection();if(!e.rangeCount||e.isCollapsed||!e.getRangeAt(0).commonAncestorContainer)return[];var t=e.getRangeAt(0);if(3===t.commonAncestorContainer.nodeType){for(var n=[],i=t.commonAncestorContainer;i.parentNode&&1===i.parentNode.childNodes.length;)n.push(i.parentNode),i=i.parentNode;return n}return[].filter.call(t.commonAncestorContainer.getElementsByTagName("*"),function(t){return"function"!=typeof e.containsNode||e.containsNode(t,!0)})},formatCollapsed:function(t,n,i,r){var o=this.selection.inline();if(o){var a=o.tagName.toLowerCase();if(a===t)if(this.utils.isEmpty(o.innerHTML))this.caret.after(o),e(o).remove();else{var s=this.inline.insertBreakpoint(o,a);this.caret.after(s)}else 0===e(o).closest(t).length?this.inline.insertInline(t,n,i,r):this.caret.start(o)}else this.inline.insertInline(t,n,i,r)},insertBreakpoint:function(t,n){var i=document.createElement("span");i.id="redactor-inline-breakpoint",i=this.insert.node(i);var r=this.utils.isEndOfElement(t),o=this.utils.getOuterHtml(t),a=r?"":"<"+n+">";o=o.replace(/<span\sid="redactor-inline-breakpoint">​<\/span>/i,"</"+n+">"+a);var s=e(o);return e(t).replaceWith(s),""!==a&&this.utils.cloneAttributes(t,s.last()),s.first()},insertInline:function(e,t,n,i){var r=document.createElement(e);r=this.inline.setAttr(r,t,n,i),this.insert.node(r),this.caret.start(r)},setAttr:function(e,t,n,i){if(void 0===t)return e;var r=void 0===i?"toggle":i;return e="class"===t?this.inline[r+"Class"](n,e):"remove"===r?this.inline[r+"Attr"](t,e):"removeAll"===r?this.inline[r+"Attr"](e):this.inline[r+"Attr"](t,n,e)},getInlines:function(e){return void 0===e?this.selection.inlines():e},update:function(t,n,i,r){var o=this.selection.inlines(),a=[],s=this;return e.each(o,function(o,l){if(e.isArray(t)){if(-1===e.inArray(l.tagName.toLowerCase(),t))return}else if("*"!==t&&l.tagName.toLowerCase()!==t)return;a.push(s.inline.setAttr(l,n,i,r))}),a},replaceClass:function(t,n){return e(this.inline.getInlines(n)).removeAttr("class").addClass(t)[0]},toggleClass:function(t,n){return e(this.inline.getInlines(n)).toggleClass(t)[0]},addClass:function(t,n){return e(this.inline.getInlines(n)).addClass(t)[0]},removeClass:function(t,n){return e(this.inline.getInlines(n)).removeClass(t)[0]},removeAllClass:function(t){return e(this.inline.getInlines(t)).removeAttr("class")[0]},replaceAttr:function(t,n,i){return t=this.inline.removeAttr(n,this.inline.getInlines(t)),e(t).attr(n,i)[0]},toggleAttr:function(t,n,i){i=this.inline.getInlines(i);var r=this,o=[];return e.each(i,function(i,a){e(a).attr(t)?o.push(r.inline.removeAttr(t,a)):o.push(r.inline.addAttr(t,n,a))}),o},addAttr:function(t,n,i){return e(this.inline.getInlines(i)).attr(t,n)[0]},removeAttr:function(t,n){return e(this.inline.getInlines(n)).removeAttr(t)[0]},removeAllAttr:function(t){t=this.inline.getInlines(t);var n=[];return e.each(t,function(t,i){void 0===i.attributes&&n.push(i);for(var r=e(i),o=i.attributes.length,a=0;a<o;a++)r.removeAttr(i.attributes[a].name);n.push(r[0])}),n},removeFormat:function(){document.execCommand("removeFormat")}}},insert:function(){return{set:function(e){this.placeholder.hide(),this.code.set(e),this.focus.end(),this.placeholder.enable()},html:function(t,n){this.placeholder.hide(),this.core.editor().focus();var i=this.selection.block(),r=this.selection.inline();void 0===n&&(n=this.clean.getCurrentType(t,!0),t=this.clean.onPaste(t,n,!0)),t=e.parseHTML(t);var o=this.selection.get(),a=this.selection.range(o);if(a.deleteContents(),this.selection.update(o,a),n.lists){var s=e(t);if(0!==s.length&&("UL"===s[0].tagName||"OL"===s[0].tagName))return void this.insert.appendLists(i,s)}if(n.blocks&&i)if(this.utils.isSelectAll())this.core.editor().html(t),this.focus.end();else{var l=this.utils.breakBlockTag();if(!1===l)this.insert.placeHtml(t);else{var c=e(t).children().last();c.append(this.marker.get()),"start"===l.type?l.$block.before(t):l.$block.after(t),this.selection.restore(),this.core.editor().find("p").each(function(){""===e.trim(this.innerHTML)&&e(this).remove()})}}else{if(r){var d=e("<div/>").html(t);d.find(r.tagName.toLowerCase()).each(function(){e(this).contents().unwrap()}),t=d.html()}if(this.utils.isSelectAll()){var u=e(this.opts.emptyHtml);this.core.editor().html("").append(u),u.html(t),this.caret.end(u)}else this.insert.placeHtml(t)}this.utils.disableSelectAll(),this.linkify.format(),n.pre&&this.clean.cleanPre()},text:function(t){t=t.toString(),t=e.trim(t);var n=document.createElement("div");if(n.innerHTML=t,void 0!==(t=n.textContent||n.innerText)){this.placeholder.hide(),this.core.editor().focus();var i=this.selection.blocks();if(t=t.replace(/\n/g," "),this.utils.isSelectAll()){var r=e(this.opts.emptyHtml);this.core.editor().html("").append(r),r.html(t),this.caret.end(r)}else{var o=this.selection.get(),a=document.createTextNode(t);if(o.getRangeAt&&o.rangeCount){var s=o.getRangeAt(0);s.deleteContents(),s.insertNode(a),s.setStartAfter(a),s.collapse(!0),this.selection.update(o,s)}i.length>1&&(e(a).wrap("<p>"),this.caret.after(a))}this.utils.disableSelectAll(),this.linkify.format(),this.clean.normalizeCurrentHeading()}},raw:function(e){this.placeholder.hide(),this.core.editor().focus();var t=this.selection.get(),n=this.selection.range(t);n.deleteContents();var i=document.createElement("div");i.innerHTML=e;for(var r,o,a=document.createDocumentFragment();r=i.firstChild;)o=a.appendChild(r);n.insertNode(a),o&&(n=n.cloneRange(),n.setStartAfter(o),n.collapse(!0),t.removeAllRanges(),t.addRange(n))},node:function(t,n){this.placeholder.hide(),void 0!==this.start&&this.core.editor().focus(),t=t[0]||t;var i=this.selection.block(),r=this.utils.isBlockTag(t.tagName);if(this.utils.isSelectAll())r?this.core.editor().html(t):this.core.editor().html(e("<p>").html(t)),this.code.sync();else if(r&&i){var o=this.utils.breakBlockTag();!1===o?this.insert.placeNode(t,n):("start"===o.type?o.$block.before(t):o.$block.after(t),this.core.editor().find("p:empty").remove())}else this.insert.placeNode(t,n);return this.utils.disableSelectAll(),this.caret.end(t),t},appendLists:function(t,n){var i,r=e(t),o=this.utils.isEmpty(t.innerHTML);if(o||this.utils.isEndOfElement(t))i=r,n.find("li").each(function(){i.after(this),i=e(this)}),o&&r.remove();else if(this.utils.isStartOfElement(t))n.find("li").each(function(){r.before(this),i=e(this)});else{var a=this.selection.extractEndOfNode(t);r.after(e("<li>").append(a)),r.append(n),i=n}this.marker.remove(),i&&this.caret.end(i),this.linkify.format()},placeHtml:function(t){var n=document.createElement("span");n.id="redactor-insert-marker",n=this.insert.node(n),e(n).before(t),this.selection.restore(),this.caret.after(n),e(n).remove()},placeNode:function(e,t){var n=this.selection.get(),i=this.selection.range(n);!1!==t&&i.deleteContents(),i.insertNode(e),i.collapse(!1),this.selection.update(n,i)},nodeToPoint:function(t,n){if(this.placeholder.hide(),n=n[0]||n,this.utils.isEmpty())return n=this.utils.isBlock(n)?n:e("<p />").append(n),this.core.editor().html(n),n;var i,r=t.clientX,o=t.clientY;if(document.caretPositionFromPoint){var a=document.caretPositionFromPoint(r,o);i=document.getSelection().getRangeAt(0),i.setStart(a.offsetNode,a.offset),i.collapse(!0),i.insertNode(n)}else if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r,o),i.insertNode(n);else if(void 0!==document.body.createTextRange){i=document.body.createTextRange(),i.moveToPoint(r,o);var s=i.duplicate();s.moveToPoint(r,o),i.setEndPoint("EndToEnd",s),i.select()}return n},nodeToCaretPositionFromPoint:function(e,t){this.insert.nodeToPoint(e,t)},marker:function(){this.marker.insert()}}},keydown:function(){return{init:function(t){if(!this.rtePaste){var n=t.which,i=n>=37&&n<=40;this.keydown.ctrl=t.ctrlKey||t.metaKey,this.keydown.parent=this.selection.parent(),this.keydown.current=this.selection.current(),this.keydown.block=this.selection.block(),this.keydown.pre=this.utils.isTag(this.keydown.current,"pre"),this.keydown.blockquote=this.utils.isTag(this.keydown.current,"blockquote"),this.keydown.figcaption=this.utils.isTag(this.keydown.current,"figcaption"),this.keydown.figure=this.utils.isTag(this.keydown.current,"figure");if(!1===this.core.callback("keydown",t))return t.preventDefault(),!1;if(this.shortcuts.init(t,n),this.keydown.checkEvents(i,n),this.keydown.setupBuffer(t,n),this.utils.isSelectAll()&&(n===this.keyCode.ENTER||n===this.keyCode.BACKSPACE||n===this.keyCode.DELETE))return t.preventDefault(),void this.code.set(this.opts.emptyHtml);if(this.keydown.addArrowsEvent(i),this.keydown.setupSelectAll(t,n),!this.opts.enterKey&&n===this.keyCode.ENTER){t.preventDefault();var r=this.selection.get(),o=this.selection.range(r);return void(o.collapsed||o.deleteContents())}if(this.opts.enterKey&&n===this.keyCode.DOWN&&this.keydown.onArrowDown(),this.opts.enterKey&&n===this.keyCode.UP&&this.keydown.onArrowUp(),("textarea"===this.opts.type||"div"===this.opts.type)&&this.keydown.current&&3===this.keydown.current.nodeType&&e(this.keydown.parent).hasClass("redactor-in")&&this.keydown.wrapToParagraph(),n===this.keyCode.SPACE&&(t.ctrlKey||t.shiftKey))return t.preventDefault(),this.keydown.onShiftSpace();if(n===this.keyCode.ENTER&&(t.ctrlKey||t.shiftKey))return t.preventDefault(),this.keydown.onShiftEnter(t);if(n===this.keyCode.ENTER&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey)return this.keydown.onEnter(t);if(n===this.keyCode.TAB||t.metaKey&&221===n||t.metaKey&&219===n)return this.keydown.onTab(t,n);if(n!==this.keyCode.BACKSPACE&&n!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteBefore(),n===this.keyCode.DELETE){var a=e(this.keydown.block).next();if(this.utils.isEndOfElement(this.keydown.block)&&0!==a.length&&"FIGURE"===a[0].tagName)return a.remove(),!1;if(!(!this.keydown.block||"LI"!==this.keydown.block.tagName)&&this.keydown.block){var s=e(this.keydown.block).parents("ul, ol").last(),l=s.next();if(this.utils.isRedactorParent(s)&&this.utils.isEndOfElement(s)&&0!==l.length&&("UL"===l[0].tagName||"OL"===l[0].tagName))return t.preventDefault(),s.append(l.contents()),l.remove(),!1}if(this.utils.isEndOfElement(this.keydown.block)&&0!==a.length&&"PRE"===a[0].tagName)return e(this.keydown.block).append(a.text()),a.remove(),!1}if(n===this.keyCode.DELETE&&0!==e("#redactor-image-box").length&&this.image.remove(),n===this.keyCode.BACKSPACE){if(this.detect.isFirefox()&&this.line.removeOnBackspace(t),this.list.combineAfterAndBefore(this.keydown.block))return void t.preventDefault();var c=this.selection.block();if(c&&"LI"===c.tagName&&this.utils.isCollapsed()&&this.utils.isStartOfElement())return this.indent.decrease(),void t.preventDefault();this.keydown.removeInvisibleSpace(),this.keydown.removeEmptyListInTable(t)}n!==this.keyCode.BACKSPACE&&n!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteAfter(t)}},onShiftSpace:function(){return this.buffer.set(),this.insert.raw("&nbsp;"),!1},onShiftEnter:function(e){return this.buffer.set(),this.keydown.pre?this.keydown.insertNewLine(e):this.insert.raw("<br>")},onBackspaceAndDeleteBefore:function(){this.utils.saveScroll()},onBackspaceAndDeleteAfter:function(t){setTimeout(e.proxy(function(){this.code.syncFire=!1,this.keydown.removeEmptyLists(),this.core.editor().find("*[style]").not("img, #redactor-image-box, #redactor-image-editter").removeAttr("style"),this.keydown.formatEmpty(t),this.code.syncFire=!0},this),1)},onEnter:function(t){if(!1===this.core.callback("enter",t))return t.preventDefault(),!1;if(this.keydown.blockquote&&!0===this.keydown.exitFromBlockquote(t))return!1;if(this.keydown.pre)return this.keydown.insertNewLine(t);if(this.keydown.blockquote||this.keydown.figcaption)return this.keydown.insertBreakLine(t);if(this.keydown.figure)setTimeout(e.proxy(function(){this.keydown.replaceToParagraph("FIGURE")},this),1);else if(this.keydown.block){if(setTimeout(e.proxy(function(){this.keydown.replaceToParagraph("DIV")},this),1),"LI"===this.keydown.block.tagName){var n=this.selection.current(),i=e(n).closest("li",this.$editor[0]),r=i.parents("ul,ol",this.$editor[0]).last();if(0!==i.length&&this.utils.isEmpty(i.html())&&0===r.next().length&&this.utils.isEmpty(r.find("li").last().html())){r.find("li").last().remove();var o=e(this.opts.emptyHtml);return r.after(o),this.caret.start(o),!1}}}else if(!this.keydown.block)return this.keydown.insertParagraph(t);if(this.detect.isFirefox()&&this.utils.isInline(this.keydown.parent))return void this.keydown.insertBreakLine(t);setTimeout(e.proxy(function(){var t=this.selection.inline();if(t&&this.utils.isEmpty(t.innerHTML)){var n=this.selection.block();e(t).remove();var i=document.createRange();i.setStart(n,0);var r=document.createTextNode("​");i.insertNode(r),i.setStartAfter(r),i.collapse(!0);var o=window.getSelection();o.removeAllRanges(),o.addRange(i)}},this),1)},checkEvents:function(e,t){e||"click"!==this.core.getEvent()&&"arrow"!==this.core.getEvent()||(this.core.addEvent(!1),this.keydown.checkKeyEvents(t)&&this.buffer.set())},checkKeyEvents:function(t){var n=this.keyCode,i=[n.BACKSPACE,n.DELETE,n.ENTER,n.ESC,n.TAB,n.CTRL,n.META,n.ALT,n.SHIFT];return-1===e.inArray(t,i)},addArrowsEvent:function(e){if(e)return"click"===this.core.getEvent()||"arrow"===this.core.getEvent()?void this.core.addEvent(!1):void this.core.addEvent("arrow")},setupBuffer:function(e,t){return this.keydown.ctrl&&90===t&&!e.shiftKey&&!e.altKey&&this.opts.buffer.length?(e.preventDefault(),void this.buffer.undo()):this.keydown.ctrl&&90===t&&e.shiftKey&&!e.altKey&&0!==this.opts.rebuffer.length?(e.preventDefault(),void this.buffer.redo()):void(this.keydown.ctrl||t!==this.keyCode.SPACE&&t!==this.keyCode.BACKSPACE&&t!==this.keyCode.DELETE&&(t!==this.keyCode.ENTER||e.ctrlKey||e.shiftKey)||this.buffer.set())},exitFromBlockquote:function(t){if(this.utils.isEndOfElement(this.keydown.blockquote)){if(-1!==this.clean.removeSpacesHard(e(this.keydown.blockquote).html()).search(/(<br\s?\/?>){3}$/i)){t.preventDefault();var n=e(this.keydown.blockquote).children().last().prev();n.prev().filter("br").remove(),n.filter("br").remove(),e(this.keydown.blockquote).children().last().filter("br").remove(),e(this.keydown.blockquote).children().last().filter("span").remove();var i=e(this.opts.emptyHtml);return e(this.keydown.blockquote).after(i),this.caret.start(i),!0}}},onArrowDown:function(){for(var e=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],t=0;t<e.length;t++)if(e[t])return this.keydown.insertAfterLastElement(e[t]),!1},onArrowUp:function(){for(var e=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],t=0;t<e.length;t++)if(e[t])return this.keydown.insertBeforeFirstElement(e[t]),!1},insertAfterLastElement:function(t){if(this.utils.isEndOfElement(t)){var n=this.core.editor().contents().last();if(0===("FIGCAPTION"===t.tagName?e(this.keydown.block).parent().next():e(this.keydown.block).next()).length){if(0===n.length&&n[0]!==t)return void this.caret.start(n);var i=e(this.opts.emptyHtml);"FIGCAPTION"===t.tagName?e(t).parent().after(i):e(t).after(i),this.caret.start(i)}}},insertBeforeFirstElement:function(t){if(this.utils.isStartOfElement()&&!(this.core.editor().contents().length>1&&this.core.editor().contents().first()[0]!==t)){var n=e(this.opts.emptyHtml);e(t).before(n),this.caret.start(n)}},onTab:function(e,t){if(!this.opts.tabKey)return!0;var n=this.keydown.block&&"LI"===this.keydown.block.tagName;if(this.utils.isEmpty(this.code.get())||!n&&!this.keydown.pre&&!1===this.opts.tabAsSpaces)return!0;e.preventDefault(),this.buffer.set();var i,r=n&&this.utils.isStartOfElement(this.keydown.block);return this.keydown.pre&&!e.shiftKey?(i=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join(" ")):document.createTextNode("\t"),this.insert.node(i)):!1===this.opts.tabAsSpaces||r?e.metaKey&&219===t?this.indent.decrease():e.metaKey&&221===t?this.indent.increase():e.shiftKey?this.indent.decrease():this.indent.increase():(i=document.createTextNode(Array(this.opts.tabAsSpaces+1).join(" ")),this.insert.node(i)),!1},setupSelectAll:function(e,t){this.keydown.ctrl&&65===t?this.utils.enableSelectAll():t===this.keyCode.LEFT_WIN||this.keydown.ctrl||this.utils.disableSelectAll()},insertNewLine:function(e){e.preventDefault();var t=document.createTextNode("\n"),n=this.selection.get(),i=this.selection.range(n);return i.deleteContents(),i.insertNode(t),this.caret.after(t),!1},insertParagraph:function(e){e.preventDefault();var t=document.createElement("p");t.innerHTML=this.opts.invisibleSpace;var n=this.selection.get(),i=this.selection.range(n);return i.deleteContents(),i.insertNode(t),this.caret.start(t),!1},insertBreakLine:function(e){return this.keydown.insertBreakLineProcessing(e)},insertDblBreakLine:function(e){return this.keydown.insertBreakLineProcessing(e,!0)},insertBreakLineProcessing:function(e,t){e.stopPropagation();var n=document.createElement("br");if(this.insert.node(n),!0===t){var i=document.createElement("br");this.insert.node(i)}return!1},wrapToParagraph:function(){var t=e(this.keydown.current),n=e("<p>").append(t.clone());t.replaceWith(n);var i=e(n).next();void 0!==i[0]&&"BR"===i[0].tagName&&i.remove(),this.caret.end(n)},replaceToParagraph:function(t){var n=this.selection.block(),i=e(n).prev(),r=n.innerHTML.replace(/<br\s?\/?>/gi,"");if(n.tagName===t&&this.utils.isEmpty(r)&&!e(n).hasClass("redactor-in")){var o=document.createElement("p");return e(n).replaceWith(o),this.keydown.setCaretToParagraph(o),!1}if("P"===n.tagName)return e(n).removeAttr("class").removeAttr("style"),this.detect.isIe()&&this.utils.isEmpty(r)&&this.utils.isInline(this.keydown.parent)&&e(n).on("input",e.proxy(function(){var t=this.selection.parent();if(this.utils.isInline(t)){var i=e(t).html();e(n).html(i),this.caret.end(n)}e(n).off("keyup")},this)),!1;if(i.hasClass(this.opts.videoContainerClass)){i.removeAttr("class");var o=document.createElement("p");return i.replaceWith(o),this.keydown.setCaretToParagraph(o),!1}},setCaretToParagraph:function(e){var t=document.createRange();t.setStart(e,0);var n=document.createTextNode("​");t.insertNode(n),t.setStartAfter(n),t.collapse(!0);var i=window.getSelection();i.removeAllRanges(),i.addRange(t)},removeInvisibleSpace:function(){var t=e(this.keydown.current);0===t.text().search(/^\u200B$/g)&&t.remove()},removeEmptyListInTable:function(t){var n=e(this.keydown.current),i=e(this.keydown.parent),r=n.closest("td",this.$editor[0]);if(0!==r.length&&n.closest("li",this.$editor[0])&&1===i.children("li").length){if(!this.utils.isEmpty(n.text()))return;t.preventDefault(),n.remove(),i.remove(),this.caret.start(r)}},removeEmptyLists:function(){var t=function(){""===e.trim(this.innerHTML).replace(/\/t\/n/g,"")&&e(this).remove()};this.core.editor().find("li").each(t),this.core.editor().find("ul, ol").each(t)},formatEmpty:function(t){var n=e.trim(this.core.editor().html());if(this.utils.isEmpty(n))return t.preventDefault(),"inline"===this.opts.type||"pre"===this.opts.type?(this.core.editor().html(this.marker.html()),this.selection.restore()):(this.core.editor().html(this.opts.emptyHtml),this.focus.start()),!1}}},keyup:function(){return{init:function(t){if(!this.rtePaste){var n=t.which;this.keyup.block=this.selection.block(),this.keyup.current=this.selection.current(),this.keyup.parent=this.selection.parent();if(!1===this.core.callback("keyup",t))return t.preventDefault(),!1;if(n===this.keyCode.ENTER&&this.keyup.block&&"FIGURE"===this.keyup.block.tagName){var i=e(this.keyup.block).prev();if(0!==i.length&&"FIGURE"===i[0].tagName){var r=this.utils.replaceToTag(i,"p");return void this.caret.start(r)}}if(n===this.keyCode.BACKSPACE||n===this.keyCode.DELETE){if(this.utils.isSelectAll())return void this.focus.start();if(this.keyup.block&&this.keydown.block&&"FIGURE"===this.keyup.block.tagName&&this.utils.isStartOfElement(this.keydown.block)){t.preventDefault(),this.selection.save(),e(this.keyup.block).find("figcaption").remove(),e(this.keyup.block).find("img").first().remove(),this.utils.replaceToTag(this.keyup.block,"p");var o=this.marker.find();return e("html, body").animate({scrollTop:o.position().top+20},500),void this.selection.restore()}if(this.keyup.block&&"P"===this.keyup.block.tagName){var a=e(this.keyup.block).find("img").length;""===e(this.keyup.block).text().replace(/\u200B/g,"")&&0!==a&&this.utils.replaceToTag(this.keyup.block,"figure")}this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&0===e(this.keyup.block).find("img").length&&(this.selection.save(),this.utils.replaceToTag(this.keyup.block,"p"),this.selection.restore())}this.linkify.isKey(n)&&this.linkify.format()}}}},lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(e){return void 0!==this.opts.curLang[e]?this.opts.curLang[e]:""}}},line:function(){return{insert:function(){this.buffer.set(),this.insert.html(this.line.getLineHtml());var e=this.core.editor().find("#redactor-hr-tmp-id");return e.removeAttr("id"),this.core.callback("insertedLine",e),e},getLineHtml:function(){var e='<hr id="redactor-hr-tmp-id" />';return!this.detect.isFirefox()&&this.utils.isEmpty()&&(e+="<p>"+this.opts.emptyHtml+"</p>"),e},removeOnBackspace:function(t){if(this.utils.isCollapsed()){var n=e(this.selection.block());if(0!==n.length&&this.utils.isStartOfElement(n)){var i=n.prev();i&&"HR"===i[0].tagName&&(t.preventDefault(),i.remove())}}}}},link:function(){return{get:function(){return e(this.selection.inlines("a"))},is:function(){var t=this.selection.nodes(),n=e(this.selection.current()).closest("a",this.core.editor()[0]);return!(0===n.length||t.length>1)&&n},unlink:function(e){void 0!==e&&e.preventDefault&&e.preventDefault(),this.buffer.set();var t=this.selection.inlines("a");if(0!==t.length){var n=this.link.replaceLinksToText(t);this.observe.closeAllTooltip(),this.core.callback("deletedLink",n)}},insert:function(t,n){var i=this.link.is();if(!0!==n&&!1===(t=this.link.buildLinkFromObject(i,t)))return!1;if(this.buffer.set(),t=this.core.callback("beforeInsertingLink",t),!1===i){i=e("<a />"),i=this.link.update(i,t),i=e(this.insert.node(i));var r=i.parent();!1===this.utils.isRedactorParent(r)&&i.wrap("<p>"),r.hasClass("redactor-unlink")&&r.replaceWith(function(){return e(this).contents()}),this.caret.after(i),this.core.callback("insertedLink",i)}else i=this.link.update(i,t),this.caret.after(i)},update:function(e,t){return e.text(t.text),e.attr("href",t.url),this.link.target(e,t.target),e},target:function(e,t){return t?e.attr("target","_blank"):e.removeAttr("target")},show:function(t){void 0!==t&&t.preventDefault&&t.preventDefault(),this.observe.closeAllTooltip();var n=this.link.is();this.link.buildModal(n);var i=this.link.buildLinkFromElement(n);i.url=this.link.removeSelfHostFromUrl(i.url),this.opts.linkNewTab&&!n&&(i.target=!0),this.link.setModalValues(i),this.modal.show(),this.detect.isDesktop()&&e("#redactor-link-url").focus()},setModalValues:function(t){e("#redactor-link-blank").prop("checked",t.target),e("#redactor-link-url").val(t.url),e("#redactor-link-url-text").val(t.text)},buildModal:function(t){this.modal.load("link",this.lang.get(!1===t?"link-insert":"link-edit"),600),this.modal.getActionButton().text(this.lang.get(!1===t?"insert":"save")).on("click",e.proxy(this.link.callback,this))},callback:function(){var e=this.link.buildLinkFromModal();if(!1===e)return!1;this.modal.close(),this.link.insert(e,!0)},cleanUrl:function(t){return void 0===t?"":e.trim(t.replace(/[^\W\w\D\d+&\'@#\/%?=~_|!:,.;\(\)]/gi,""))},cleanText:function(t){return void 0===t?"":e.trim(t.replace(/(<([^>]+)>)/gi,""))},getText:function(e){return""===e.text&&""!==e.url?this.link.truncateUrl(e.url.replace(/<|>/g,"")):e.text},isUrl:function(e){var t="((xn--)?[\\W\\w\\D\\d]+(-[\\W\\w\\D\\d]+)*\\.)+[\\W\\w]{2,}",n=new RegExp("^(http|ftp|https)://"+t,"i"),i=new RegExp("^"+t,"i"),r=new RegExp(".(html|php)$","i"),o=new RegExp("^/","i"),a=new RegExp("^tel:(.*?)","i");return-1===e.search(n)&&-1!==e.search(i)&&-1===e.search(r)&&(e="http://"+e),(-1!==e.search(n)||-1!==e.search(r)||-1!==e.search(o)||-1!==e.search(a))&&e},isMailto:function(e){return-1!==e.search("@")&&!1===/(http|ftp|https):\/\//i.test(e)},isEmpty:function(e){return""===e.url||""===e.text&&""===e.url},truncateUrl:function(e){return e.length>this.opts.linkSize?e.substring(0,this.opts.linkSize)+"...":e},parse:function(e){return this.link.isMailto(e.url)?e.url="mailto:"+e.url.replace("mailto:",""):0!==e.url.search("#")&&(e.url=this.link.isUrl(e.url)),!this.link.isEmpty(e)&&!1!==e.url&&e},buildLinkFromModal:function(){var t={};return t.url=this.link.cleanUrl(e("#redactor-link-url").val()),t.text=this.link.cleanText(e("#redactor-link-url-text").val()),t.text=this.link.getText(t),t.target=!!e("#redactor-link-blank").prop("checked"),this.link.parse(t)},buildLinkFromObject:function(e,t){return t.url=this.link.cleanUrl(t.url),t.text=void 0===t.text&&this.selection.is()?this.selection.text():this.link.cleanText(t.text),t.text=this.link.getText(t),t.target=!1===e?t.target:this.link.buildTarget(e),this.link.parse(t)},buildLinkFromElement:function(e){var t={url:"",text:this.selection.is()?this.selection.text():"",target:!1};return!1!==e&&(t.url=e.attr("href"),t.text=e.text(),t.target=this.link.buildTarget(e)),t},buildTarget:function(e){return void 0!==e.attr("target")&&"_blank"===e.attr("target")},removeSelfHostFromUrl:function(e){var t=self.location.href.replace("#","").replace(/\/$/i,"");return e.replace(/^\/\#/,"#").replace(t,"").replace("mailto:","")},replaceLinksToText:function(t){var n,i=e.each(t,function(t,i){var r=e(i),o=e('<span class="redactor-unlink" />').append(r.contents());return r.replaceWith(o),0===t&&(n=o),r});return 1===t.length&&this.selection.isCollapsed()&&this.caret.after(n),i}}},linkify:function(){return{isKey:function(e){return e===this.keyCode.ENTER||e===this.keyCode.SPACE},isLink:function(e){return e.nodeValue.match(this.opts.regexps.linkyoutube)||e.nodeValue.match(this.opts.regexps.linkvimeo)||e.nodeValue.match(this.opts.regexps.linkimage)||e.nodeValue.match(this.opts.regexps.url)},isFiltered:function(t,n){return 3===n.nodeType&&""!==e.trim(n.nodeValue)&&!e(n).parent().is("pre")&&this.linkify.isLink(n)},handler:function(t,n){var i=e(n),r=i.text(),o=r;o=o.match(this.opts.regexps.linkyoutube)||o.match(this.opts.regexps.linkvimeo)?this.linkify.convertVideoLinks(o):o.match(this.opts.regexps.linkimage)?this.linkify.convertImages(o):this.linkify.convertLinks(o),i.before(r.replace(r,o)).remove()},format:function(){if(this.opts.linkify&&!this.utils.isCurrentOrParent("pre")){this.core.editor().find(":not(iframe,img,a,pre,.redactor-unlink)").addBack().contents().filter(e.proxy(this.linkify.isFiltered,this)).each(e.proxy(this.linkify.handler,this));var t=this.core.editor().find(".redactor-linkify-object").each(e.proxy(function(t,n){var i=e(n);return i.removeClass("redactor-linkify-object"),""===i.attr("class")&&i.removeAttr("class"),"DIV"===n.tagName?this.linkify.breakBlockTag(i,"video"):"IMG"===n.tagName?this.linkify.breakBlockTag(i,"image"):"A"===n.tagName&&this.core.callback("insertedLink",i),i},this));setTimeout(e.proxy(function(){this.code.sync(),this.core.callback("linkify",t)},this),100)}},breakBlockTag:function(t,n){var i=this.utils.breakBlockTag();if(!1!==i){var r=t;"image"===n&&(r=e("<figure />").append(t)),"start"===i.type?i.$block.before(r):i.$block.after(r),"image"===n&&this.caret.after(r)}},convertVideoLinks:function(e){var t='<div class="'+this.opts.videoContainerClass+' redactor-linkify-object"><iframe class="redactor-linkify-object" width="500" height="281" src="',n='" frameborder="0" allowfullscreen></iframe></div>';return e.match(this.opts.regexps.linkyoutube)&&(e=e.replace(this.opts.regexps.linkyoutube,t+"//www.youtube.com/embed/$1"+n)),e.match(this.opts.regexps.linkvimeo)&&(e=e.replace(this.opts.regexps.linkvimeo,t+"//player.vimeo.com/video/$2"+n)),e},convertImages:function(e){var t=e.match(this.opts.regexps.linkimage);return t?e.replace(e,'<img src="'+t+'" class="redactor-linkify-object" />'):e},convertLinks:function(t){var n=t.match(this.opts.regexps.url);if(!n)return t;n=e.grep(n,function(t,i){return e.inArray(t,n)===i});for(var i=n.length,r=0;r<i;r++){var o=n[r],a=o,s=null!==o.match(/(https?|ftp):\/\//i)?"":"http://";a.length>this.opts.linkSize&&(a=a.substring(0,this.opts.linkSize)+"..."),-1===a.search("%")&&(a=decodeURIComponent(a));var l="\\b";-1!==e.inArray(o.slice(-1),["/","&","="])&&(l="");var c=new RegExp("("+o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+l+")","g");t=t.replace(c,'<a href="'+s+e.trim(o)+'" class="redactor-linkify-object">'+e.trim(a)+"</a>")}return t}}},list:function(){return{toggle:function(t){if(!this.utils.inBlocks(["table","td","th","tr"])){var n="orderedlist"===t||"ol"===t?"OL":"UL";t="OL"===n?"orderedlist":"unorderedlist";var i=e(this.selection.current()).parentsUntil(".redactor-in","ul, ol").first();if(this.placeholder.hide(),this.buffer.set(),0!==i.length&&i[0].tagName===n&&this.utils.isRedactorParent(i))return this.selection.save(),i.find("ul, ol").each(function(){var t=e(this).closest("li");e(this).find("li").each(function(){e(t).after(this)})}),i.find("ul, ol").remove(),i.find("li").each(function(){return e(this).replaceWith(function(){return e("<p />").append(e(this).contents())})}),i.replaceWith(function(){return e(this).contents()}),void this.selection.restore();this.selection.save(),0!==i.length&&i[0].tagName!==n?i.each(e.proxy(function(e,t){this.utils.replaceToTag(t,n)},this)):document.execCommand("insert"+t),this.selection.restore();var r=this.list.get();if(!r)return void(this.selection.block()||document.execCommand("formatblock",!1,"p"));r.find("span").replaceWith(function(){return e(this).contents()}),r.find(this.opts.inlineTags.join(",")).each(function(){e(this).removeAttr("style")});var o=r.parent();this.utils.isRedactorParent(o)&&"LI"!==o[0].tagName&&this.utils.isBlock(o)&&(this.selection.save(),o.replaceWith(o.contents()),this.selection.restore())}},get:function(){var t=this.selection.current(),n=e(t).closest("ul, ol",this.core.editor()[0]);return 0!==n.length&&n},combineAfterAndBefore:function(t){var n=e(t).prev(),i=e(t).next(),r=t&&"P"===t.tagName&&("<br>"===t.innerHTML||""===t.innerHTML),o=1===n.closest("ol, ul").length&&1===i.closest("ol, ul").length;return!(!r||!o)&&(n.children("li").last().append(this.marker.get()),n.append(i.contents()),this.selection.restore(),!0)}}},marker:function(){return{get:function(e){e=void 0===e?1:e;var t=document.createElement("span");return t.id="selection-marker-"+e,t.className="redactor-selection-marker",t.innerHTML=this.opts.invisibleSpace,t},html:function(e){return this.utils.getOuterHtml(this.marker.get(e))},find:function(e){return e=void 0===e?1:e,this.core.editor().find("span#selection-marker-"+e)},insert:function(){var e=this.selection.get(),t=this.selection.range(e);this.marker.insertNode(t,this.marker.get(1),!0),t&&!1===t.collapsed&&this.marker.insertNode(t,this.marker.get(2),!1)},remove:function(){this.core.editor().find(".redactor-selection-marker").each(this.marker.iterateRemove)},insertNode:function(t,n,i){var r=this.selection.parent();if(null!==t&&0!==e(r).closest(".redactor-in").length){t=t.cloneRange();try{t.collapse(i),t.insertNode(n)}catch(e){this.focus.start()}}},iterateRemove:function(t,n){var i=e(n);return""===i.text().replace(/\u200B/g,"")?i.remove():i.replaceWith(function(){return e(this).contents()})}}},modal:function(){return{callbacks:{},templates:function(){this.opts.modal={"image-edit":String()+'<div class="redactor-modal-tab redactor-group" data-title="General"><div id="redactor-image-preview" class="redactor-modal-tab-side"></div><div class="redactor-modal-tab-area"><section><label>'+this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /></section><section><label>'+this.lang.get("caption")+'</label><input type="text" id="redactor-image-caption" aria-label="'+this.lang.get("caption")+'" /></section><section><label>'+this.lang.get("link")+'</label><input type="text" id="redactor-image-link" aria-label="'+this.lang.get("link")+'" /></section><section><label class="redactor-image-position-option">'+this.lang.get("image-position")+'</label><select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+this.lang.get("image-position")+'"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+this.lang.get("right")+'</option></select></section><section><label class="checkbox"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get("link-in-new-tab")+'" checked disabled> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+'</button><button id="redactor-modal-button-delete" class="redactor-modal-button-offset">'+this.lang.get("delete")+"</button></section></div></div>",image:String()+'<div class="redactor-modal-tab" data-title="Upload"><section><div id="redactor-modal-image-droparea"></div></section></div>',file:String()+'<div class="redactor-modal-tab" data-title="Upload"><section><label>'+this.lang.get("filename")+' <span class="desc">('+this.lang.get("optional")+')</span></label><input type="text" id="redactor-filename" aria-label="'+this.lang.get("filename")+'" /><br><br></section><section><div id="redactor-modal-file-upload"></div></section></div>',link:String()+'<div class="redactor-modal-tab" data-title="General"><section><label>URL</label><input type="url" id="redactor-link-url" aria-label="URL" /></section><section><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" aria-label="'+this.lang.get("text")+'" /></section><section><label class="checkbox"><input type="checkbox" id="redactor-link-blank"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"},e.extend(this.opts,this.opts.modal)},addCallback:function(e,t){this.modal.callbacks[e]=t},addTemplate:function(e,t){this.opts.modal[e]=t},getTemplate:function(e){return this.opts.modal[e]},getModal:function(){return this.$modalBody},getActionButton:function(){return this.$modalBody.find("#redactor-modal-button-action")},getCancelButton:function(){return this.$modalBody.find("#redactor-modal-button-cancel")},getDeleteButton:function(){return this.$modalBody.find("#redactor-modal-button-delete")},load:function(e,t,n){void 0!==this.$modalBox&&this.$modalBox.hasClass("open")||(this.modal.templateName=e,this.modal.width=n,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(t),this.modal.setDraggable(),this.modal.setContent(),void 0!==this.modal.callbacks[e]&&this.modal.callbacks[e].call(this))},show:function(){this.detect.isDesktop()||document.activeElement.blur(),this.selection.save(),this.modal.buildTabber(),this.detect.isMobile()&&(this.modal.width="96%"),setTimeout(e.proxy(this.modal.buildWidth,this),0),e(window).on("resize.redactor-modal",e.proxy(this.modal.buildWidth,this)),this.$modalOverlay.redactorAnimation("fadeIn",{duration:.25}),this.$modalBox.addClass("open").show(),this.$modal.redactorAnimation("fadeIn",{timing:"cubic-bezier(0.175, 0.885, 0.320, 1.105)"},e.proxy(function(){this.utils.saveScroll(),this.utils.disableBodyScroll(),this.core.callback("modalOpened",this.modal.templateName,this.$modal),e(document).off("focusin.modal"),this.$modal.find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor-modal",e.proxy(this.modal.setEnter,this))},this))},buildWidth:function(){var t=e(window).height(),n=e(window).width(),i="number"==typeof this.modal.width;!i&&this.modal.width.match(/%$/)?this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}):parseInt(this.modal.width)>n?this.$modal.css({width:"96%","margin-bottom":"2%"}):(i&&(this.modal.width+="px"),this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}));var r=this.$modal.outerHeight(),o=t/2-r/2+"px";this.detect.isMobile()?o="2%":r>t&&(o="16px"),this.$modal.css("margin-top",o)},buildTabber:function(){this.modal.tabs=this.$modal.find(".redactor-modal-tab"),this.modal.tabs.length<2||(this.modal.$tabsBox=e('<div id="redactor-modal-tabber" />'),e.each(this.modal.tabs,e.proxy(function(t,n){var i=e('<a href="#" rel="'+t+'" />').text(e(n).attr("data-title"));i.on("click",e.proxy(this.modal.showTab,this)),0===t&&i.addClass("active"),this.modal.$tabsBox.append(i)},this)),this.$modalBody.prepend(this.modal.$tabsBox))},showTab:function(t){t.preventDefault();var n=e(t.target),i=n.attr("rel");return this.modal.tabs.hide(),this.modal.tabs.eq(i).show(),e("#redactor-modal-tabber").find("a").removeClass("active"),n.addClass("active"),!1},setTitle:function(e){this.$modalHeader.html(e)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName)),this.modal.getCancelButton().on("mousedown",e.proxy(this.modal.close,this))},setDraggable:function(){void 0!==e.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(e){13===e.which&&(e.preventDefault(),this.modal.getActionButton().click())},build:function(){this.modal.buildOverlay(),this.$modalBox=e('<div id="redactor-modal-box"/>').hide(),this.$modal=e('<div id="redactor-modal" role="dialog" />'),this.$modalHeader=e('<div id="redactor-modal-header" />'),this.$modalClose=e('<button type="button" id="redactor-modal-close" aria-label="'+this.lang.get("close")+'" />').html("&times;"),this.$modalBody=e('<div id="redactor-modal-body" />'),this.$modal.append(this.$modalHeader),this.$modal.append(this.$modalBody),this.$modal.append(this.$modalClose),this.$modalBox.append(this.$modal),this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=e('<div id="redactor-modal-overlay">').hide(),e("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("mousedown.redactor-modal",e.proxy(this.modal.close,this)),e(document).on("keyup.redactor-modal",e.proxy(this.modal.closeHandler,this)),this.core.editor().on("keyup.redactor-modal",e.proxy(this.modal.closeHandler,this)),this.$modalBox.on("click.redactor-modal",e.proxy(this.modal.close,this))},disableEvents:function(){this.$modalClose.off("mousedown.redactor-modal"),e(document).off("keyup.redactor-modal"),this.core.editor().off("keyup.redactor-modal"),this.$modalBox.off("click§.redactor-modal"),e(window).off("resize.redactor-modal")},closeHandler:function(e){e.which===this.keyCode.ESC&&this.modal.close(!1)},close:function(t){if(t){if("redactor-modal-button-cancel"!==e(t.target).attr("id")&&t.target!==this.$modalClose[0]&&t.target!==this.$modalBox[0])return;t.preventDefault()}this.$modalBox&&(this.selection.restore(),this.modal.disableEvents(),this.utils.enableBodyScroll(),this.utils.restoreScroll(),this.$modalOverlay.redactorAnimation("fadeOut",{duration:.4},e.proxy(function(){this.$modalOverlay.remove()},this)),this.$modal.redactorAnimation("fadeOut",{duration:.3,timing:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},e.proxy(function(){void 0!==this.$modalBox&&(this.$modalBox.remove(),this.$modalBox=void 0),e(document.body).css("overflow",this.modal.bodyOveflow),this.core.callback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){void 0===this.opts.destroyed&&(this.observe.links(),this.observe.images())},isCurrent:function(t,n){return void 0===n&&(n=e(this.selection.current())),n.is(t)||n.parents(t).length>0},toolbar:function(){this.observe.buttons(),this.observe.dropdowns()},buttons:function(t,n){var i=this.selection.current(),r=this.selection.parent();if(!1!==t?this.button.setInactiveAll():this.button.setInactiveAll(n),!1===t&&"html"!==n)return void(-1!==e.inArray(n,this.opts.activeButtons)&&this.button.toggleActive(n));this.utils.isRedactorParent(i)&&(this.utils.isCurrentOrParentHeader()||this.utils.isCurrentOrParent(["table","pre","blockquote","li"])?this.button.disable("horizontalrule"):this.button.enable("horizontalrule"),e.each(this.opts.activeButtonsStates,e.proxy(function(t,n){var o=e(r).closest(t,this.$editor[0]),a=e(i).closest(t,this.$editor[0]);(0===o.length||this.utils.isRedactorParent(o))&&this.utils.isRedactorParent(a)&&(0===o.length&&0===a.closest(t,this.$editor[0]).length||this.button.setActive(n))},this)))},dropdowns:function(){var t=e("<div />").html(this.selection.html()).find("a").length,n=e(this.selection.current()),i=this.utils.isRedactorParent(n);e.each(this.opts.observe.dropdowns,e.proxy(function(e,r){var o=r.observe,a=o.element,s=r.item,l=void 0!==o.in&&o.in,c=void 0!==o.out&&o.out;n.closest(a).length>0&&i||"a"===a&&0!==t?this.observe.setDropdownProperties(s,l,c):this.observe.setDropdownProperties(s,c,l)},this))},setDropdownProperties:function(e,t,n){n&&void 0!==n.attr&&this.observe.setDropdownAttr(e,n.attr,!0),void 0!==t.attr&&this.observe.setDropdownAttr(e,t.attr),void 0!==t.title&&e.find("span").text(t.title)},setDropdownAttr:function(t,n,i){e.each(n,function(e,n){"class"===e?i?t.removeClass(n):t.addClass(n):i?t.removeAttr(e):t.attr(e,n)})},addDropdown:function(e,t,n){void 0!==n.observe&&(n.item=e,this.opts.observe.dropdowns.push(n))},images:function(){this.opts.imageEditable&&(this.core.editor().addClass("redactor-editor-img-edit"),this.core.editor().find("img").each(e.proxy(function(t,n){var i=e(n);i.closest("a",this.$editor[0]).on("click",function(e){e.preventDefault()}),this.image.setEditable(i)},this)))},links:function(){this.opts.linkTooltip&&this.core.editor().find("a").each(e.proxy(function(t,n){var i=e(n);!0!==i.data("cached")&&(i.data("cached",!0),i.on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,e.proxy(this.observe.showTooltip,this)))},this))},getTooltipPosition:function(e){return e.offset()},showTooltip:function(t){var n=e(t.target);if("IMG"!==n[0].tagName&&("A"!==n[0].tagName&&(n=n.closest("a",this.$editor[0])),"A"===n[0].tagName)){var i=n,r=this.observe.getTooltipPosition(i),o=e('<span class="redactor-link-tooltip"></span>'),a=i.attr("href");void 0===a&&(a=""),a.length>24&&(a=a.substring(0,24)+"...");var s=e('<a href="'+i.attr("href")+'" target="_blank" />').html(a).addClass("redactor-link-tooltip-action"),l=e('<a href="#" />').html(this.lang.get("edit")).on("click",e.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),c=e('<a href="#" />').html(this.lang.get("unlink")).on("click",e.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action");o.append(s).append(" | ").append(l).append(" | ").append(c);var d=parseInt(i.css("line-height"),10),u=Math.ceil((t.pageY-r.top)/d),h=r.top+u*d;o.css({top:h+"px",left:r.left+"px"}),e(".redactor-link-tooltip").remove(),e("body").append(o),this.core.editor().on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,e.proxy(this.observe.closeTooltip,this)),e(document).on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,e.proxy(this.observe.closeTooltip,this))}},closeAllTooltip:function(){e(".redactor-link-tooltip").remove()},closeTooltip:function(t){t=t.originalEvent||t;var n=t.target,i=e(n).closest("a",this.$editor[0]);0!==i.length&&"A"===i[0].tagName&&"A"!==n.tagName||"A"===n.tagName&&this.utils.isRedactorParent(n)||e(n).hasClass("redactor-link-tooltip-action")||(this.observe.closeAllTooltip(),this.core.editor().off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,e.proxy(this.observe.closeTooltip,this)),e(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,e.proxy(this.observe.closeTooltip,this)))}}},offset:function(){return{get:function(t){var n=this.offset.clone(t);if(!1===n)return 0;var i=document.createElement("div");return i.appendChild(n.cloneContents()),i.innerHTML=i.innerHTML.replace(/<img(.*?[^>])>$/gi,"i"),e.trim(e(i).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"").length},clone:function(e){var t=this.selection.get(),n=this.selection.range(t);if(null===n&&void 0===e)return!1;if(!1===(e=void 0===e?this.$editor:e))return!1;e=e[0]||e;var i=n.cloneRange();return i.selectNodeContents(e),i.setEnd(n.endContainer,n.endOffset),i},set:function(e,t){t=void 0===t?e:t,this.focus.is()||this.focus.start();for(var n,i=this.selection.get(),r=this.selection.range(i),o=0,a=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);null!==(n=a.nextNode());)if(o+=n.nodeValue.length,o>e&&(r.setStart(n,n.nodeValue.length+e-o),e=1/0),o>=t){r.setEnd(n,n.nodeValue.length+t-o);break}r.collapse(!1),this.selection.update(i,r)}}},paragraphize:function(){return{load:function(t){return!1===this.opts.paragraphize||"inline"===this.opts.type||"pre"===this.opts.type?t:""===t||"<p></p>"===t?this.opts.emptyHtml:(t+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,t=t.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>"),t=t.replace(/<\/pre>/gi,"</pre>\n\n"),t=this.paragraphize.getSafes(t),t=t.replace("<br>","\n"),t=this.paragraphize.convert(t),t=this.paragraphize.clear(t),t=this.paragraphize.restoreSafes(t),t=t.replace(new RegExp("<br\\s?/?>\n?<("+this.opts.paragraphizeBlocks.join("|")+")(.*?[^>])>","gi"),"<p><br /></p>\n<$1$2>"),e.trim(t))},getSafes:function(t){var n=e("<div />").append(t);return n.find("blockquote p").replaceWith(function(){return e(this).append("<br />").contents()}),n.find(this.opts.paragraphizeBlocks.join(", ")).each(e.proxy(function(t,n){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=n.outerHTML,e(n).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),n.find("span.redactor-selection-marker").each(e.proxy(function(t,n){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=n.outerHTML,e(n).replaceWith("n#####replace"+this.paragraphize.z+"#####nn")},this)),n.html()},restoreSafes:function(t){return e.each(this.paragraphize.safes,function(e,n){n=void 0!==n?n.replace(/\$/g,"&#36;"):n,t=t.replace("#####replace"+e+"#####",n)}),t},convert:function(t){t=t.replace(/\r\n/g,"xparagraphmarkerz"),t=t.replace(/\n/g,"xparagraphmarkerz"),t=t.replace(/\r/g,"xparagraphmarkerz");var n=/\s+/g;t=t.replace(n," "),t=e.trim(t);var i=/xparagraphmarkerzxparagraphmarkerz/gi;t=t.replace(i,"</p><p>");var r=/xparagraphmarkerz/gi;return t=t.replace(r,"<br>"),t="<p>"+t+"</p>",t=t.replace("<p></p>",""),t=t.replace("\r\n\r\n",""),t=t.replace(/<\/p><p>/g,"</p>\r\n\r\n<p>"),t=t.replace(new RegExp("<br\\s?/?></p>","g"),"</p>"),t=t.replace(new RegExp("<p><br\\s?/?>","g"),"<p>"),t=t.replace(new RegExp("<p><br\\s?/?>","g"),"<p>"),t=t.replace(new RegExp("<br\\s?/?></p>","g"),"</p>"),t=t.replace(/<p>&nbsp;<\/p>/gi,""),t=t.replace(/<p>\s?<br>&nbsp;<\/p>/gi,""),t=t.replace(/<p>\s?<br>/gi,"<p>")},clear:function(e){return e=e.replace(/<p>(.*?)#####replace(.*?)#####\s?<\/p>/gi,"<p>$1</p>#####replace$2#####"),e=e.replace(/(<br\s?\/?>){2,}<\/p>/gi,"</p>"),e=e.replace(new RegExp("</blockquote></p>","gi"),"</blockquote>"),e=e.replace(new RegExp("<p></blockquote>","gi"),"</blockquote>"),e=e.replace(new RegExp("<p><blockquote>","gi"),"<blockquote>"),e=e.replace(new RegExp("<blockquote></p>","gi"),"<blockquote>"),e=e.replace(new RegExp("<p><p ","gi"),"<p "),e=e.replace(new RegExp("<p><p>","gi"),"<p>"),e=e.replace(new RegExp("</p></p>","gi"),"</p>"),e=e.replace(new RegExp("<p>\\s?</p>","gi"),""),e=e.replace(new RegExp("\n</p>","gi"),"</p>"),e=e.replace(new RegExp("<p>\t?\t?\n?<p>","gi"),"<p>"),e=e.replace(new RegExp("<p>\t*</p>","gi"),"")}}},paste:function(){return{init:function(t){this.rtePaste=!0;var n=!("pre"!==this.opts.type&&!this.utils.isCurrentOrParent("pre"));if(this.detect.isDesktop()&&!this.paste.pre&&this.opts.clipboardImageUpload&&this.opts.imageUpload&&this.paste.detectClipboardUpload(t))return void(this.detect.isIe()&&setTimeout(e.proxy(this.paste.clipboardUpload,this),100));this.utils.saveScroll(),this.selection.save(),this.paste.createPasteBox(n),e(window).on("scroll.redactor-freeze",e.proxy(function(){e(window).scrollTop(this.saveBodyScroll)},this)),setTimeout(e.proxy(function(){var t=this.paste.getPasteBoxCode(n);this.buffer.set(),this.selection.restore(),this.utils.restoreScroll();var i=this.clean.getCurrentType(t);t=this.clean.onPaste(t,i);var r=this.core.callback("paste",t);t=void 0===r?t:r,this.paste.insert(t,i),this.rtePaste=!1,n&&this.clean.cleanPre(),e(window).off("scroll.redactor-freeze")},this),1)},getPasteBoxCode:function(e){var t=e?this.$pasteBox.val():this.$pasteBox.html();return this.$pasteBox.remove(),t},createPasteBox:function(t){var n={position:"fixed",width:"1px",top:0,left:"-9999px"};this.$pasteBox=t?e("<textarea>").css(n):e("<div>").attr("contenteditable","true").css(n),this.paste.appendPasteBox(),this.$pasteBox.focus()},appendPasteBox:function(){if(this.detect.isIe())this.core.box().append(this.$pasteBox);else{var t=e(".modal-body:visible");t.length>0?t.append(this.$pasteBox):e("body").prepend(this.$pasteBox)}},detectClipboardUpload:function(t){t=t.originalEvent||t;var n=t.clipboardData;if(this.detect.isIe())return!0;if(this.detect.isFirefox())return!1;if(-1!==n.types.indexOf("public.tiff"))return t.preventDefault(),!1;if(n.items&&n.items.length){var i=n.items[0].getAsFile();if(null===i)return!1;var r=new FileReader;return r.readAsDataURL(i),r.onload=e.proxy(this.paste.insertFromClipboard,this),!0}},clipboardUpload:function(){var t=this.$editor.find("img");e.each(t,e.proxy(function(t,n){if(-1!==n.src.search(/^data\:image/i)){var i=window.FormData?new FormData:null;if(window.FormData){this.buffer.set(),this.upload.direct=!0,this.upload.type="image",this.upload.url=this.opts.imageUpload,this.upload.callback=e.proxy(function(t){if(this.detect.isIe())e(n).wrap(e("<figure />"));else{var i=e(n).parent();this.utils.replaceToTag(i,"figure")}n.src=t.url,this.core.callback("imageUpload",e(n),t)},this);var r=this.utils.dataURItoBlob(n.src);i.append("clipboard",1),i.append(this.opts.imageUploadParam,r),this.progress.show(),this.upload.send(i,!1),this.code.sync()}}},this))},insertFromClipboard:function(e){var t=window.FormData?new FormData:null;if(window.FormData){this.buffer.set(),this.upload.direct=!0,this.upload.type="image",this.upload.url=this.opts.imageUpload,this.upload.callback=this.image.insert;var n=this.utils.dataURItoBlob(e.target.result);t.append("clipboard",1),t.append(this.opts.imageUploadParam,n),this.progress.show(),this.upload.send(t,e)}},insert:function(t,n){n.pre?this.insert.raw(t):n.text?this.insert.text(t):this.insert.html(t,n),this.detect.isFirefox()&&this.opts.clipboardImageUpload&&setTimeout(e.proxy(this.paste.clipboardUpload,this),100)}}},placeholder:function(){return{enable:function(){setTimeout(e.proxy(function(){return this.placeholder.isEditorEmpty()?this.placeholder.show():this.placeholder.hide()},this),5)},show:function(){this.core.editor().addClass("redactor-placeholder")},update:function(e){this.opts.placeholder=e,this.core.editor().attr("placeholder",e)},hide:function(){this.core.editor().removeClass("redactor-placeholder")},is:function(){return this.core.editor().hasClass("redactor-placeholder")},init:function(){this.placeholder.enabled()&&(this.utils.isEditorRelative()||this.utils.setEditorRelative(),this.placeholder.build(),this.placeholder.buildPosition(),this.placeholder.enable(),this.placeholder.enableEvents())},enabled:function(){return this.opts.placeholder?this.core.element().attr("placeholder",this.opts.placeholder):this.placeholder.isAttr()},enableEvents:function(){this.core.editor().on("keydown.redactor-placeholder."+this.uuid,e.proxy(this.placeholder.enable,this))},disableEvents:function(){this.core.editor().off(".redactor-placeholder."+this.uuid)},build:function(){this.core.editor().attr("placeholder",this.core.element().attr("placeholder"))},buildPosition:function(){var t=e("<style />");t.addClass("redactor-placeholder-style-tag"),t.html("#"+this.core.id()+".redactor-placeholder::after "+this.placeholder.getPosition()),e("head").append(t)},getPosition:function(){return"{ top: "+this.core.editor().css("padding-top")+"; left: "+this.core.editor().css("padding-left")+"; }"},isEditorEmpty:function(){var t=e.trim(this.core.editor().html()).replace(/[\t\n]/g,""),n=["","<p>​</p>","<p>​<br></p>"];return-1!==e.inArray(t,n)},isAttr:function(){return void 0!==this.core.element().attr("placeholder")&&""!==this.core.element().attr("placeholder")},destroy:function(){this.core.editor().removeAttr("placeholder"),this.placeholder.hide(),this.placeholder.disableEvents(),e(".redactor-placeholder-style-tag").remove()}}},progress:function(){return{$box:null,$bar:null,target:document.body,show:function(){this.progress.is()?this.progress.$box.show():(this.progress.build(),this.progress.$box.redactorAnimation("fadeIn"))},hide:function(){this.progress.is()&&this.progress.$box.redactorAnimation("fadeOut",{duration:.35},e.proxy(this.progress.destroy,this))},update:function(e){this.progress.show(),this.progress.$bar.css("width",e+"%")},is:function(){return null!==this.progress.$box},build:function(){this.progress.$bar=e("<span />"),this.progress.$box=e('<div id="redactor-progress" />'),this.progress.$box.append(this.progress.$bar),e(this.progress.target).append(this.progress.$box)},destroy:function(){this.progress.is()&&this.progress.$box.remove(),this.progress.$box=null,this.progress.$bar=null}}},selection:function(){return{get:function(){return window.getSelection?window.getSelection():document.selection&&"Control"!==document.selection.type?document.selection:null},range:function(e){return void 0===e&&(e=this.selection.get()),e.getRangeAt&&e.rangeCount?e.getRangeAt(0):null},is:function(){return!this.selection.isCollapsed()},isRedactor:function(){var t=this.selection.range();if(null!==t){var n=t.startContainer.parentNode;if(e(n).hasClass("redactor-in")||0!==e(n).parents(".redactor-in").length)return!0}return!1},isCollapsed:function(){var e=this.selection.get();return null!==e&&e.isCollapsed},update:function(e,t){null!==t&&(e.removeAllRanges(),e.addRange(t))},current:function(){var e=this.selection.get();return null!==e&&e.anchorNode},parent:function(){var e=this.selection.current();return null!==e&&e.parentNode},block:function(t){for(t=t||this.selection.current();t;){if(this.utils.isBlockTag(t.tagName))return!e(t).hasClass("redactor-in")&&t;t=t.parentNode}return!1},inline:function(t){for(t=t||this.selection.current();t;){if(this.utils.isInlineTag(t.tagName))return!e(t).hasClass("redactor-in")&&t;t=t.parentNode}return!1},element:function(t){for(t||(t=this.selection.current());t;){if(1===t.nodeType)return!e(t).hasClass("redactor-in")&&t;t=t.parentNode}return!1},prev:function(){return null!==this.selection.current()&&this.selection.current().previousSibling},next:function(){return null!==this.selection.current()&&this.selection.current().nextSibling},blocks:function(t){var n=[],i=this.selection.nodes(t);e.each(i,e.proxy(function(e,t){this.utils.isBlock(t)&&n.push(t)},this));var r=this.selection.block();return 0===n.length&&!1===r?[]:0===n.length&&!1!==r?[r]:n},inlines:function(t){var n=[],i=this.selection.nodes(t);e.each(i,e.proxy(function(e,t){this.utils.isInline(t)&&n.push(t)},this));var r=this.selection.inline();return 0===n.length&&!1===r?[]:0===n.length&&!1!==r?[r]:n},nodes:function(t){var n=void 0===t?[]:e.isArray(t)?t:[t],i=this.selection.get(),r=this.selection.range(i);if(this.utils.isCollapsed())return[this.selection.current()];var o=r.startContainer,a=r.endContainer;if(o===a)return[o];for(var s=[];o&&o!==a;)s.push(o=this.selection.nextNode(o));for(o=r.startContainer;o&&o!==r.commonAncestorContainer;)s.unshift(o),o=o.parentNode;var l=[];return e.each(s,function(t,i){var r=1===i.nodeType&&i.tagName.toLowerCase();e(i).hasClass("redactor-script-tag, redactor-selection-marker")||r&&0!==n.length&&-1===e.inArray(r,n)||l.push(i)}),0===l.length?[]:l},nextNode:function(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},save:function(){this.marker.insert(),this.savedSel=this.core.editor().html()},restore:function(e){var t=this.marker.find(1),n=this.marker.find(2);this.detect.isFirefox()&&this.core.editor().focus(),0!==t.length&&0!==n.length?this.caret.set(t,n):0!==t.length?this.caret.start(t):this.core.editor().focus(),!1!==e&&(this.marker.remove(),this.savedSel=!1)},node:function(t){e(t).prepend(this.marker.get(1)),e(t).append(this.marker.get(2)),this.selection.restore()},all:function(){this.core.editor().focus();var e=this.selection.get(),t=this.selection.range(e);t.selectNodeContents(this.core.editor()[0]),this.selection.update(e,t)},remove:function(){this.selection.get().removeAllRanges()},replace:function(e){this.insert.html(e)},text:function(){return this.selection.get().toString()},html:function(){var e="",t=this.selection.get();if(t.rangeCount){for(var n=document.createElement("div"),i=t.rangeCount,r=0;r<i;++r)n.appendChild(t.getRangeAt(r).cloneContents());e=this.clean.onGet(n.innerHTML)}return e},extractEndOfNode:function(e){var t=this.selection.get(),n=this.selection.range(t),i=n.cloneRange();return i.selectNodeContents(e),i.setStart(n.endContainer,n.endOffset),i.extractContents()},removeMarkers:function(){this.marker.remove()},marker:function(e){return this.marker.get(e)},markerHtml:function(e){return this.marker.html(e)}}},shortcuts:function(){return{hotkeysSpecialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hotkeysShiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},init:function(t,n){if(!1===this.opts.shortcuts)return!t.ctrlKey&&!t.metaKey||66!==n&&73!==n||t.preventDefault(),!1;e.each(this.opts.shortcuts,e.proxy(function(e,n){this.shortcuts.build(t,e,n)},this))},build:function(t,n,i){for(var r=e.proxy(function(){this.shortcuts.buildHandler(i)},this),o=n.split(","),a=o.length,s=0;s<a;s++)"string"==typeof o[s]&&this.shortcuts.handler(t,e.trim(o[s]),r)},buildHandler:function(e){var t;"-1"!==e.func.search(/\./)?(t=e.func.split("."),void 0!==this[t[0]]&&this[t[0]][t[1]].apply(this,e.params)):this[e.func].apply(this,e.params)},handler:function(t,n,i){n=n.toLowerCase().split(" ");var r=this.shortcuts.hotkeysSpecialKeys[t.keyCode],o=String.fromCharCode(t.which).toLowerCase(),a="",s={};e.each(["alt","ctrl","meta","shift"],function(e,n){t[n+"Key"]&&r!==n&&(a+=n+"+")}),r&&(s[a+r]=!0),o&&(s[a+o]=!0,s[a+this.shortcuts.hotkeysShiftNums[o]]=!0,"shift+"===a&&(s[this.shortcuts.hotkeysShiftNums[o]]=!0));for(var l=n.length,c=0;c<l;c++)if(s[n[c]])return t.preventDefault(),i.apply(this,arguments)}}},storage:function(){return{data:[],add:function(e){e.status=!0,e.url=decodeURI(this.link.removeSelfHostFromUrl(e.url)),this.storage.data[e.url]=e},status:function(e,t){this.storage.data[decodeURI(e)].status=t},observe:function(){var t=this;this.core.editor().find("[data-image]").each(function(n,i){t.storage.add({type:"image",node:i,url:i.src,id:e(i).attr("data-image")})}),this.core.editor().find("[data-file]").each(function(n,i){t.storage.add({type:"file",node:i,url:i.href,id:e(i).attr("data-file")})}),this.core.editor().find("[data-s3]").each(function(n,i){var r="IMG"===i.tagName?i.src:i.href;t.storage.add({type:"s3",node:i,url:r,id:e(i).attr("data-s3")})})},changes:function(){for(var e in this.storage.data){var t=this.storage.data[e],n="IMG"===t.node.tagName?"src":"href";0===this.core.editor().find("[data-"+t.type+"]["+n+'="'+t.url+'"]').length?this.storage.status(t.url,!1):this.storage.status(t.url,!0)}return this.storage.data}}},toolbar:function(){return{build:function(){this.button.hideButtons(),this.button.hideButtonsOnMobile(),this.$toolbar=this.toolbar.createContainer(),this.toolbar.append(),this.button.$toolbar=this.$toolbar,this.button.setFormatting(),this.button.load(this.$toolbar),this.toolbar.setFixed()},createContainer:function(){return e("<ul>").addClass("redactor-toolbar").attr({id:"redactor-toolbar-"+this.uuid,role:"toolbar"})},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),e(this.opts.toolbarExternal).html(this.$toolbar)):"textarea"===this.opts.type?this.$box.prepend(this.$toolbar):this.$element.before(this.$toolbar)},setFixed:function(){if(this.opts.toolbarFixed&&!this.opts.toolbarExternal){if(this.opts.toolbarFixedTarget!==document){var t=e(this.opts.toolbarFixedTarget);this.toolbarOffsetTop=0===t.length?0:this.core.box().offset().top-t.offset().top}var n=0!==this.core.box().closest(".modal-body").length?1e3:0;setTimeout(e.proxy(function(){if(this.toolbar.observeScroll(!1),this.detect.isDesktop())e(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,e.proxy(this.toolbar.observeScroll,this));else{var t=this;e(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){t.core.toolbar().hide(),clearTimeout(e.data(this,"scrollCheck")),e.data(this,"scrollCheck",setTimeout(function(){t.core.toolbar().show(),t.toolbar.observeScroll()},250))})}},this),n)}},getBoxTop:function(){return this.opts.toolbarFixedTarget===document?this.core.box().offset().top:this.toolbarOffsetTop},observeScroll:function(t){var n=0;!1!==t&&(n=this.opts.toolbarFixedTarget===document?20:0);var i=e(this.opts.toolbarFixedTarget).scrollTop(),r=this.toolbar.getBoxTop();i!==r&&(i+this.opts.toolbarFixedTopOffset+n>r?this.toolbar.observeScrollEnable(i,r):this.toolbar.observeScrollDisable())},observeScrollResize:function(){this.$toolbar.css({width:this.core.box().innerWidth(),left:this.core.box().offset().left})},observeScrollEnable:function(t,n){if(void 0!==this.fullscreen&&!1===this.fullscreen.isOpened)return void this.toolbar.observeScrollDisable();var i=n+this.core.box().outerHeight()-32,r=this.core.box().innerWidth(),o=this.detect.isDesktop()?"fixed":"absolute",a=this.detect.isDesktop()?this.opts.toolbarFixedTopOffset:e(this.opts.toolbarFixedTarget).scrollTop()-n,s=this.detect.isDesktop()?this.core.box().offset().left:0;this.opts.toolbarFixedTarget!==document&&(o="absolute",a=this.opts.toolbarFixedTopOffset+e(this.opts.toolbarFixedTarget).scrollTop()-n,s=0),this.$toolbar.addClass("toolbar-fixed-box"),this.$toolbar.css({position:o,width:r,top:a,left:s}),t>i&&e(".redactor-dropdown-"+this.uuid+":visible").hide(),this.toolbar.setDropdownsFixed(),this.$toolbar.css("visibility",t<i?"visible":"hidden"),e(window).on("resize.redactor-toolbar."+this.uuid,e.proxy(this.toolbar.observeScrollResize,this))},observeScrollDisable:function(){this.$toolbar.css({position:"relative",width:"auto",top:0,left:0,visibility:"visible"}),this.toolbar.unsetDropdownsFixed(),this.$toolbar.removeClass("toolbar-fixed-box"),e(window).off("resize.redactor-toolbar."+this.uuid)},setDropdownsFixed:function(){var e=this.opts.toolbarFixedTarget===document&&this.detect.isDesktop()?"fixed":"absolute";this.toolbar.setDropdownPosition(e)},unsetDropdownsFixed:function(){this.toolbar.setDropdownPosition("absolute")},setDropdownPosition:function(t){var n=this;e(".redactor-dropdown-"+this.uuid).each(function(){var i=e(this),r=n.button.get(i.attr("rel")),o="fixed"===t?n.opts.toolbarFixedTopOffset:r.offset().top;i.css({position:t,top:r.innerHeight()+o+"px"})})}}},upload:function(){return{init:function(t,n,i){this.upload.direct=!1,this.upload.callback=i,this.upload.url=n,this.upload.$el=e(t),this.upload.$droparea=e('<div id="redactor-droparea" />'),this.upload.$placeholdler=e('<div id="redactor-droparea-placeholder" />').text(this.lang.get("upload-label")),this.opts.multipleImageUpload?this.upload.$input=e('<input type="file" name="file" multiple/>'):this.upload.$input=e('<input type="file" name="file" />'),this.upload.$placeholdler.append(this.upload.$input),this.upload.$droparea.append(this.upload.$placeholdler),this.upload.$el.append(this.upload.$droparea),this.upload.$droparea.off("redactor.upload"),this.upload.$input.off("redactor.upload"),this.upload.$droparea.on("dragover.redactor.upload",e.proxy(this.upload.onDrag,this)),this.upload.$droparea.on("dragleave.redactor.upload",e.proxy(this.upload.onDragLeave,this)),this.upload.$input.on("change.redactor.upload",e.proxy(function(e){this.upload._multipleFileUpload(this.upload.$input[0].files,e)},this)),this.upload.$droparea.on("drop.redactor.upload",e.proxy(function(e){e.preventDefault(),this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop"),this.upload.onDrop(e)},this))},directUpload:function(e,t){this.upload.direct=!0,this.upload.traverseFile(e,t)},onDrop:function(e){var t=e.dataTransfer.files;this.upload._multipleFileUpload(t,e)},_multipleFileUpload:function(e,t){if(t=t.originalEvent||t,this.opts.multipleImageUpload)for(var n=e.length,i=0;i<n;i++)this.upload.traverseFile(e[i],t);else this.upload.traverseFile(e[0],t)},traverseFile:function(e,t){if(this.opts.s3)return this.upload.setConfig(e),void this.uploads3.send(e,t);var n=window.FormData?new FormData:null;if(window.FormData){this.upload.setConfig(e);var i="image"===this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam;n.append(i,e)}this.progress.show(),this.core.callback("uploadStart",t,n),this.upload.send(n,t)},setConfig:function(e){this.upload.getType(e),this.upload.direct&&(this.upload.url="image"===this.upload.type?this.opts.imageUpload:this.opts.fileUpload,this.upload.callback="image"===this.upload.type?this.image.insert:this.file.insert)},getType:function(e){this.upload.type=-1===this.opts.imageTypes.indexOf(e.type)?"file":"image",null===this.opts.imageUpload&&null!==this.opts.fileUpload&&(this.upload.type="file")},getHiddenFields:function(t,n){return!1===t||"object"!=typeof t?n:(e.each(t,e.proxy(function(t,i){null!==i&&0===i.toString().indexOf("#")&&(i=e(i).val()),n.append(t,i)},this)),n)},send:function(t,n){"image"===this.upload.type?(t=this.utils.appendFields(this.opts.imageUploadFields,t),t=this.utils.appendForms(this.opts.imageUploadForms,t),t=this.upload.getHiddenFields(this.upload.imageFields,t)):(t=this.utils.appendFields(this.opts.fileUploadFields,t),t=this.utils.appendForms(this.opts.fileUploadForms,t),t=this.upload.getHiddenFields(this.upload.fileFields,t));var i=new XMLHttpRequest;i.open("POST",this.upload.url),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.onreadystatechange=e.proxy(function(){if(4===i.readyState){var t=i.responseText;t=t.replace(/^\[/,""),t=t.replace(/\]$/,"");var r;try{r="string"==typeof t?e.parseJSON(t):t}catch(e){r={error:!0}}this.progress.hide(),this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),this.upload.callback(r,this.upload.direct,n)}},this),i.send(t)},onDrag:function(e){e.preventDefault(),this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(e){e.preventDefault(),this.upload.$droparea.removeClass("drag-hover")},clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(e,t){this.upload.imageFields[e]=t},removeImageFields:function(e){delete this.upload.imageFields[e]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(e,t){this.upload.fileFields[e]=t},removeFileFields:function(e){delete this.upload.fileFields[e]}}},uploads3:function(){return{send:function(t,n){this.uploads3.executeOnSignedUrl(t,e.proxy(function(e){this.uploads3.sendToS3(t,e,n)},this))},executeOnSignedUrl:function(e,t){var n=new XMLHttpRequest,i=-1===this.opts.s3.search(/\?/)?"?":"&";n.open("GET",this.opts.s3+i+"name="+encodeURIComponent(e.name)+"&type="+e.type,!0),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined");var r=this;n.onreadystatechange=function(e){4===this.readyState&&200===this.status&&(r.progress.show(),t(decodeURIComponent(this.responseText)))},n.send()},createCORSRequest:function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n},sendToS3:function(t,n,i){var r=this.uploads3.createCORSRequest("PUT",n);r&&(r.onload=e.proxy(function(){var e;if(this.progress.hide(),200!==r.status)return e={error:!0},void this.upload.callback(e,this.upload.direct,r);var t=n.split("?");if(!t[0])return!1;if(this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),e={url:t[0],id:t[0],s3:!0},"file"===this.upload.type){var o=t[0].split("/");e.name=o[o.length-1]}this.upload.callback(e,this.upload.direct,i)},this),r.onerror=function(){},r.upload.onprogress=function(e){},r.setRequestHeader("Content-Type",t.type),r.setRequestHeader("x-amz-acl","public-read"),r.send(t))}}},utils:function(){return{isEmpty:function(t){return t=void 0===t?this.core.editor().html():t,t=t.replace(/[\u200B-\u200D\uFEFF]/g,""),t=t.replace(/&nbsp;/gi,""),t=t.replace(/<\/?br\s?\/?>/g,""),t=t.replace(/\s/g,""),t=t.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,""),t=t.replace(/<iframe(.*?[^>])>$/i,"iframe"),t=t.replace(/<source(.*?[^>])>$/i,"source"),t=t.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),t=t.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),""===(t=e.trim(t))},isElement:function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}},strpos:function(e,t,n){var i=e.indexOf(t,n);return i>=0&&i},dataURItoBlob:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return new Blob([i],{type:n})},getOuterHtml:function(t){return e("<div>").append(e(t).eq(0).clone()).html()},cloneAttributes:function(t,n){t=t[0]||t,n=e(n);for(var i=t.attributes,r=i.length;r--;){var o=i[r];n.attr(o.name,o.value)}return n},breakBlockTag:function(){var t=this.selection.block();if(!t)return!1;var n=this.utils.isEmpty(t.innerHTML),i=t.tagName.toLowerCase();if("pre"===i||"li"===i||"td"===i||"th"===i)return!1;if(!n&&this.utils.isStartOfElement(t))return{$block:e(t),$next:e(t).next(),type:"start"};if(!n&&this.utils.isEndOfElement(t))return{$block:e(t),$next:e(t).next(),type:"end"};var r=this.selection.extractEndOfNode(t),o=e("<"+i+" />").append(r);return o=this.utils.cloneAttributes(t,o),e(t).after(o),{$block:e(t),$next:o,type:"break"}},inBlocks:function(t){t=e.isArray(t)?t:[t];for(var n=this.selection.blocks(),i=n.length,r=!1,o=0;o<i;o++)if(!1!==n[o]){var a=n[o].tagName.toLowerCase();-1!==e.inArray(a,t)&&(r=!0)}return r},inInlines:function(t){t=e.isArray(t)?t:[t];for(var n=this.selection.inlines(),i=n.length,r=!1,o=0;o<i;o++){var a=n[o].tagName.toLowerCase();-1!==e.inArray(a,t)&&(r=!0)}return r},isTag:function(t,n){var i=e(t).closest(n,this.core.editor()[0]);return 1===i.length&&i[0]},isBlock:function(e){return null!==e&&((e=e[0]||e)&&this.utils.isBlockTag(e.tagName))},isBlockTag:function(e){return void 0!==e&&this.reIsBlock.test(e)},isInline:function(e){return(e=e[0]||e)&&this.utils.isInlineTag(e.tagName)},isInlineTag:function(e){return void 0!==e&&this.reIsInline.test(e)},isRedactorParent:function(t){return!!t&&(0!==e(t).parents(".redactor-in").length&&!e(t).hasClass("redactor-in")&&t)},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent(["H1","H2","H3","H4","H5","H6"])},isCurrentOrParent:function(t){var n=this.selection.parent(),i=this.selection.current();if(e.isArray(t)){var r=0;return e.each(t,e.proxy(function(e,t){this.utils.isCurrentOrParentOne(i,n,t)&&r++},this)),0!==r}return this.utils.isCurrentOrParentOne(i,n,t)},isCurrentOrParentOne:function(e,t,n){return n=n.toUpperCase(),t&&t.tagName===n?t:!(!e||e.tagName!==n)&&e},isEditorRelative:function(){var t=this.core.editor().css("position"),n=["absolute","fixed","relative"];return-1!==e.inArray(n,t)},setEditorRelative:function(){this.core.editor().addClass("redactor-relative")},freezeScroll:function(){this.freezeScrollTop=e(document).scrollTop(),e(document).scrollTop(this.freezeScrollTop)},unfreezeScroll:function(){void 0!==this.freezeScrollTop&&e(document).scrollTop(this.freezeScrollTop)},saveScroll:function(){this.tmpScrollTop=e(document).scrollTop()},restoreScroll:function(){void 0!==this.tmpScrollTop&&e(document).scrollTop(this.tmpScrollTop)},isStartOfElement:function(e){return!(void 0===e&&!(e=this.selection.block()))&&0===this.offset.get(e)},isEndOfElement:function(t){if(void 0===t&&!(t=this.selection.block()))return!1;var n=e.trim(e(t).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"");return this.offset.get(t)===n.length},removeEmptyAttr:function(t,n){var i=e(t);return void 0===i.attr(n)||""===i.attr(n)&&(i.removeAttr(n),!0)},replaceToTag:function(t,n){var i;return e(t).replaceWith(function(){i=e("<"+n+" />").append(e(this).contents());for(var t=0;t<this.attributes.length;t++)i.attr(this.attributes[t].name,this.attributes[t].value);return i}),i},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=!0},disableSelectAll:function(){this.selectAll=!1},disableBodyScroll:function(){var t=e("html"),n=window.innerWidth;if(!n){var i=document.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}var r=document.body.clientWidth<n,o=this.utils.measureScrollbar();t.css("overflow","hidden"),r&&t.css("padding-right",o)},measureScrollbar:function(){var t=e("body"),n=document.createElement("div");n.className="redactor-scrollbar-measure",t.append(n);var i=n.offsetWidth-n.clientWidth;return t[0].removeChild(n),i},enableBodyScroll:function(){e("html").css({overflow:"","padding-right":""}),e("body").remove("redactor-scrollbar-measure")},appendFields:function(t,n){if(!t)return n;if("object"==typeof t)return e.each(t,function(t,i){null!==i&&0===i.toString().indexOf("#")&&(i=e(i).val()),n.append(t,i)}),n;var i=e(t);if(0===i.length)return n;return i.each(function(){n.append(e(this).attr("name"),e(this).val())}),n},appendForms:function(t,n){if(!t)return n;var i=e(t);if(0===i.length)return n;var r=i.serializeArray();return e.each(r,function(e,t){n.append(t.name,t.value)}),n},isCollapsed:function(){return this.selection.isCollapsed()},isMobile:function(){return this.detect.isMobile()},isDesktop:function(){return this.detect.isDesktop()},isPad:function(){return this.detect.isIpad()}}},browser:function(){return{webkit:function(){return this.detect.isWebkit()},ff:function(){return this.detect.isFirefox()},ie:function(){return this.detect.isIe()}}}},e(window).on("load.tools.redactor",function(){e('[data-tools="redactor"]').redactor()}),t.prototype.init.prototype=t.prototype}(e),function(e){function t(t,n,i,r){var o={duration:.5,iterate:1,delay:0,prefix:"redactor-",timing:"linear"};this.animation=n,this.slide="slideDown"===this.animation||"slideUp"===this.animation,this.$element=e(t),this.prefixes=["","-moz-","-o-animation-","-webkit-"],this.queue=[],"function"==typeof i?(r=i,this.opts=o):this.opts=e.extend(o,i),this.slide&&this.$element.height(this.$element.height()),this.init(r)}e.fn.redactorAnimation=function(e,n,i){return this.each(function(){new t(this,e,n,i)})},t.prototype={init:function(e){this.queue.push(this.animation),this.clean(),"show"===this.animation?(this.opts.timing="linear",this.$element.removeClass("hide").show(),"function"==typeof e&&e(this)):"hide"===this.animation?(this.opts.timing="linear",this.$element.hide(),"function"==typeof e&&e(this)):this.animate(e)},animate:function(t){this.$element.addClass("animated").css("display","").removeClass("hide"),this.$element.addClass(this.opts.prefix+this.queue[0]),this.set(this.opts.duration+"s",this.opts.delay+"s",this.opts.iterate,this.opts.timing);var n=this.queue.length>1?null:t;this.complete("AnimationEnd",e.proxy(function(){this.$element.hasClass(this.opts.prefix+this.queue[0])&&(this.clean(),this.queue.shift(),this.queue.length&&this.animate(t))},this),n)},set:function(e,t,n,i){for(var r=this.prefixes.length;r--;)this.$element.css(this.prefixes[r]+"animation-duration",e),this.$element.css(this.prefixes[r]+"animation-delay",t),this.$element.css(this.prefixes[r]+"animation-iteration-count",n),this.$element.css(this.prefixes[r]+"animation-timing-function",i)},clean:function(){this.$element.removeClass("animated"),this.$element.removeClass(this.opts.prefix+this.queue[0]),this.set("","","","")},complete:function(t,n,i){this.$element.one(t.toLowerCase()+" webkit"+t+" o"+t+" MS"+t,e.proxy(function(){"function"==typeof n&&n(),"function"==typeof i&&i(this);var t=["fadeOut","slideUp","zoomOut","slideOutUp","slideOutRight","slideOutLeft"];-1!==e.inArray(this.animation,t)&&this.$element.css("display","none"),this.slide&&this.$element.css("height","")},this))}}}(e)}).call(t,n("./node_modules/jquery/dist/jquery.js-exposed"))}});
//# sourceMappingURL=async-vendor.9aa7a2297786d4c6f1f9.js.map